(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[734],{2167:function(e,t,s){Promise.resolve().then(s.bind(s,90035))},90035:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return d}});var n=s(57437),i=s(10061),a=s(2265);async function l(){console.log("Creating and importing a credential");let e="unsafepass",{Features:t,DefaultDIDAdapter:n,DIDBackend:i,DIDStore:a,RootIdentity:l,Mnemonic:r,Issuer:o,VerifiableCredential:c,DID:d}=await Promise.all([s.e(787),s.e(443),s.e(218),s.e(431),s.e(368)]).then(s.bind(s,26588)),{didAccessV2:u}=await Promise.resolve().then(s.bind(s,11920));t.enableJsonLdContext(!0),i.initialize(new n("mainnet"));let m=await a.open("client-side-store"),p=await l.createFromMnemonic(r.getInstance().generate(),"",m,e,!0);console.log("Created identity:",p);let h=await p.newDid(e,0,!0);console.log("Issuer DID:",h);let x=await o.create(h);console.log("Issuer:",x);let f=d.from("did:elastos:insTmxdDDuS9wHHfeYD1h5C2onEHh3D8Vq");console.log("Target DID:",f);let w=new c.Builder(x,f),C=await w.id("#testinstance1268").properties({stub:"test",displayable:{icon:"nowhere",title:"Medical certificate",description:"${prescription1}"}}).type("did://elastos/insTmxdDDuS9wHHfeYD1h5C2onEHh3D8Vq/CredTypeWithService#CredTypeWithService").seal(e);console.log("Generated credential:",C);let v=await u.importCredentials([C]);return console.log("Imported credentials:",v),v}let r=()=>{let[e,t]=(0,a.useState)(!1),[r,o]=(0,a.useState)(null);(0,a.useEffect)(()=>{let e=null;return setTimeout(async()=>{let{didAccessV2:t}=await Promise.resolve().then(s.bind(s,11920));e=t.onImportCredentialsResponse((e,t)=>{console.log("onImportCredentialsResponse",e,t),o(t)})},500),()=>e},[]);let c=async()=>{t(!0),await l()};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.c,{onClick:c,busy:e,children:"Import credential"}),r&&(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)("div",{className:"mb-6",children:"Credentials that have been imported:"}),r.map((e,t)=>(0,n.jsx)("div",{className:"text-sm max-w-xl break-words",children:e.id.toString()},t))]})]})};var o=s(11920);let c=()=>{let[e,t]=(0,a.useState)(!1),[s,l]=(0,a.useState)(null);(0,a.useEffect)(()=>{let e=null;return setTimeout(()=>{e=o.didAccessV2.onRequestCredentialsResponse((e,t)=>{console.log("onRequestCredentialsResponse",e,t),l(t)})},500),()=>e},[]);let r=async()=>{t(!0),await o.didAccessV2.requestCredentials({claims:[o.y7.simpleTypeClaim("Your name","NameCredential",!1)]},{purpose:"authenticate user",customJson:{appData:123}})};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.c,{onClick:r,busy:e,children:"Request name credential"}),s&&(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)("div",{className:"mb-6",children:"Presentation has been received:"}),(0,n.jsx)("div",{className:" text-sm max-w-xl break-words",children:s.toString()})]})]})};var d=()=>(0,n.jsx)("div",{className:"col-span-full",children:(0,n.jsxs)("div",{className:"flex flex-col gap-4 items-center",children:[(0,n.jsx)(c,{}),(0,n.jsx)(r,{})]})})},10061:function(e,t,s){"use strict";s.d(t,{c:function(){return l}});var n=s(57437),i=s(6882),a=s(12510);let l=e=>{let{leftIcon:t,size:s="medium",onClick:l,children:r,busy:o=!1}=e,c=(0,n.jsx)(i.Z,{size:16});return(0,n.jsx)(a.Z,{startIcon:o?c:t,disabled:o,size:s,variant:"contained",onClick:l,children:r})}}},function(e){e.O(0,[990,988,18,310,670,971,596,744],function(){return e(e.s=2167)}),_N_E=e.O()}]);