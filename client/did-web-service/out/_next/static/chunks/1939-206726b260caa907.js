"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1939],{80072:function(e,t,n){var r=n(57437),l=n(2265),s=n(35843),o=n(71711),i=n(52653),a=n(81679),c=n(49605),u=n(4193),d=n(57042);let f=(0,s.ZP)(o.Z)(e=>{let{theme:t}=e;return{input:{color:"white",marginTop:20}}}),p=(0,s.ZP)(i.Z)(e=>{let{theme:t}=e;return{color:"white"}});t.Z=e=>{let{outerProps:t={},inputProps:n={}}=e,[s,o]=l.useState(!1);return(0,r.jsx)(f,{...t,type:s?"input":"password",className:(0,d.Z)("password-input",!s&&"redacted"),inputProps:{maxLength:100,...n},startAdornment:(0,r.jsx)(a.Z,{position:"start",className:"absolute"}),endAdornment:(0,r.jsx)(a.Z,{position:"end",children:(0,r.jsx)(p,{"aria-label":"toggle password visibility",onClick:()=>o(e=>!e),onMouseDown:e=>{e.preventDefault()},children:s?(0,r.jsx)(u.Z,{}):(0,r.jsx)(c.Z,{})})})})}},66267:function(e,t,n){n.d(t,{C:function(){return i}});var r=n(57437),l=n(35843),s=n(3283),o=n(43226);let i=(0,l.ZP)(s.Z)(e=>{let{theme:t}=e;return{backgroundColor:"#9D3E3E",color:"white",width:36,height:36,padding:8}});t.Z=e=>{let{icon:t,title:n,description:l,className:s=""}=e;return(0,r.jsxs)("div",{className:"text-[#DDD] ".concat(s),children:[(0,r.jsx)("div",{className:"inline-flex pb-1",children:(0,r.jsx)(i,{children:t})}),(0,r.jsx)(o.Z,{variant:"body1",className:"underline underline-offset-2",children:n}),(0,r.jsx)(o.Z,{variant:"body2",children:l})]})}},49017:function(e,t,n){var r=n(35843),l=n(84081);let s=(0,r.ZP)(l.Z)(e=>{let{theme:t}=e;return{".MuiInput-root":{marginTop:0,"&:before, &:after":{opacity:.18,borderColor:"white"}},".MuiInputBase-root.MuiInput-root:hover:not(.Mui-disabled, .Mui-error)":{"&:before, &:after":{opacity:.18,borderColor:"white"}},".MuiInput-root.Mui-focused":{"&:before, &:after":{opacity:.3}},".MuiInputLabel-root, .MuiInputLabel-root.Mui-focused:not(.Mui-error)":{color:"white",fontSize:"10px",transform:"unset",WebkitTransform:"unset"},"#holder-name":{fontWeight:600,fontSize:"15pt",textAlign:"center",caretColor:"white",color:"rgb(255 255 255 / 65%)"},".password-input.redacted":{fontFamily:"Redacted Script"},".MuiFormHelperText-root":{marginLeft:0,display:"none"},".MuiFormHelperText-root.Mui-error":{display:"block"}}});t.Z=s},9254:function(e,t,n){n.d(t,{c:function(){return i}});var r=n(57437),l=n(6882),s=n(49050),o=n(57042);let i=e=>{let{leftIcon:t,size:n="medium",mode:i="default",onClick:a,children:c,busy:u=!1,disabled:d=!1,className:f}=e,p=(0,r.jsx)(l.Z,{size:16});return(0,r.jsx)("div",{className:(0,o.Z)("flex",f),children:(0,r.jsx)(s.Z,{className:"flex-1",startIcon:u?p:t,disabled:u||d,size:n,color:"default"===i?"primary":"error",variant:"contained",onClick:a,children:c})})}},70906:function(e,t,n){n.d(t,{au:function(){return I},lJ:function(){return A},NX:function(){return V}});var r=n(57437),l=n(2265),s=n(64101),o=n(56176),i=n(35843),a=n(22079),c=n(43226),u=n(40542),d=n(95815),f=n(94025),p=n(5253),h=n(29748),x=n(7482),m=n(36079),b=n(50707),v=n(14776),j=n(39830),y=n(10146);let k=e=>{let{onConfirm:t,disabled:n}=e,[l]=(0,u.V)(v.jU),s=null==l?void 0:l.get("security"),o=async()=>{let e=await s.unlockPasskeyLocally();t(e)};return(0,r.jsx)(y.Kz,{id:"bind-ms",className:"w-4/5",startIcon:(0,r.jsx)(j.JO,{icon:"material-symbols:passkey"}),disabled:n,onClick:o,children:"Unlock with passkey"})};var w=n(50819),Z=n(49017),C=n(80072);let g=e=>{let{onConfirm:t,disabled:n}=e,[s,o]=(0,l.useState)(""),i=(0,l.useRef)(null),a=e=>{if(e.preventDefault(),!i.current.value){i.current.focus();return}t(i.current.value)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("form",{onSubmit:a,children:(0,r.jsxs)(Z.Z,{fullWidth:!0,children:[(0,r.jsx)(w.Z,{htmlFor:"pw",children:"PASSWORD"}),(0,r.jsx)(C.Z,{outerProps:{disabled:n,onChange:e=>{o(e.target.value)}},inputProps:{ref:i}})]})}),(0,r.jsx)("div",{className:"p-2 pb-0 text-center",children:(0,r.jsx)(y.Kz,{id:"bind-ms",className:"w-4/5",disabled:n||!s.length,onClick:a,children:"Continue"})})]})};var N=n(51894),P=n(53946),M=n(66267),S=n(39513),U=n(14504);let E=(0,l.createContext)({actions:null,setActions:null});function I(e){let[t,n]=(0,l.useState)(null);return(0,r.jsxs)(E.Provider,{value:{actions:t,setActions:n},children:[e.children,(0,r.jsx)(z,{})]})}let D=l.forwardRef(function(e,t){return(0,r.jsx)(o.Z,{ref:t,...e})}),K=(0,i.ZP)("div")(e=>{let{theme:t}=e;return{background:"linear-gradient(to right, #242424, #333 50%, transparent)"}}),z=()=>{let{actions:e,setActions:t}=(0,l.useContext)(E),[n]=(0,u.V)(v.jU),o=null==n?void 0:n.get("security"),[i]=(0,u.V)(null==o?void 0:o.passwordKeys$),[d]=(0,u.V)(null==o?void 0:o.passkeyKeys$),{promptMasterKeyUnlock:f}=A(),h=()=>{t(null)};return(0,l.useEffect)(()=>{let e=P.lw.subscribe(e=>{e&&!e.handled&&(e.handled=!0,T(e,f))});return()=>e.unsubscribe()},[f]),(0,r.jsx)(a.Z,{open:!!e,disablePortal:!0,onClose:()=>{var t;null===(t=e.onUnlockKey)||void 0===t||t.call(e,null),h()},TransitionComponent:D,PaperProps:{sx:{backgroundImage:"none"}},children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)(K,{className:"flex items-center gap-x-2 px-4 py-2",children:[(0,r.jsx)(M.C,{children:(0,r.jsx)(s.Z,{fontSize:"small"})}),(0,r.jsx)(c.Z,{variant:"h6",fontWeight:600,className:"ml-4",children:"Screen content is locked!"})]}),(0,r.jsx)(c.Z,{variant:"body1",className:"px-4 py-2",children:"Enter password or authenticate passkey to unlock the screen."}),(0,r.jsx)(S.CA,{className:"relative w-full mt-4 md:pb-2",children:(0,r.jsx)("div",{className:"absolute inset-0 p-2",children:(0,r.jsx)("div",{className:"dashed-body w-full h-full rounded-2xl p-1.5 flex items-center",children:(0,r.jsx)("div",{className:"px-6 py-8 w-full",children:(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsx)(g,{onConfirm:t=>{var n;null===(n=e.onUnlockKey)||void 0===n||n.call(e,{type:p.J.PASSWORD,keyId:"unused-for-now-for-passwords",key:t}),h()},disabled:(null==i?void 0:i.length)==0}),(0,r.jsxs)("div",{className:"p-2 pt-0 text-center",children:[(0,r.jsx)("div",{className:"py-4",children:(0,r.jsx)(U.Z,{text:"or browser authentication"})}),(0,r.jsx)(k,{onConfirm:t=>{var n;null===(n=e.onUnlockKey)||void 0===n||n.call(e,t),h()},disabled:(null==d?void 0:d.length)==0})]})]})})})})})]})})};function V(){let[e]=(0,u.V)(P.Mn),[t,n]=(0,l.useState)(!0),[r,s]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{switch(e){case P.xb.Idle:n(!0),s(!1);break;case P.xb.UnlockCancelled:n(!1),s(!0)}},[e]),{unlockerIsIdle:t,unlockerIsCancelled:r}}let A=()=>{let{setActions:e}=(0,l.useContext)(E),[t]=(0,u.V)(v.jU);return{promptMasterKeyUnlock:()=>new Promise(t=>{e({onUnlockKey:t})}),retryUnlock:()=>(0,N.H)(()=>t.get("security").checkRemoteUnlockStatus())}};async function T(e,t){try{let t=await (0,h.Pt)(()=>e.method());e.resolve(t)}catch(n){if(n instanceof d._&&(0,b.z)(n)){m.k.warn("security","This method call requires unlock authorization from the user. Prompting");let n=await t();if(n){await (0,x.wo)(n);let t=await (0,N.H)(e.method,e.silentCancellation,e.defaultValue,!1);e.resolve(t)}else P.Mn.next(P.xb.UnlockCancelled),m.k.warn("security","Unlock operation cancelled by user"),e.reject(d._.newClientError(f.XF.UnlockKeyCancelled,"CANCELLED"))}else m.k.error("security","Unhandled callWithUnlock() exception (will get stuck):",n)}}},14504:function(e,t,n){var r=n(57437),l=n(35843),s=n(54986),o=n(43226),i=n(57042);let a=(0,l.ZP)(s.Z)(e=>{let{theme:t}=e;return{"&:before, &:after":{borderTopColor:"#C4C4C4"}}});t.Z=e=>{let{text:t,textClassName:n=""}=e;return(0,r.jsx)(a,{children:(0,r.jsx)(o.Z,{variant:"caption",className:(0,i.Z)("px-4 font-bold text-white",n),children:t})})}},40542:function(e,t,n){n.d(t,{V:function(){return l}});var r=n(2265);let l=e=>{let[t,n]=(0,r.useState)(null==e?void 0:e.getValue()),[l,s]=(0,r.useState)();return(0,r.useEffect)(()=>{if(!e){n(null);return}let t=e.subscribe({next:e=>{n(e)},error:s});return()=>t.unsubscribe()},[e]),[t]}}}]);