(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[475],{83104:function(p,g,y){!function(){var g={528:function(p,g,y){var m=y(685),v=y(310),_=p.exports;for(var b in m)m.hasOwnProperty(b)&&(_[b]=m[b]);function validateParams(p){if("string"==typeof p&&(p=v.parse(p)),p.protocol||(p.protocol="https:"),"https:"!==p.protocol)throw Error('Protocol "'+p.protocol+'" not supported. Expected "https:"');return p}_.request=function(p,g){return p=validateParams(p),m.request.call(this,p,g)},_.get=function(p,g){return p=validateParams(p),m.get.call(this,p,g)}},685:function(p){"use strict";p.exports=y(45296)},310:function(p){"use strict";p.exports=y(40692)}},m={};function __nccwpck_require__(p){var y=m[p];if(void 0!==y)return y.exports;var v=m[p]={exports:{}},_=!0;try{g[p](v,v.exports,__nccwpck_require__),_=!1}finally{_&&delete m[p]}return v.exports}__nccwpck_require__.ab="//";var v=__nccwpck_require__(528);p.exports=v}()},40692:function(p,g,y){!function(){var g={452:function(p){"use strict";p.exports=y(9875)}},m={};function __nccwpck_require__(p){var y=m[p];if(void 0!==y)return y.exports;var v=m[p]={exports:{}},_=!0;try{g[p](v,v.exports,__nccwpck_require__),_=!1}finally{_&&delete m[p]}return v.exports}__nccwpck_require__.ab="//";var v={};!function(){var p,g=(p=__nccwpck_require__(452))&&"object"==typeof p&&"default"in p?p.default:p,y=/https?|ftp|gopher|file/;function r(p){"string"==typeof p&&(p=d(p));var m,v,_,b,w,S,T,E,R,P=(v=(m=p).auth,_=m.hostname,b=m.protocol||"",w=m.pathname||"",S=m.hash||"",T=m.query||"",E=!1,v=v?encodeURIComponent(v).replace(/%3A/i,":")+"@":"",m.host?E=v+m.host:_&&(E=v+(~_.indexOf(":")?"["+_+"]":_),m.port&&(E+=":"+m.port)),T&&"object"==typeof T&&(T=g.encode(T)),R=m.search||T&&"?"+T||"",b&&":"!==b.substr(-1)&&(b+=":"),m.slashes||(!b||y.test(b))&&!1!==E?(E="//"+(E||""),w&&"/"!==w[0]&&(w="/"+w)):E||(E=""),S&&"#"!==S[0]&&(S="#"+S),R&&"?"!==R[0]&&(R="?"+R),{protocol:b,host:E,pathname:w=w.replace(/[?#]/g,encodeURIComponent),search:R=R.replace("#","%23"),hash:S});return""+P.protocol+P.host+P.pathname+P.search+P.hash}var m="http://",_=m+"w.w",b=/^([a-z0-9.+-]*:\/\/\/)([a-z0-9.+-]:\/*)?/i,w=/https?|ftp|gopher|file/;function h(p,g){var y="string"==typeof p?d(p):p;p="object"==typeof p?r(p):p;var v=d(g),S="";y.protocol&&!y.slashes&&(S=y.protocol,p=p.replace(y.protocol,""),S+="/"===g[0]||"/"===p[0]?"/":""),S&&v.protocol&&(S="",v.slashes||(S=v.protocol,g=g.replace(v.protocol,"")));var T=p.match(b);T&&!v.protocol&&(p=p.substr((S=T[1]+(T[2]||"")).length),/^\/\/[^/]/.test(g)&&(S=S.slice(0,-1)));var E=new URL(p,_+"/"),R=new URL(g,E).toString().replace(_,""),P=v.protocol||y.protocol;return P+=y.slashes||v.slashes?"//":"",!S&&P?R=R.replace(m,P):S&&(R=R.replace(m,"")),w.test(R)||~g.indexOf(".")||"/"===p.slice(-1)||"/"===g.slice(-1)||"/"!==R.slice(-1)||(R=R.slice(0,-1)),S&&(R=S+("/"===R[0]?R.substr(1):R)),R}function l(){}l.prototype.parse=d,l.prototype.format=r,l.prototype.resolve=h,l.prototype.resolveObject=h;var S=/^https?|ftp|gopher|file/,T=/^(.*?)([#?].*)/,E=/^([a-z0-9.+-]*:)(\/{0,3})(.*)/i,R=/^([a-z0-9.+-]*:)?\/\/\/*/i,P=/^([a-z0-9.+-]*:)(\/{0,2})\[(.*)\]$/i;function d(p,y,m){if(void 0===y&&(y=!1),void 0===m&&(m=!1),p&&"object"==typeof p&&p instanceof l)return p;var v=(p=p.trim()).match(T);p=v?v[1].replace(/\\/g,"/")+v[2]:p.replace(/\\/g,"/"),P.test(p)&&"/"!==p.slice(-1)&&(p+="/");var b=!/(^javascript)/.test(p)&&p.match(E),w=R.test(p),O="";b&&(S.test(b[1])||(O=b[1].toLowerCase(),p=""+b[2]+b[3]),b[2]||(w=!1,S.test(b[1])?(O=b[1],p=""+b[3]):p="//"+b[3]),3!==b[2].length&&1!==b[2].length||(O=b[1],p="/"+b[3]));var A,x=(v?v[1]:p).match(/^https?:\/\/[^/]+(:[0-9]+)(?=\/|$)/),D=x&&x[1],k=new l,I="",C="";try{A=new URL(p)}catch(g){I=g,O||m||!/^\/\//.test(p)||/^\/\/.+[@.]/.test(p)||(C="/",p=p.substr(1));try{A=new URL(p,_)}catch(p){return k.protocol=O,k.href=O,k}}k.slashes=w&&!C,k.host="w.w"===A.host?"":A.host,k.hostname="w.w"===A.hostname?"":A.hostname.replace(/(\[|\])/g,""),k.protocol=I?O||null:A.protocol,k.search=A.search.replace(/\\/g,"%5C"),k.hash=A.hash.replace(/\\/g,"%5C");var N=p.split("#");!k.search&&~N[0].indexOf("?")&&(k.search="?"),k.hash||""!==N[1]||(k.hash="#"),k.query=y?g.decode(A.search.substr(1)):k.search.substr(1),k.pathname=C+(b?A.pathname.replace(/['^|`]/g,function(p){return"%"+p.charCodeAt().toString(16).toUpperCase()}).replace(/((?:%[0-9A-F]{2})+)/g,function(p,g){try{return decodeURIComponent(g).split("").map(function(p){var g=p.charCodeAt();return g>256||/^[a-z0-9]$/i.test(p)?p:"%"+g.toString(16).toUpperCase()}).join("")}catch(p){return g}}):A.pathname),"about:"===k.protocol&&"blank"===k.pathname&&(k.protocol="",k.pathname=""),I&&"/"!==p[0]&&(k.pathname=k.pathname.substr(1)),O&&!S.test(O)&&"/"!==p.slice(-1)&&"/"===k.pathname&&(k.pathname=""),k.path=k.pathname+k.search,k.auth=[A.username,A.password].map(decodeURIComponent).filter(Boolean).join(":"),k.port=A.port,D&&!k.host.endsWith(D)&&(k.host+=D,k.port=D.slice(1)),k.href=C?""+k.pathname+k.search+k.hash:r(k);var ee=/^(file)/.test(k.href)?["host","hostname"]:[];return Object.keys(k).forEach(function(p){~ee.indexOf(p)||(k[p]=k[p]||null)}),k}v.parse=d,v.format=r,v.resolve=h,v.resolveObject=function(p,g){return d(h(p,g))},v.Url=l}(),p.exports=v}()},9875:function(p){!function(){"use strict";var g={815:function(p){p.exports=function(p,y,m,v){y=y||"&",m=m||"=";var _={};if("string"!=typeof p||0===p.length)return _;var b=/\+/g;p=p.split(y);var w=1e3;v&&"number"==typeof v.maxKeys&&(w=v.maxKeys);var S=p.length;w>0&&S>w&&(S=w);for(var T=0;T<S;++T){var E,R,P,O,A=p[T].replace(b,"%20"),x=A.indexOf(m);(x>=0?(E=A.substr(0,x),R=A.substr(x+1)):(E=A,R=""),P=decodeURIComponent(E),O=decodeURIComponent(R),Object.prototype.hasOwnProperty.call(_,P))?g(_[P])?_[P].push(O):_[P]=[_[P],O]:_[P]=O}return _};var g=Array.isArray||function(p){return"[object Array]"===Object.prototype.toString.call(p)}},577:function(p){var stringifyPrimitive=function(p){switch(typeof p){case"string":return p;case"boolean":return p?"true":"false";case"number":return isFinite(p)?p:"";default:return""}};p.exports=function(p,m,v,_){return(m=m||"&",v=v||"=",null===p&&(p=void 0),"object"==typeof p)?map(y(p),function(y){var _=encodeURIComponent(stringifyPrimitive(y))+v;return g(p[y])?map(p[y],function(p){return _+encodeURIComponent(stringifyPrimitive(p))}).join(m):_+encodeURIComponent(stringifyPrimitive(p[y]))}).join(m):_?encodeURIComponent(stringifyPrimitive(_))+v+encodeURIComponent(stringifyPrimitive(p)):""};var g=Array.isArray||function(p){return"[object Array]"===Object.prototype.toString.call(p)};function map(p,g){if(p.map)return p.map(g);for(var y=[],m=0;m<p.length;m++)y.push(g(p[m],m));return y}var y=Object.keys||function(p){var g=[];for(var y in p)Object.prototype.hasOwnProperty.call(p,y)&&g.push(y);return g}}},y={};function __nccwpck_require__(p){var m=y[p];if(void 0!==m)return m.exports;var v=y[p]={exports:{}},_=!0;try{g[p](v,v.exports,__nccwpck_require__),_=!1}finally{_&&delete y[p]}return v.exports}__nccwpck_require__.ab="//";var m={};m.decode=m.parse=__nccwpck_require__(815),m.encode=m.stringify=__nccwpck_require__(577),p.exports=m}()},45296:function(p,g,y){var m=y(25566),v=y(67133).Buffer;!function(){var g={523:function(p){p.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},782:function(p){"function"==typeof Object.create?p.exports=function(p,g){g&&(p.super_=g,p.prototype=Object.create(g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}))}:p.exports=function(p,g){if(g){p.super_=g;var TempCtor=function(){};TempCtor.prototype=g.prototype,p.prototype=new TempCtor,p.prototype.constructor=p}}},646:function(p){"use strict";let g={};function createErrorType(p,y,m){m||(m=Error);let NodeError=class NodeError extends m{constructor(p,g,m){super("string"==typeof y?y:y(p,g,m))}};NodeError.prototype.name=m.name,NodeError.prototype.code=p,g[p]=NodeError}function oneOf(p,g){if(!Array.isArray(p))return`of ${g} ${String(p)}`;{let y=p.length;return(p=p.map(p=>String(p)),y>2)?`one of ${g} ${p.slice(0,y-1).join(", ")}, or `+p[y-1]:2===y?`one of ${g} ${p[0]} or ${p[1]}`:`of ${g} ${p[0]}`}}createErrorType("ERR_INVALID_OPT_VALUE",function(p,g){return'The value "'+g+'" is invalid for option "'+p+'"'},TypeError),createErrorType("ERR_INVALID_ARG_TYPE",function(p,g,y){var m,v,_,b,w;let S,T;if("string"==typeof g&&(m="not ",g.substr(!v||v<0?0:+v,m.length)===m)?(S="must not be",g=g.replace(/^not /,"")):S="must be",_=" argument",(void 0===b||b>p.length)&&(b=p.length),p.substring(b-_.length,b)===_)T=`The ${p} ${S} ${oneOf(g,"type")}`;else{let y=("number"!=typeof w&&(w=0),w+1>p.length||-1===p.indexOf(".",w))?"argument":"property";T=`The "${p}" ${y} ${S} ${oneOf(g,"type")}`}return T+`. Received type ${typeof y}`},TypeError),createErrorType("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),createErrorType("ERR_METHOD_NOT_IMPLEMENTED",function(p){return"The "+p+" method is not implemented"}),createErrorType("ERR_STREAM_PREMATURE_CLOSE","Premature close"),createErrorType("ERR_STREAM_DESTROYED",function(p){return"Cannot call "+p+" after a stream was destroyed"}),createErrorType("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),createErrorType("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),createErrorType("ERR_STREAM_WRITE_AFTER_END","write after end"),createErrorType("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),createErrorType("ERR_UNKNOWN_ENCODING",function(p){return"Unknown encoding: "+p},TypeError),createErrorType("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),p.exports.q=g},403:function(p,g,y){"use strict";var v=Object.keys||function(p){var g=[];for(var y in p)g.push(y);return g};p.exports=Duplex;var _=y(709),b=y(337);y(782)(Duplex,_);for(var w=v(b.prototype),S=0;S<w.length;S++){var T=w[S];Duplex.prototype[T]||(Duplex.prototype[T]=b.prototype[T])}function Duplex(p){if(!(this instanceof Duplex))return new Duplex(p);_.call(this,p),b.call(this,p),this.allowHalfOpen=!0,p&&(!1===p.readable&&(this.readable=!1),!1===p.writable&&(this.writable=!1),!1===p.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",onend)))}function onend(){this._writableState.ended||m.nextTick(onEndNT,this)}function onEndNT(p){p.end()}Object.defineProperty(Duplex.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(Duplex.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(Duplex.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(Duplex.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(p){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=p,this._writableState.destroyed=p)}})},889:function(p,g,y){"use strict";p.exports=PassThrough;var m=y(170);function PassThrough(p){if(!(this instanceof PassThrough))return new PassThrough(p);m.call(this,p)}y(782)(PassThrough,m),PassThrough.prototype._transform=function(p,g,y){y(null,p)}},709:function(p,g,v){"use strict";p.exports=Readable,Readable.ReadableState=ReadableState,v(361).EventEmitter;var _,b,w,S,T,a=function(p,g){return p.listeners(g).length},E=v(678),R=v(300).Buffer,P=y.g.Uint8Array||function(){},O=v(837);b=O&&O.debuglog?O.debuglog("stream"):function(){};var A=v(379),x=v(25),D=v(776).getHighWaterMark,k=v(646).q,I=k.ERR_INVALID_ARG_TYPE,C=k.ERR_STREAM_PUSH_AFTER_EOF,N=k.ERR_METHOD_NOT_IMPLEMENTED,ee=k.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;v(782)(Readable,E);var ei=x.errorOrDestroy,es=["error","close","destroy","pause","resume"];function ReadableState(p,g,y){_=_||v(403),p=p||{},"boolean"!=typeof y&&(y=g instanceof _),this.objectMode=!!p.objectMode,y&&(this.objectMode=this.objectMode||!!p.readableObjectMode),this.highWaterMark=D(this,p,"readableHighWaterMark",y),this.buffer=new A,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==p.emitClose,this.autoDestroy=!!p.autoDestroy,this.destroyed=!1,this.defaultEncoding=p.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,p.encoding&&(w||(w=v(704).s),this.decoder=new w(p.encoding),this.encoding=p.encoding)}function Readable(p){if(_=_||v(403),!(this instanceof Readable))return new Readable(p);var g=this instanceof _;this._readableState=new ReadableState(p,this,g),this.readable=!0,p&&("function"==typeof p.read&&(this._read=p.read),"function"==typeof p.destroy&&(this._destroy=p.destroy)),E.call(this)}function readableAddChunk(p,g,y,m,v){b("readableAddChunk",g);var _,w,S,T,E,O=p._readableState;if(null===g)O.reading=!1,function(p,g){if(b("onEofChunk"),!g.ended){if(g.decoder){var y=g.decoder.end();y&&y.length&&(g.buffer.push(y),g.length+=g.objectMode?1:y.length)}g.ended=!0,g.sync?emitReadable(p):(g.needReadable=!1,g.emittedReadable||(g.emittedReadable=!0,emitReadable_(p)))}}(p,O);else{if(v||(_=O,w=g,R.isBuffer(w)||w instanceof P||"string"==typeof w||void 0===w||_.objectMode||(S=new I("chunk",["string","Buffer","Uint8Array"],w)),E=S),E)ei(p,E);else if(O.objectMode||g&&g.length>0){if("string"==typeof g||O.objectMode||Object.getPrototypeOf(g)===R.prototype||(T=g,g=R.from(T)),m)O.endEmitted?ei(p,new ee):addChunk(p,O,g,!0);else if(O.ended)ei(p,new C);else{if(O.destroyed)return!1;O.reading=!1,O.decoder&&!y?(g=O.decoder.write(g),O.objectMode||0!==g.length?addChunk(p,O,g,!1):maybeReadMore(p,O)):addChunk(p,O,g,!1)}}else m||(O.reading=!1,maybeReadMore(p,O))}return!O.ended&&(O.length<O.highWaterMark||0===O.length)}function addChunk(p,g,y,m){g.flowing&&0===g.length&&!g.sync?(g.awaitDrain=0,p.emit("data",y)):(g.length+=g.objectMode?1:y.length,m?g.buffer.unshift(y):g.buffer.push(y),g.needReadable&&emitReadable(p)),maybeReadMore(p,g)}function howMuchToRead(p,g){if(p<=0||0===g.length&&g.ended)return 0;if(g.objectMode)return 1;if(p!=p)return g.flowing&&g.length?g.buffer.head.data.length:g.length;if(p>g.highWaterMark){var y;g.highWaterMark=((y=p)>=1073741824?y=1073741824:(y--,y|=y>>>1,y|=y>>>2,y|=y>>>4,y|=y>>>8,y|=y>>>16,y++),y)}return p<=g.length?p:g.ended?g.length:(g.needReadable=!0,0)}function emitReadable(p){var g=p._readableState;b("emitReadable",g.needReadable,g.emittedReadable),g.needReadable=!1,g.emittedReadable||(b("emitReadable",g.flowing),g.emittedReadable=!0,m.nextTick(emitReadable_,p))}function emitReadable_(p){var g=p._readableState;b("emitReadable_",g.destroyed,g.length,g.ended),!g.destroyed&&(g.length||g.ended)&&(p.emit("readable"),g.emittedReadable=!1),g.needReadable=!g.flowing&&!g.ended&&g.length<=g.highWaterMark,flow(p)}function maybeReadMore(p,g){g.readingMore||(g.readingMore=!0,m.nextTick(maybeReadMore_,p,g))}function maybeReadMore_(p,g){for(;!g.reading&&!g.ended&&(g.length<g.highWaterMark||g.flowing&&0===g.length);){var y=g.length;if(b("maybeReadMore read 0"),p.read(0),y===g.length)break}g.readingMore=!1}function updateReadableListening(p){var g=p._readableState;g.readableListening=p.listenerCount("readable")>0,g.resumeScheduled&&!g.paused?g.flowing=!0:p.listenerCount("data")>0&&p.resume()}function nReadingNextTick(p){b("readable nexttick read 0"),p.read(0)}function resume_(p,g){b("resume",g.reading),g.reading||p.read(0),g.resumeScheduled=!1,p.emit("resume"),flow(p),g.flowing&&!g.reading&&p.read(0)}function flow(p){var g=p._readableState;for(b("flow",g.flowing);g.flowing&&null!==p.read(););}function fromList(p,g){var y;return 0===g.length?null:(g.objectMode?y=g.buffer.shift():!p||p>=g.length?(y=g.decoder?g.buffer.join(""):1===g.buffer.length?g.buffer.first():g.buffer.concat(g.length),g.buffer.clear()):y=g.buffer.consume(p,g.decoder),y)}function endReadable(p){var g=p._readableState;b("endReadable",g.endEmitted),g.endEmitted||(g.ended=!0,m.nextTick(endReadableNT,g,p))}function endReadableNT(p,g){if(b("endReadableNT",p.endEmitted,p.length),!p.endEmitted&&0===p.length&&(p.endEmitted=!0,g.readable=!1,g.emit("end"),p.autoDestroy)){var y=g._writableState;(!y||y.autoDestroy&&y.finished)&&g.destroy()}}function indexOf(p,g){for(var y=0,m=p.length;y<m;y++)if(p[y]===g)return y;return -1}Object.defineProperty(Readable.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(p){this._readableState&&(this._readableState.destroyed=p)}}),Readable.prototype.destroy=x.destroy,Readable.prototype._undestroy=x.undestroy,Readable.prototype._destroy=function(p,g){g(p)},Readable.prototype.push=function(p,g){var y,m=this._readableState;return m.objectMode?y=!0:"string"==typeof p&&((g=g||m.defaultEncoding)!==m.encoding&&(p=R.from(p,g),g=""),y=!0),readableAddChunk(this,p,g,!1,y)},Readable.prototype.unshift=function(p){return readableAddChunk(this,p,null,!0,!1)},Readable.prototype.isPaused=function(){return!1===this._readableState.flowing},Readable.prototype.setEncoding=function(p){w||(w=v(704).s);var g=new w(p);this._readableState.decoder=g,this._readableState.encoding=this._readableState.decoder.encoding;for(var y=this._readableState.buffer.head,m="";null!==y;)m+=g.write(y.data),y=y.next;return this._readableState.buffer.clear(),""!==m&&this._readableState.buffer.push(m),this._readableState.length=m.length,this},Readable.prototype.read=function(p){b("read",p),p=parseInt(p,10);var g,y=this._readableState,m=p;if(0!==p&&(y.emittedReadable=!1),0===p&&y.needReadable&&((0!==y.highWaterMark?y.length>=y.highWaterMark:y.length>0)||y.ended))return b("read: emitReadable",y.length,y.ended),0===y.length&&y.ended?endReadable(this):emitReadable(this),null;if(0===(p=howMuchToRead(p,y))&&y.ended)return 0===y.length&&endReadable(this),null;var v=y.needReadable;return b("need readable",v),(0===y.length||y.length-p<y.highWaterMark)&&b("length less than watermark",v=!0),y.ended||y.reading?b("reading or ended",v=!1):v&&(b("do read"),y.reading=!0,y.sync=!0,0===y.length&&(y.needReadable=!0),this._read(y.highWaterMark),y.sync=!1,y.reading||(p=howMuchToRead(m,y))),null===(g=p>0?fromList(p,y):null)?(y.needReadable=y.length<=y.highWaterMark,p=0):(y.length-=p,y.awaitDrain=0),0===y.length&&(y.ended||(y.needReadable=!0),m!==p&&y.ended&&endReadable(this)),null!==g&&this.emit("data",g),g},Readable.prototype._read=function(p){ei(this,new N("_read()"))},Readable.prototype.pipe=function(p,g){var y=this,v=this._readableState;switch(v.pipesCount){case 0:v.pipes=p;break;case 1:v.pipes=[v.pipes,p];break;default:v.pipes.push(p)}v.pipesCount+=1,b("pipe count=%d opts=%j",v.pipesCount,g);var _=g&&!1===g.end||p===m.stdout||p===m.stderr?unpipe:onend;function onend(){b("onend"),p.end()}v.endEmitted?m.nextTick(_):y.once("end",_),p.on("unpipe",function onunpipe(g,m){b("onunpipe"),g===y&&m&&!1===m.hasUnpiped&&(m.hasUnpiped=!0,b("cleanup"),p.removeListener("close",onclose),p.removeListener("finish",onfinish),p.removeListener("drain",s),p.removeListener("error",onerror),p.removeListener("unpipe",onunpipe),y.removeListener("end",onend),y.removeListener("end",unpipe),y.removeListener("data",ondata),w=!0,v.awaitDrain&&(!p._writableState||p._writableState.needDrain)&&s())});var s=function(){var p=y._readableState;b("pipeOnDrain",p.awaitDrain),p.awaitDrain&&p.awaitDrain--,0===p.awaitDrain&&a(y,"data")&&(p.flowing=!0,flow(y))};p.on("drain",s);var w=!1;function ondata(g){b("ondata");var m=p.write(g);b("dest.write",m),!1===m&&((1===v.pipesCount&&v.pipes===p||v.pipesCount>1&&-1!==indexOf(v.pipes,p))&&!w&&(b("false write response, pause",v.awaitDrain),v.awaitDrain++),y.pause())}function onerror(g){b("onerror",g),unpipe(),p.removeListener("error",onerror),0===a(p,"error")&&ei(p,g)}function onclose(){p.removeListener("finish",onfinish),unpipe()}function onfinish(){b("onfinish"),p.removeListener("close",onclose),unpipe()}function unpipe(){b("unpipe"),y.unpipe(p)}return y.on("data",ondata),function(p,g,y){if("function"==typeof p.prependListener)return p.prependListener(g,y);p._events&&p._events[g]?Array.isArray(p._events[g])?p._events[g].unshift(y):p._events[g]=[y,p._events[g]]:p.on(g,y)}(p,"error",onerror),p.once("close",onclose),p.once("finish",onfinish),p.emit("pipe",y),v.flowing||(b("pipe resume"),y.resume()),p},Readable.prototype.unpipe=function(p){var g=this._readableState,y={hasUnpiped:!1};if(0===g.pipesCount)return this;if(1===g.pipesCount)return p&&p!==g.pipes||(p||(p=g.pipes),g.pipes=null,g.pipesCount=0,g.flowing=!1,p&&p.emit("unpipe",this,y)),this;if(!p){var m=g.pipes,v=g.pipesCount;g.pipes=null,g.pipesCount=0,g.flowing=!1;for(var _=0;_<v;_++)m[_].emit("unpipe",this,{hasUnpiped:!1});return this}var b=indexOf(g.pipes,p);return -1===b||(g.pipes.splice(b,1),g.pipesCount-=1,1===g.pipesCount&&(g.pipes=g.pipes[0]),p.emit("unpipe",this,y)),this},Readable.prototype.on=function(p,g){var y=E.prototype.on.call(this,p,g),v=this._readableState;return"data"===p?(v.readableListening=this.listenerCount("readable")>0,!1!==v.flowing&&this.resume()):"readable"!==p||v.endEmitted||v.readableListening||(v.readableListening=v.needReadable=!0,v.flowing=!1,v.emittedReadable=!1,b("on readable",v.length,v.reading),v.length?emitReadable(this):v.reading||m.nextTick(nReadingNextTick,this)),y},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.removeListener=function(p,g){var y=E.prototype.removeListener.call(this,p,g);return"readable"===p&&m.nextTick(updateReadableListening,this),y},Readable.prototype.removeAllListeners=function(p){var g=E.prototype.removeAllListeners.apply(this,arguments);return("readable"===p||void 0===p)&&m.nextTick(updateReadableListening,this),g},Readable.prototype.resume=function(){var p=this._readableState;return p.flowing||(b("resume"),p.flowing=!p.readableListening,p.resumeScheduled||(p.resumeScheduled=!0,m.nextTick(resume_,this,p))),p.paused=!1,this},Readable.prototype.pause=function(){return b("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(b("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},Readable.prototype.wrap=function(p){var g=this,y=this._readableState,m=!1;for(var v in p.on("end",function(){if(b("wrapped end"),y.decoder&&!y.ended){var p=y.decoder.end();p&&p.length&&g.push(p)}g.push(null)}),p.on("data",function(v){b("wrapped data"),y.decoder&&(v=y.decoder.write(v)),(!y.objectMode||null!=v)&&(y.objectMode||v&&v.length)&&(g.push(v)||(m=!0,p.pause()))}),p)void 0===this[v]&&"function"==typeof p[v]&&(this[v]=function(g){return function(){return p[g].apply(p,arguments)}}(v));for(var _=0;_<es.length;_++)p.on(es[_],this.emit.bind(this,es[_]));return this._read=function(g){b("wrapped _read",g),m&&(m=!1,p.resume())},this},"function"==typeof Symbol&&(Readable.prototype[Symbol.asyncIterator]=function(){return void 0===S&&(S=v(871)),S(this)}),Object.defineProperty(Readable.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Readable.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Readable.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(p){this._readableState&&(this._readableState.flowing=p)}}),Readable._fromList=fromList,Object.defineProperty(Readable.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(Readable.from=function(p,g){return void 0===T&&(T=v(727)),T(Readable,p,g)})},170:function(p,g,y){"use strict";p.exports=Transform;var m=y(646).q,v=m.ERR_METHOD_NOT_IMPLEMENTED,_=m.ERR_MULTIPLE_CALLBACK,b=m.ERR_TRANSFORM_ALREADY_TRANSFORMING,w=m.ERR_TRANSFORM_WITH_LENGTH_0,S=y(403);function afterTransform(p,g){var y=this._transformState;y.transforming=!1;var m=y.writecb;if(null===m)return this.emit("error",new _);y.writechunk=null,y.writecb=null,null!=g&&this.push(g),m(p);var v=this._readableState;v.reading=!1,(v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}function Transform(p){if(!(this instanceof Transform))return new Transform(p);S.call(this,p),this._transformState={afterTransform:afterTransform.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,p&&("function"==typeof p.transform&&(this._transform=p.transform),"function"==typeof p.flush&&(this._flush=p.flush)),this.on("prefinish",prefinish)}function prefinish(){var p=this;"function"!=typeof this._flush||this._readableState.destroyed?done(this,null,null):this._flush(function(g,y){done(p,g,y)})}function done(p,g,y){if(g)return p.emit("error",g);if(null!=y&&p.push(y),p._writableState.length)throw new w;if(p._transformState.transforming)throw new b;return p.push(null)}y(782)(Transform,S),Transform.prototype.push=function(p,g){return this._transformState.needTransform=!1,S.prototype.push.call(this,p,g)},Transform.prototype._transform=function(p,g,y){y(new v("_transform()"))},Transform.prototype._write=function(p,g,y){var m=this._transformState;if(m.writecb=y,m.writechunk=p,m.writeencoding=g,!m.transforming){var v=this._readableState;(m.needTransform||v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}},Transform.prototype._read=function(p){var g=this._transformState;null===g.writechunk||g.transforming?g.needTransform=!0:(g.transforming=!0,this._transform(g.writechunk,g.writeencoding,g.afterTransform))},Transform.prototype._destroy=function(p,g){S.prototype._destroy.call(this,p,function(p){g(p)})}},337:function(p,g,v){"use strict";function CorkedRequest(p){var g=this;this.next=null,this.entry=null,this.finish=function(){(function(p,g,y){var m=p.entry;for(p.entry=null;m;){var v=m.callback;g.pendingcb--,v(void 0),m=m.next}g.corkedRequestsFree.next=p})(g,p)}}p.exports=Writable,Writable.WritableState=WritableState;var _,b,w={deprecate:v(769)},S=v(678),T=v(300).Buffer,E=y.g.Uint8Array||function(){},R=v(25),P=v(776).getHighWaterMark,O=v(646).q,A=O.ERR_INVALID_ARG_TYPE,x=O.ERR_METHOD_NOT_IMPLEMENTED,D=O.ERR_MULTIPLE_CALLBACK,k=O.ERR_STREAM_CANNOT_PIPE,I=O.ERR_STREAM_DESTROYED,C=O.ERR_STREAM_NULL_VALUES,N=O.ERR_STREAM_WRITE_AFTER_END,ee=O.ERR_UNKNOWN_ENCODING,ei=R.errorOrDestroy;function nop(){}function WritableState(p,g,y){_=_||v(403),p=p||{},"boolean"!=typeof y&&(y=g instanceof _),this.objectMode=!!p.objectMode,y&&(this.objectMode=this.objectMode||!!p.writableObjectMode),this.highWaterMark=P(this,p,"writableHighWaterMark",y),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var b=!1===p.decodeStrings;this.decodeStrings=!b,this.defaultEncoding=p.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(p){(function(p,g){var y=p._writableState,v=y.sync,_=y.writecb;if("function"!=typeof _)throw new D;if(y.writing=!1,y.writecb=null,y.length-=y.writelen,y.writelen=0,g)--y.pendingcb,v?(m.nextTick(_,g),m.nextTick(finishMaybe,p,y),p._writableState.errorEmitted=!0,ei(p,g)):(_(g),p._writableState.errorEmitted=!0,ei(p,g),finishMaybe(p,y));else{var b=needFinish(y)||p.destroyed;b||y.corked||y.bufferProcessing||!y.bufferedRequest||clearBuffer(p,y),v?m.nextTick(afterWrite,p,y,b,_):afterWrite(p,y,b,_)}})(g,p)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==p.emitClose,this.autoDestroy=!!p.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}function Writable(p){var g=this instanceof(_=_||v(403));if(!g&&!b.call(Writable,this))return new Writable(p);this._writableState=new WritableState(p,this,g),this.writable=!0,p&&("function"==typeof p.write&&(this._write=p.write),"function"==typeof p.writev&&(this._writev=p.writev),"function"==typeof p.destroy&&(this._destroy=p.destroy),"function"==typeof p.final&&(this._final=p.final)),S.call(this)}function doWrite(p,g,y,m,v,_,b){g.writelen=m,g.writecb=b,g.writing=!0,g.sync=!0,g.destroyed?g.onwrite(new I("write")):y?p._writev(v,g.onwrite):p._write(v,_,g.onwrite),g.sync=!1}function afterWrite(p,g,y,m){y||0===g.length&&g.needDrain&&(g.needDrain=!1,p.emit("drain")),g.pendingcb--,m(),finishMaybe(p,g)}function clearBuffer(p,g){g.bufferProcessing=!0;var y=g.bufferedRequest;if(p._writev&&y&&y.next){var m=Array(g.bufferedRequestCount),v=g.corkedRequestsFree;v.entry=y;for(var _=0,b=!0;y;)m[_]=y,y.isBuf||(b=!1),y=y.next,_+=1;m.allBuffers=b,doWrite(p,g,!0,g.length,m,"",v.finish),g.pendingcb++,g.lastBufferedRequest=null,v.next?(g.corkedRequestsFree=v.next,v.next=null):g.corkedRequestsFree=new CorkedRequest(g),g.bufferedRequestCount=0}else{for(;y;){var w=y.chunk,S=y.encoding,T=y.callback,E=g.objectMode?1:w.length;if(doWrite(p,g,!1,E,w,S,T),y=y.next,g.bufferedRequestCount--,g.writing)break}null===y&&(g.lastBufferedRequest=null)}g.bufferedRequest=y,g.bufferProcessing=!1}function needFinish(p){return p.ending&&0===p.length&&null===p.bufferedRequest&&!p.finished&&!p.writing}function callFinal(p,g){p._final(function(y){g.pendingcb--,y&&ei(p,y),g.prefinished=!0,p.emit("prefinish"),finishMaybe(p,g)})}function finishMaybe(p,g){var y=needFinish(g);if(y&&(g.prefinished||g.finalCalled||("function"!=typeof p._final||g.destroyed?(g.prefinished=!0,p.emit("prefinish")):(g.pendingcb++,g.finalCalled=!0,m.nextTick(callFinal,p,g))),0===g.pendingcb&&(g.finished=!0,p.emit("finish"),g.autoDestroy))){var v=p._readableState;(!v||v.autoDestroy&&v.endEmitted)&&p.destroy()}return y}v(782)(Writable,S),WritableState.prototype.getBuffer=function(){for(var p=this.bufferedRequest,g=[];p;)g.push(p),p=p.next;return g},function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:w.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(p){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(b=Function.prototype[Symbol.hasInstance],Object.defineProperty(Writable,Symbol.hasInstance,{value:function(p){return!!b.call(this,p)||this===Writable&&p&&p._writableState instanceof WritableState}})):b=function(p){return p instanceof this},Writable.prototype.pipe=function(){ei(this,new k)},Writable.prototype.write=function(p,g,y){var v,_,b,w,S,R,P,O=this._writableState,x=!1,D=!O.objectMode&&(v=p,T.isBuffer(v)||v instanceof E);return D&&!T.isBuffer(p)&&(_=p,p=T.from(_)),("function"==typeof g&&(y=g,g=null),D?g="buffer":g||(g=O.defaultEncoding),"function"!=typeof y&&(y=nop),O.ending)?(b=y,ei(this,w=new N),m.nextTick(b,w)):(D||(S=p,R=y,null===S?P=new C:"string"==typeof S||O.objectMode||(P=new A("chunk",["string","Buffer"],S)),!P||(ei(this,P),m.nextTick(R,P),0)))&&(O.pendingcb++,x=function(p,g,y,m,v,_){if(!y){var b,w,S=(b=m,w=v,g.objectMode||!1===g.decodeStrings||"string"!=typeof b||(b=T.from(b,w)),b);m!==S&&(y=!0,v="buffer",m=S)}var E=g.objectMode?1:m.length;g.length+=E;var R=g.length<g.highWaterMark;if(R||(g.needDrain=!0),g.writing||g.corked){var P=g.lastBufferedRequest;g.lastBufferedRequest={chunk:m,encoding:v,isBuf:y,callback:_,next:null},P?P.next=g.lastBufferedRequest:g.bufferedRequest=g.lastBufferedRequest,g.bufferedRequestCount+=1}else doWrite(p,g,!1,E,m,v,_);return R}(this,O,D,p,g,y)),x},Writable.prototype.cork=function(){this._writableState.corked++},Writable.prototype.uncork=function(){var p=this._writableState;!p.corked||(p.corked--,p.writing||p.corked||p.bufferProcessing||!p.bufferedRequest||clearBuffer(this,p))},Writable.prototype.setDefaultEncoding=function(p){if("string"==typeof p&&(p=p.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((p+"").toLowerCase())>-1))throw new ee(p);return this._writableState.defaultEncoding=p,this},Object.defineProperty(Writable.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(Writable.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Writable.prototype._write=function(p,g,y){y(new x("_write()"))},Writable.prototype._writev=null,Writable.prototype.end=function(p,g,y){var v,_=this._writableState;return"function"==typeof p?(y=p,p=null,g=null):"function"==typeof g&&(y=g,g=null),null!=p&&this.write(p,g),_.corked&&(_.corked=1,this.uncork()),_.ending||(v=y,_.ending=!0,finishMaybe(this,_),v&&(_.finished?m.nextTick(v):this.once("finish",v)),_.ended=!0,this.writable=!1),this},Object.defineProperty(Writable.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(Writable.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(p){this._writableState&&(this._writableState.destroyed=p)}}),Writable.prototype.destroy=R.destroy,Writable.prototype._undestroy=R.undestroy,Writable.prototype._destroy=function(p,g){g(p)}},871:function(p,g,y){"use strict";function _defineProperty(p,g,y){return g in p?Object.defineProperty(p,g,{value:y,enumerable:!0,configurable:!0,writable:!0}):p[g]=y,p}var v,_=y(698),b=Symbol("lastResolve"),w=Symbol("lastReject"),S=Symbol("error"),T=Symbol("ended"),E=Symbol("lastPromise"),R=Symbol("handlePromise"),P=Symbol("stream");function createIterResult(p,g){return{value:p,done:g}}function readAndResolve(p){var g=p[b];if(null!==g){var y=p[P].read();null!==y&&(p[E]=null,p[b]=null,p[w]=null,g(createIterResult(y,!1)))}}function onReadable(p){m.nextTick(readAndResolve,p)}var O=Object.getPrototypeOf(function(){}),A=Object.setPrototypeOf((_defineProperty(v={get stream(){return this[P]},next:function(){var p,g,y=this,v=this[S];if(null!==v)return Promise.reject(v);if(this[T])return Promise.resolve(createIterResult(void 0,!0));if(this[P].destroyed)return new Promise(function(p,g){m.nextTick(function(){y[S]?g(y[S]):p(createIterResult(void 0,!0))})});var _=this[E];if(_)g=new Promise((p=this,function(g,y){_.then(function(){if(p[T]){g(createIterResult(void 0,!0));return}p[R](g,y)},y)}));else{var b=this[P].read();if(null!==b)return Promise.resolve(createIterResult(b,!1));g=new Promise(this[R])}return this[E]=g,g}},Symbol.asyncIterator,function(){return this}),_defineProperty(v,"return",function(){var p=this;return new Promise(function(g,y){p[P].destroy(null,function(p){if(p){y(p);return}g(createIterResult(void 0,!0))})})}),v),O);p.exports=function(p){var g,y=Object.create(A,(_defineProperty(g={},P,{value:p,writable:!0}),_defineProperty(g,b,{value:null,writable:!0}),_defineProperty(g,w,{value:null,writable:!0}),_defineProperty(g,S,{value:null,writable:!0}),_defineProperty(g,T,{value:p._readableState.endEmitted,writable:!0}),_defineProperty(g,R,{value:function(p,g){var m=y[P].read();m?(y[E]=null,y[b]=null,y[w]=null,p(createIterResult(m,!1))):(y[b]=p,y[w]=g)},writable:!0}),g));return y[E]=null,_(p,function(p){if(p&&"ERR_STREAM_PREMATURE_CLOSE"!==p.code){var g=y[w];null!==g&&(y[E]=null,y[b]=null,y[w]=null,g(p)),y[S]=p;return}var m=y[b];null!==m&&(y[E]=null,y[b]=null,y[w]=null,m(createIterResult(void 0,!0))),y[T]=!0}),p.on("readable",onReadable.bind(null,y)),y}},379:function(p,g,y){"use strict";function ownKeys(p,g){var y=Object.keys(p);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(p);g&&(m=m.filter(function(g){return Object.getOwnPropertyDescriptor(p,g).enumerable})),y.push.apply(y,m)}return y}function _defineProperties(p,g){for(var y=0;y<g.length;y++){var m=g[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(p,m.key,m)}}var m=y(300).Buffer,v=y(837).inspect,_=v&&v.custom||"inspect";p.exports=function(){var p,g;function BufferList(){!function(p,g){if(!(p instanceof g))throw TypeError("Cannot call a class as a function")}(this,BufferList),this.head=null,this.tail=null,this.length=0}return p=[{key:"push",value:function(p){var g={data:p,next:null};this.length>0?this.tail.next=g:this.head=g,this.tail=g,++this.length}},{key:"unshift",value:function(p){var g={data:p,next:this.head};0===this.length&&(this.tail=g),this.head=g,++this.length}},{key:"shift",value:function(){if(0!==this.length){var p=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,p}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(p){if(0===this.length)return"";for(var g=this.head,y=""+g.data;g=g.next;)y+=p+g.data;return y}},{key:"concat",value:function(p){if(0===this.length)return m.alloc(0);for(var g,y,v=m.allocUnsafe(p>>>0),_=this.head,b=0;_;)g=_.data,y=b,m.prototype.copy.call(g,v,y),b+=_.data.length,_=_.next;return v}},{key:"consume",value:function(p,g){var y;return p<this.head.data.length?(y=this.head.data.slice(0,p),this.head.data=this.head.data.slice(p)):y=p===this.head.data.length?this.shift():g?this._getString(p):this._getBuffer(p),y}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(p){var g=this.head,y=1,m=g.data;for(p-=m.length;g=g.next;){var v=g.data,_=p>v.length?v.length:p;if(_===v.length?m+=v:m+=v.slice(0,p),0==(p-=_)){_===v.length?(++y,g.next?this.head=g.next:this.head=this.tail=null):(this.head=g,g.data=v.slice(_));break}++y}return this.length-=y,m}},{key:"_getBuffer",value:function(p){var g=m.allocUnsafe(p),y=this.head,v=1;for(y.data.copy(g),p-=y.data.length;y=y.next;){var _=y.data,b=p>_.length?_.length:p;if(_.copy(g,g.length-p,0,b),0==(p-=b)){b===_.length?(++v,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=_.slice(b));break}++v}return this.length-=v,g}},{key:_,value:function(p,g){return v(this,function(p){for(var g=1;g<arguments.length;g++){var y=null!=arguments[g]?arguments[g]:{};g%2?ownKeys(Object(y),!0).forEach(function(g){var m;m=y[g],g in p?Object.defineProperty(p,g,{value:m,enumerable:!0,configurable:!0,writable:!0}):p[g]=m}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(y)):ownKeys(Object(y)).forEach(function(g){Object.defineProperty(p,g,Object.getOwnPropertyDescriptor(y,g))})}return p}({},g,{depth:0,customInspect:!1}))}}],_defineProperties(BufferList.prototype,p),g&&_defineProperties(BufferList,g),BufferList}()},25:function(p){"use strict";function emitErrorAndCloseNT(p,g){emitErrorNT(p,g),emitCloseNT(p)}function emitCloseNT(p){(!p._writableState||p._writableState.emitClose)&&(!p._readableState||p._readableState.emitClose)&&p.emit("close")}function emitErrorNT(p,g){p.emit("error",g)}p.exports={destroy:function(p,g){var y=this,v=this._readableState&&this._readableState.destroyed,_=this._writableState&&this._writableState.destroyed;return v||_?g?g(p):p&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,m.nextTick(emitErrorNT,this,p)):m.nextTick(emitErrorNT,this,p)):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(p||null,function(p){!g&&p?y._writableState?y._writableState.errorEmitted?m.nextTick(emitCloseNT,y):(y._writableState.errorEmitted=!0,m.nextTick(emitErrorAndCloseNT,y,p)):m.nextTick(emitErrorAndCloseNT,y,p):g?(m.nextTick(emitCloseNT,y),g(p)):m.nextTick(emitCloseNT,y)})),this},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(p,g){var y=p._readableState,m=p._writableState;y&&y.autoDestroy||m&&m.autoDestroy?p.destroy(g):p.emit("error",g)}}},698:function(p,g,y){"use strict";var m=y(646).q.ERR_STREAM_PREMATURE_CLOSE;function noop(){}p.exports=function eos(p,g,y){if("function"==typeof g)return eos(p,null,g);g||(g={}),v=y||noop,_=!1,y=function(){if(!_){_=!0;for(var p=arguments.length,g=Array(p),y=0;y<p;y++)g[y]=arguments[y];v.apply(this,g)}};var v,_,b=g.readable||!1!==g.readable&&p.readable,w=g.writable||!1!==g.writable&&p.writable,o=function(){p.writable||f()},S=p._writableState&&p._writableState.finished,f=function(){w=!1,S=!0,b||y.call(p)},T=p._readableState&&p._readableState.endEmitted,u=function(){b=!1,T=!0,w||y.call(p)},d=function(g){y.call(p,g)},c=function(){var g;return b&&!T?(p._readableState&&p._readableState.ended||(g=new m),y.call(p,g)):w&&!S?(p._writableState&&p._writableState.ended||(g=new m),y.call(p,g)):void 0},h=function(){p.req.on("finish",f)};return p.setHeader&&"function"==typeof p.abort?(p.on("complete",f),p.on("abort",c),p.req?h():p.on("request",h)):w&&!p._writableState&&(p.on("end",o),p.on("close",o)),p.on("end",u),p.on("finish",f),!1!==g.error&&p.on("error",d),p.on("close",c),function(){p.removeListener("complete",f),p.removeListener("abort",c),p.removeListener("request",h),p.req&&p.req.removeListener("finish",f),p.removeListener("end",o),p.removeListener("close",o),p.removeListener("finish",f),p.removeListener("end",u),p.removeListener("error",d),p.removeListener("close",c)}}},727:function(p,g,y){"use strict";function asyncGeneratorStep(p,g,y,m,v,_,b){try{var w=p[_](b),S=w.value}catch(p){y(p);return}w.done?g(S):Promise.resolve(S).then(m,v)}function ownKeys(p,g){var y=Object.keys(p);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(p);g&&(m=m.filter(function(g){return Object.getOwnPropertyDescriptor(p,g).enumerable})),y.push.apply(y,m)}return y}var m=y(646).q.ERR_INVALID_ARG_TYPE;p.exports=function(p,g,y){if(g&&"function"==typeof g.next)v=g;else if(g&&g[Symbol.asyncIterator])v=g[Symbol.asyncIterator]();else if(g&&g[Symbol.iterator])v=g[Symbol.iterator]();else throw new m("iterable",["Iterable"],g);var v,_=new p(function(p){for(var g=1;g<arguments.length;g++){var y=null!=arguments[g]?arguments[g]:{};g%2?ownKeys(Object(y),!0).forEach(function(g){var m;m=y[g],g in p?Object.defineProperty(p,g,{value:m,enumerable:!0,configurable:!0,writable:!0}):p[g]=m}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(y)):ownKeys(Object(y)).forEach(function(g){Object.defineProperty(p,g,Object.getOwnPropertyDescriptor(y,g))})}return p}({objectMode:!0},y)),b=!1;function next(){return _next2.apply(this,arguments)}function _next2(){var p;return p=function*(){try{var p=yield v.next(),g=p.value;p.done?_.push(null):_.push((yield g))?next():b=!1}catch(p){_.destroy(p)}},(_next2=function(){var g=this,y=arguments;return new Promise(function(m,v){var _=p.apply(g,y);function _next(p){asyncGeneratorStep(_,m,v,_next,_throw,"next",p)}function _throw(p){asyncGeneratorStep(_,m,v,_next,_throw,"throw",p)}_next(void 0)})}).apply(this,arguments)}return _._read=function(){b||(b=!0,next())},_}},442:function(p,g,y){"use strict";var m,v=y(646).q,_=v.ERR_MISSING_ARGS,b=v.ERR_STREAM_DESTROYED;function noop(p){if(p)throw p}function call(p){p()}function pipe(p,g){return p.pipe(g)}p.exports=function(){for(var p,g,v=arguments.length,w=Array(v),S=0;S<v;S++)w[S]=arguments[S];var T=(p=w).length&&"function"==typeof p[p.length-1]?p.pop():noop;if(Array.isArray(w[0])&&(w=w[0]),w.length<2)throw new _("streams");var E=w.map(function(p,v){var _,S,R,P,O,A=v<w.length-1;return S=_=function(p){g||(g=p),p&&E.forEach(call),A||(E.forEach(call),T(g))},R=!1,_=function(){R||(R=!0,S.apply(void 0,arguments))},P=!1,p.on("close",function(){P=!0}),void 0===m&&(m=y(698)),m(p,{readable:A,writable:v>0},function(p){if(p)return _(p);P=!0,_()}),O=!1,function(g){if(!P&&!O){if(O=!0,p.setHeader&&"function"==typeof p.abort)return p.abort();if("function"==typeof p.destroy)return p.destroy();_(g||new b("pipe"))}}});return w.reduce(pipe)}},776:function(p,g,y){"use strict";var m=y(646).q.ERR_INVALID_OPT_VALUE;p.exports={getHighWaterMark:function(p,g,y,v){var _=null!=g.highWaterMark?g.highWaterMark:v?g[y]:null;if(null!=_){if(!(isFinite(_)&&Math.floor(_)===_)||_<0){var b=v?y:"highWaterMark";throw new m(b,_)}return Math.floor(_)}return p.objectMode?16:16384}}},678:function(p,g,y){p.exports=y(781)},726:function(p,g,y){var v=y(781);"disable"===m.env.READABLE_STREAM&&v?(p.exports=v.Readable,Object.assign(p.exports,v),p.exports.Stream=v):((g=p.exports=y(709)).Stream=v||g,g.Readable=g,g.Writable=y(337),g.Duplex=y(403),g.Transform=y(170),g.PassThrough=y(889),g.finished=y(698),g.pipeline=y(442))},55:function(p,g,y){var m=y(300),v=m.Buffer;function copyProps(p,g){for(var y in p)g[y]=p[y]}function SafeBuffer(p,g,y){return v(p,g,y)}v.from&&v.alloc&&v.allocUnsafe&&v.allocUnsafeSlow?p.exports=m:(copyProps(m,g),g.Buffer=SafeBuffer),SafeBuffer.prototype=Object.create(v.prototype),copyProps(v,SafeBuffer),SafeBuffer.from=function(p,g,y){if("number"==typeof p)throw TypeError("Argument must not be a number");return v(p,g,y)},SafeBuffer.alloc=function(p,g,y){if("number"!=typeof p)throw TypeError("Argument must be a number");var m=v(p);return void 0!==g?"string"==typeof y?m.fill(g,y):m.fill(g):m.fill(0),m},SafeBuffer.allocUnsafe=function(p){if("number"!=typeof p)throw TypeError("Argument must be a number");return v(p)},SafeBuffer.allocUnsafeSlow=function(p){if("number"!=typeof p)throw TypeError("Argument must be a number");return m.SlowBuffer(p)}},813:function(p,g,m){var v=m(450),_=m(254),b=m(911),w=m(523),S=m(310);g.request=function(p,g){p="string"==typeof p?S.parse(p):b(p);var m=-1===y.g.location.protocol.search(/^https?:$/)?"http:":"",_=p.protocol||m,w=p.hostname||p.host,T=p.port,E=p.path||"/";w&&-1!==w.indexOf(":")&&(w="["+w+"]"),p.url=(w?_+"//"+w:"")+(T?":"+T:"")+E,p.method=(p.method||"GET").toUpperCase(),p.headers=p.headers||{};var R=new v(p);return g&&R.on("response",g),R},g.get=function(p,y){var m=g.request(p,y);return m.end(),m},g.ClientRequest=v,g.IncomingMessage=_.IncomingMessage,g.Agent=function(){},g.Agent.defaultMaxSockets=4,g.globalAgent=new g.Agent,g.STATUS_CODES=w,g.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]},301:function(p,g){var m;function getXHR(){if(void 0!==m)return m;if(y.g.XMLHttpRequest){m=new y.g.XMLHttpRequest;try{m.open("GET",y.g.XDomainRequest?"/":"https://example.com")}catch(p){m=null}}else m=null;return m}function checkTypeSupport(p){var g=getXHR();if(!g)return!1;try{return g.responseType=p,g.responseType===p}catch(p){}return!1}function isFunction(p){return"function"==typeof p}g.fetch=isFunction(y.g.fetch)&&isFunction(y.g.ReadableStream),g.writableStream=isFunction(y.g.WritableStream),g.abortController=isFunction(y.g.AbortController),g.arraybuffer=g.fetch||checkTypeSupport("arraybuffer"),g.msstream=!g.fetch&&checkTypeSupport("ms-stream"),g.mozchunkedarraybuffer=!g.fetch&&checkTypeSupport("moz-chunked-arraybuffer"),g.overrideMimeType=g.fetch||!!getXHR()&&isFunction(getXHR().overrideMimeType),m=null},450:function(p,g,_){var b=_(301),w=_(782),S=_(254),T=_(726),E=S.IncomingMessage,R=S.readyStates,P=p.exports=function(p){var g,y,m,_=this;T.Writable.call(_),_._opts=p,_._body=[],_._headers={},p.auth&&_.setHeader("Authorization","Basic "+v.from(p.auth).toString("base64")),Object.keys(p.headers).forEach(function(g){_.setHeader(g,p.headers[g])});var w=!0;if("disable-fetch"===p.mode||"requestTimeout"in p&&!b.abortController)w=!1,m=!0;else if("prefer-streaming"===p.mode)m=!1;else if("allow-wrong-content-type"===p.mode)m=!b.overrideMimeType;else if(p.mode&&"default"!==p.mode&&"prefer-fast"!==p.mode)throw Error("Invalid value for opts.mode");else m=!0;_._mode=(g=m,y=w,b.fetch&&y?"fetch":b.mozchunkedarraybuffer?"moz-chunked-arraybuffer":b.msstream?"ms-stream":b.arraybuffer&&g?"arraybuffer":"text"),_._fetchTimer=null,_.on("finish",function(){_._onFinish()})};w(P,T.Writable),P.prototype.setHeader=function(p,g){var y=p.toLowerCase();-1===O.indexOf(y)&&(this._headers[y]={name:p,value:g})},P.prototype.getHeader=function(p){var g=this._headers[p.toLowerCase()];return g?g.value:null},P.prototype.removeHeader=function(p){delete this._headers[p.toLowerCase()]},P.prototype._onFinish=function(){var p=this;if(!p._destroyed){var g=p._opts,v=p._headers,_=null;"GET"!==g.method&&"HEAD"!==g.method&&(_=new Blob(p._body,{type:(v["content-type"]||{}).value||""}));var w=[];if(Object.keys(v).forEach(function(p){var g=v[p].name,y=v[p].value;Array.isArray(y)?y.forEach(function(p){w.push([g,p])}):w.push([g,y])}),"fetch"===p._mode){var S=null;if(b.abortController){var T=new AbortController;S=T.signal,p._fetchAbortController=T,"requestTimeout"in g&&0!==g.requestTimeout&&(p._fetchTimer=y.g.setTimeout(function(){p.emit("requestTimeout"),p._fetchAbortController&&p._fetchAbortController.abort()},g.requestTimeout))}y.g.fetch(p._opts.url,{method:p._opts.method,headers:w,body:_||void 0,mode:"cors",credentials:g.withCredentials?"include":"same-origin",signal:S}).then(function(g){p._fetchResponse=g,p._connect()},function(g){y.g.clearTimeout(p._fetchTimer),p._destroyed||p.emit("error",g)})}else{var E=p._xhr=new y.g.XMLHttpRequest;try{E.open(p._opts.method,p._opts.url,!0)}catch(g){m.nextTick(function(){p.emit("error",g)});return}"responseType"in E&&(E.responseType=p._mode),"withCredentials"in E&&(E.withCredentials=!!g.withCredentials),"text"===p._mode&&"overrideMimeType"in E&&E.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in g&&(E.timeout=g.requestTimeout,E.ontimeout=function(){p.emit("requestTimeout")}),w.forEach(function(p){E.setRequestHeader(p[0],p[1])}),p._response=null,E.onreadystatechange=function(){switch(E.readyState){case R.LOADING:case R.DONE:p._onXHRProgress()}},"moz-chunked-arraybuffer"===p._mode&&(E.onprogress=function(){p._onXHRProgress()}),E.onerror=function(){p._destroyed||p.emit("error",Error("XHR error"))};try{E.send(_)}catch(g){m.nextTick(function(){p.emit("error",g)});return}}}},P.prototype._onXHRProgress=function(){(function(p){try{var g=p.status;return null!==g&&0!==g}catch(p){return!1}})(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},P.prototype._connect=function(){var p=this;p._destroyed||(p._response=new E(p._xhr,p._fetchResponse,p._mode,p._fetchTimer),p._response.on("error",function(g){p.emit("error",g)}),p.emit("response",p._response))},P.prototype._write=function(p,g,y){this._body.push(p),y()},P.prototype.abort=P.prototype.destroy=function(){this._destroyed=!0,y.g.clearTimeout(this._fetchTimer),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort()},P.prototype.end=function(p,g,y){"function"==typeof p&&(y=p,p=void 0),T.Writable.prototype.end.call(this,p,g,y)},P.prototype.flushHeaders=function(){},P.prototype.setTimeout=function(){},P.prototype.setNoDelay=function(){},P.prototype.setSocketKeepAlive=function(){};var O=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]},254:function(p,g,_){var b=_(301),w=_(782),S=_(726),T=g.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},E=g.IncomingMessage=function(p,g,_,w){var T=this;if(S.Readable.call(T),T._mode=_,T.headers={},T.rawHeaders=[],T.trailers={},T.rawTrailers=[],T.on("end",function(){m.nextTick(function(){T.emit("close")})}),"fetch"===_){if(T._fetchResponse=g,T.url=g.url,T.statusCode=g.status,T.statusMessage=g.statusText,g.headers.forEach(function(p,g){T.headers[g.toLowerCase()]=p,T.rawHeaders.push(g,p)}),b.writableStream){var E=new WritableStream({write:function(p){return new Promise(function(g,y){T._destroyed?y():T.push(v.from(p))?g():T._resumeFetch=g})},close:function(){y.g.clearTimeout(w),T._destroyed||T.push(null)},abort:function(p){T._destroyed||T.emit("error",p)}});try{g.body.pipeTo(E).catch(function(p){y.g.clearTimeout(w),T._destroyed||T.emit("error",p)});return}catch(p){}}var R=g.body.getReader();!function read(){R.read().then(function(p){if(!T._destroyed){if(p.done){y.g.clearTimeout(w),T.push(null);return}T.push(v.from(p.value)),read()}}).catch(function(p){y.g.clearTimeout(w),T._destroyed||T.emit("error",p)})}()}else if(T._xhr=p,T._pos=0,T.url=p.responseURL,T.statusCode=p.status,T.statusMessage=p.statusText,p.getAllResponseHeaders().split(/\r?\n/).forEach(function(p){var g=p.match(/^([^:]+):\s*(.*)/);if(g){var y=g[1].toLowerCase();"set-cookie"===y?(void 0===T.headers[y]&&(T.headers[y]=[]),T.headers[y].push(g[2])):void 0!==T.headers[y]?T.headers[y]+=", "+g[2]:T.headers[y]=g[2],T.rawHeaders.push(g[1],g[2])}}),T._charset="x-user-defined",!b.overrideMimeType){var P=T.rawHeaders["mime-type"];if(P){var O=P.match(/;\s*charset=([^;])(;|$)/);O&&(T._charset=O[1].toLowerCase())}T._charset||(T._charset="utf-8")}};w(E,S.Readable),E.prototype._read=function(){var p=this._resumeFetch;p&&(this._resumeFetch=null,p())},E.prototype._onXHRProgress=function(){var p=this,g=p._xhr,m=null;switch(p._mode){case"text":if((m=g.responseText).length>p._pos){var _=m.substr(p._pos);if("x-user-defined"===p._charset){for(var b=v.alloc(_.length),w=0;w<_.length;w++)b[w]=255&_.charCodeAt(w);p.push(b)}else p.push(_,p._charset);p._pos=m.length}break;case"arraybuffer":if(g.readyState!==T.DONE||!g.response)break;m=g.response,p.push(v.from(new Uint8Array(m)));break;case"moz-chunked-arraybuffer":if(m=g.response,g.readyState!==T.LOADING||!m)break;p.push(v.from(new Uint8Array(m)));break;case"ms-stream":if(m=g.response,g.readyState!==T.LOADING)break;var S=new y.g.MSStreamReader;S.onprogress=function(){S.result.byteLength>p._pos&&(p.push(v.from(new Uint8Array(S.result.slice(p._pos)))),p._pos=S.result.byteLength)},S.onload=function(){p.push(null)},S.readAsArrayBuffer(m)}p._xhr.readyState===T.DONE&&"ms-stream"!==p._mode&&p.push(null)}},704:function(p,g,y){"use strict";var m=y(55).Buffer,v=m.isEncoding||function(p){switch((p=""+p)&&p.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function StringDecoder(p){var g;switch(this.encoding=function(p){var g=function(p){var g;if(!p)return"utf8";for(;;)switch(p){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return p;default:if(g)return;p=(""+p).toLowerCase(),g=!0}}(p);if("string"!=typeof g&&(m.isEncoding===v||!v(p)))throw Error("Unknown encoding: "+p);return g||p}(p),this.encoding){case"utf16le":this.text=utf16Text,this.end=utf16End,g=4;break;case"utf8":this.fillLast=utf8FillLast,g=4;break;case"base64":this.text=base64Text,this.end=base64End,g=3;break;default:this.write=simpleWrite,this.end=simpleEnd;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=m.allocUnsafe(g)}function utf8CheckByte(p){return p<=127?0:p>>5==6?2:p>>4==14?3:p>>3==30?4:p>>6==2?-1:-2}function utf8FillLast(p){var g=this.lastTotal-this.lastNeed,y=function(p,g,y){if((192&g[0])!=128)return p.lastNeed=0,"�";if(p.lastNeed>1&&g.length>1){if((192&g[1])!=128)return p.lastNeed=1,"�";if(p.lastNeed>2&&g.length>2&&(192&g[2])!=128)return p.lastNeed=2,"�"}}(this,p,0);return void 0!==y?y:this.lastNeed<=p.length?(p.copy(this.lastChar,g,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):void(p.copy(this.lastChar,g,0,p.length),this.lastNeed-=p.length)}function utf16Text(p,g){if((p.length-g)%2==0){var y=p.toString("utf16le",g);if(y){var m=y.charCodeAt(y.length-1);if(m>=55296&&m<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1],y.slice(0,-1)}return y}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=p[p.length-1],p.toString("utf16le",g,p.length-1)}function utf16End(p){var g=p&&p.length?this.write(p):"";if(this.lastNeed){var y=this.lastTotal-this.lastNeed;return g+this.lastChar.toString("utf16le",0,y)}return g}function base64Text(p,g){var y=(p.length-g)%3;return 0===y?p.toString("base64",g):(this.lastNeed=3-y,this.lastTotal=3,1===y?this.lastChar[0]=p[p.length-1]:(this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1]),p.toString("base64",g,p.length-y))}function base64End(p){var g=p&&p.length?this.write(p):"";return this.lastNeed?g+this.lastChar.toString("base64",0,3-this.lastNeed):g}function simpleWrite(p){return p.toString(this.encoding)}function simpleEnd(p){return p&&p.length?this.write(p):""}g.s=StringDecoder,StringDecoder.prototype.write=function(p){var g,y;if(0===p.length)return"";if(this.lastNeed){if(void 0===(g=this.fillLast(p)))return"";y=this.lastNeed,this.lastNeed=0}else y=0;return y<p.length?g?g+this.text(p,y):this.text(p,y):g||""},StringDecoder.prototype.end=function(p){var g=p&&p.length?this.write(p):"";return this.lastNeed?g+"�":g},StringDecoder.prototype.text=function(p,g){var y=function(p,g,y){var m=g.length-1;if(m<y)return 0;var v=utf8CheckByte(g[m]);return v>=0?(v>0&&(p.lastNeed=v-1),v):--m<y||-2===v?0:(v=utf8CheckByte(g[m]))>=0?(v>0&&(p.lastNeed=v-2),v):--m<y||-2===v?0:(v=utf8CheckByte(g[m]))>=0?(v>0&&(2===v?v=0:p.lastNeed=v-3),v):0}(this,p,g);if(!this.lastNeed)return p.toString("utf8",g);this.lastTotal=y;var m=p.length-(y-this.lastNeed);return p.copy(this.lastChar,0,m),p.toString("utf8",g,m)},StringDecoder.prototype.fillLast=function(p){if(this.lastNeed<=p.length)return p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,p.length),this.lastNeed-=p.length}},769:function(p){p.exports=function(p,g){if(config("noDeprecation"))return p;var y=!1;return function(){if(!y){if(config("throwDeprecation"))throw Error(g);config("traceDeprecation")?console.trace(g):console.warn(g),y=!0}return p.apply(this,arguments)}};function config(p){try{if(!y.g.localStorage)return!1}catch(p){return!1}var g=y.g.localStorage[p];return null!=g&&"true"===String(g).toLowerCase()}},911:function(p){p.exports=function(){for(var p={},y=0;y<arguments.length;y++){var m=arguments[y];for(var v in m)g.call(m,v)&&(p[v]=m[v])}return p};var g=Object.prototype.hasOwnProperty},300:function(p){"use strict";p.exports=y(67133)},361:function(p){"use strict";p.exports=y(512)},781:function(p){"use strict";p.exports=y(48290)},310:function(p){"use strict";p.exports=y(40692)},837:function(p){"use strict";p.exports=y(40942)}},_={};function __nccwpck_require__(p){var y=_[p];if(void 0!==y)return y.exports;var m=_[p]={exports:{}},v=!0;try{g[p](m,m.exports,__nccwpck_require__),v=!1}finally{v&&delete _[p]}return m.exports}__nccwpck_require__.ab="//";var b=__nccwpck_require__(813);p.exports=b}()},19063:function(p,g,y){var m="function"==typeof Map&&Map.prototype,v=Object.getOwnPropertyDescriptor&&m?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,_=m&&v&&"function"==typeof v.get?v.get:null,b=m&&Map.prototype.forEach,w="function"==typeof Set&&Set.prototype,S=Object.getOwnPropertyDescriptor&&w?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,T=w&&S&&"function"==typeof S.get?S.get:null,E=w&&Set.prototype.forEach,R="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,P="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,O="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,A=Boolean.prototype.valueOf,x=Object.prototype.toString,D=Function.prototype.toString,k=String.prototype.match,I=String.prototype.slice,C=String.prototype.replace,N=String.prototype.toUpperCase,ee=String.prototype.toLowerCase,ei=RegExp.prototype.test,es=Array.prototype.concat,eo=Array.prototype.join,ea=Array.prototype.slice,eu=Math.floor,ec="function"==typeof BigInt?BigInt.prototype.valueOf:null,el=Object.getOwnPropertySymbols,ed="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,eh="function"==typeof Symbol&&"object"==typeof Symbol.iterator,ep="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===eh?"object":"symbol")?Symbol.toStringTag:null,ef=Object.prototype.propertyIsEnumerable,eg=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(p){return p.__proto__}:null);function addNumericSeparator(p,g){if(p===1/0||p===-1/0||p!=p||p&&p>-1e3&&p<1e3||ei.call(/e/,g))return g;var y=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof p){var m=p<0?-eu(-p):eu(p);if(m!==p){var v=String(m),_=I.call(g,v.length+1);return C.call(v,y,"$&_")+"."+C.call(C.call(_,/([0-9]{3})/g,"$&_"),/_$/,"")}}return C.call(g,y,"$&_")}var ey=y(24654),em=ey.custom,ev=isSymbol(em)?em:null;function wrapQuotes(p,g,y){var m="double"===(y.quoteStyle||g)?'"':"'";return m+p+m}function isArray(p){return"[object Array]"===toStr(p)&&(!ep||!("object"==typeof p&&ep in p))}function isRegExp(p){return"[object RegExp]"===toStr(p)&&(!ep||!("object"==typeof p&&ep in p))}function isSymbol(p){if(eh)return p&&"object"==typeof p&&p instanceof Symbol;if("symbol"==typeof p)return!0;if(!p||"object"!=typeof p||!ed)return!1;try{return ed.call(p),!0}catch(p){}return!1}p.exports=function inspect_(p,g,y,m){var v=g||{};if(has(v,"quoteStyle")&&"single"!==v.quoteStyle&&"double"!==v.quoteStyle)throw TypeError('option "quoteStyle" must be "single" or "double"');if(has(v,"maxStringLength")&&("number"==typeof v.maxStringLength?v.maxStringLength<0&&v.maxStringLength!==1/0:null!==v.maxStringLength))throw TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var w=!has(v,"customInspect")||v.customInspect;if("boolean"!=typeof w&&"symbol"!==w)throw TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(has(v,"indent")&&null!==v.indent&&"	"!==v.indent&&!(parseInt(v.indent,10)===v.indent&&v.indent>0))throw TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(has(v,"numericSeparator")&&"boolean"!=typeof v.numericSeparator)throw TypeError('option "numericSeparator", if provided, must be `true` or `false`');var S=v.numericSeparator;if(void 0===p)return"undefined";if(null===p)return"null";if("boolean"==typeof p)return p?"true":"false";if("string"==typeof p)return function inspectString(p,g){if(p.length>g.maxStringLength){var y=p.length-g.maxStringLength;return inspectString(I.call(p,0,g.maxStringLength),g)+"... "+y+" more character"+(y>1?"s":"")}return wrapQuotes(C.call(C.call(p,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,lowbyte),"single",g)}(p,v);if("number"==typeof p){if(0===p)return 1/0/p>0?"0":"-0";var x=String(p);return S?addNumericSeparator(p,x):x}if("bigint"==typeof p){var N=String(p)+"n";return S?addNumericSeparator(p,N):N}var ei=void 0===v.depth?5:v.depth;if(void 0===y&&(y=0),y>=ei&&ei>0&&"object"==typeof p)return isArray(p)?"[Array]":"[Object]";var eu=function(p,g){var y;if("	"===p.indent)y="	";else{if("number"!=typeof p.indent||!(p.indent>0))return null;y=eo.call(Array(p.indent+1)," ")}return{base:y,prev:eo.call(Array(g+1),y)}}(v,y);if(void 0===m)m=[];else if(indexOf(m,p)>=0)return"[Circular]";function inspect(p,g,_){if(g&&(m=ea.call(m)).push(g),_){var b={depth:v.depth};return has(v,"quoteStyle")&&(b.quoteStyle=v.quoteStyle),inspect_(p,b,y+1,m)}return inspect_(p,v,y+1,m)}if("function"==typeof p&&!isRegExp(p)){var el=function(p){if(p.name)return p.name;var g=k.call(D.call(p),/^function\s*([\w$]+)/);return g?g[1]:null}(p),em=arrObjKeys(p,inspect);return"[Function"+(el?": "+el:" (anonymous)")+"]"+(em.length>0?" { "+eo.call(em,", ")+" }":"")}if(isSymbol(p)){var e_=eh?C.call(String(p),/^(Symbol\(.*\))_[^)]*$/,"$1"):ed.call(p);return"object"!=typeof p||eh?e_:markBoxed(e_)}if(p&&"object"==typeof p&&("undefined"!=typeof HTMLElement&&p instanceof HTMLElement||"string"==typeof p.nodeName&&"function"==typeof p.getAttribute)){for(var eb,ew="<"+ee.call(String(p.nodeName)),eS=p.attributes||[],eT=0;eT<eS.length;eT++)ew+=" "+eS[eT].name+"="+wrapQuotes((eb=eS[eT].value,C.call(String(eb),/"/g,"&quot;")),"double",v);return ew+=">",p.childNodes&&p.childNodes.length&&(ew+="..."),ew+="</"+ee.call(String(p.nodeName))+">"}if(isArray(p)){if(0===p.length)return"[]";var eE=arrObjKeys(p,inspect);return eu&&!function(p){for(var g=0;g<p.length;g++)if(indexOf(p[g],"\n")>=0)return!1;return!0}(eE)?"["+indentedJoin(eE,eu)+"]":"[ "+eo.call(eE,", ")+" ]"}if("[object Error]"===toStr(p)&&(!ep||!("object"==typeof p&&ep in p))){var eR=arrObjKeys(p,inspect);return"cause"in Error.prototype||!("cause"in p)||ef.call(p,"cause")?0===eR.length?"["+String(p)+"]":"{ ["+String(p)+"] "+eo.call(eR,", ")+" }":"{ ["+String(p)+"] "+eo.call(es.call("[cause]: "+inspect(p.cause),eR),", ")+" }"}if("object"==typeof p&&w){if(ev&&"function"==typeof p[ev]&&ey)return ey(p,{depth:ei-y});if("symbol"!==w&&"function"==typeof p.inspect)return p.inspect()}if(function(p){if(!_||!p||"object"!=typeof p)return!1;try{_.call(p);try{T.call(p)}catch(p){return!0}return p instanceof Map}catch(p){}return!1}(p)){var eP=[];return b&&b.call(p,function(g,y){eP.push(inspect(y,p,!0)+" => "+inspect(g,p))}),collectionOf("Map",_.call(p),eP,eu)}if(function(p){if(!T||!p||"object"!=typeof p)return!1;try{T.call(p);try{_.call(p)}catch(p){return!0}return p instanceof Set}catch(p){}return!1}(p)){var eO=[];return E&&E.call(p,function(g){eO.push(inspect(g,p))}),collectionOf("Set",T.call(p),eO,eu)}if(function(p){if(!R||!p||"object"!=typeof p)return!1;try{R.call(p,R);try{P.call(p,P)}catch(p){return!0}return p instanceof WeakMap}catch(p){}return!1}(p))return weakCollectionOf("WeakMap");if(function(p){if(!P||!p||"object"!=typeof p)return!1;try{P.call(p,P);try{R.call(p,R)}catch(p){return!0}return p instanceof WeakSet}catch(p){}return!1}(p))return weakCollectionOf("WeakSet");if(function(p){if(!O||!p||"object"!=typeof p)return!1;try{return O.call(p),!0}catch(p){}return!1}(p))return weakCollectionOf("WeakRef");if("[object Number]"===toStr(p)&&(!ep||!("object"==typeof p&&ep in p)))return markBoxed(inspect(Number(p)));if(function(p){if(!p||"object"!=typeof p||!ec)return!1;try{return ec.call(p),!0}catch(p){}return!1}(p))return markBoxed(inspect(ec.call(p)));if("[object Boolean]"===toStr(p)&&(!ep||!("object"==typeof p&&ep in p)))return markBoxed(A.call(p));if("[object String]"===toStr(p)&&(!ep||!("object"==typeof p&&ep in p)))return markBoxed(inspect(String(p)));if(!("[object Date]"===toStr(p)&&(!ep||!("object"==typeof p&&ep in p)))&&!isRegExp(p)){var eA=arrObjKeys(p,inspect),ex=eg?eg(p)===Object.prototype:p instanceof Object||p.constructor===Object,eL=p instanceof Object?"":"null prototype",eD=!ex&&ep&&Object(p)===p&&ep in p?I.call(toStr(p),8,-1):eL?"Object":"",ek=(ex||"function"!=typeof p.constructor?"":p.constructor.name?p.constructor.name+" ":"")+(eD||eL?"["+eo.call(es.call([],eD||[],eL||[]),": ")+"] ":"");return 0===eA.length?ek+"{}":eu?ek+"{"+indentedJoin(eA,eu)+"}":ek+"{ "+eo.call(eA,", ")+" }"}return String(p)};var e_=Object.prototype.hasOwnProperty||function(p){return p in this};function has(p,g){return e_.call(p,g)}function toStr(p){return x.call(p)}function indexOf(p,g){if(p.indexOf)return p.indexOf(g);for(var y=0,m=p.length;y<m;y++)if(p[y]===g)return y;return -1}function lowbyte(p){var g=p.charCodeAt(0),y={8:"b",9:"t",10:"n",12:"f",13:"r"}[g];return y?"\\"+y:"\\x"+(g<16?"0":"")+N.call(g.toString(16))}function markBoxed(p){return"Object("+p+")"}function weakCollectionOf(p){return p+" { ? }"}function collectionOf(p,g,y,m){return p+" ("+g+") {"+(m?indentedJoin(y,m):eo.call(y,", "))+"}"}function indentedJoin(p,g){if(0===p.length)return"";var y="\n"+g.prev+g.base;return y+eo.call(p,","+y)+"\n"+g.prev}function arrObjKeys(p,g){var y,m=isArray(p),v=[];if(m){v.length=p.length;for(var _=0;_<p.length;_++)v[_]=has(p,_)?g(p[_],p):""}var b="function"==typeof el?el(p):[];if(eh){y={};for(var w=0;w<b.length;w++)y["$"+b[w]]=b[w]}for(var S in p)has(p,S)&&(!m||String(Number(S))!==S||!(S<p.length))&&(eh&&y["$"+S]instanceof Symbol||(ei.call(/[^\w$]/,S)?v.push(g(S,p)+": "+g(p[S],p)):v.push(S+": "+g(p[S],p))));if("function"==typeof el)for(var T=0;T<b.length;T++)ef.call(p,b[T])&&v.push("["+g(b[T])+"]: "+g(p[b[T]],p));return v}},62578:function(p){"use strict";var g=String.prototype.replace,y=/%20/g,m={RFC1738:"RFC1738",RFC3986:"RFC3986"};p.exports={default:m.RFC3986,formatters:{RFC1738:function(p){return g.call(p,y,"+")},RFC3986:function(p){return String(p)}},RFC1738:m.RFC1738,RFC3986:m.RFC3986}},76548:function(p,g,y){"use strict";var m=y(81414),v=y(17889),_=y(62578);p.exports={formats:_,parse:v,stringify:m}},17889:function(p,g,y){"use strict";var m=y(19975),v=Object.prototype.hasOwnProperty,_=Array.isArray,b={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:m.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},parseArrayValue=function(p,g){return p&&"string"==typeof p&&g.comma&&p.indexOf(",")>-1?p.split(","):p},parseValues=function(p,g){var y={__proto__:null},w=g.ignoreQueryPrefix?p.replace(/^\?/,""):p,S=g.parameterLimit===1/0?void 0:g.parameterLimit,T=w.split(g.delimiter,S),E=-1,R=g.charset;if(g.charsetSentinel)for(P=0;P<T.length;++P)0===T[P].indexOf("utf8=")&&("utf8=%E2%9C%93"===T[P]?R="utf-8":"utf8=%26%2310003%3B"===T[P]&&(R="iso-8859-1"),E=P,P=T.length);for(P=0;P<T.length;++P)if(P!==E){var P,O,A,x=T[P],D=x.indexOf("]="),k=-1===D?x.indexOf("="):D+1;-1===k?(O=g.decoder(x,b.decoder,R,"key"),A=g.strictNullHandling?null:""):(O=g.decoder(x.slice(0,k),b.decoder,R,"key"),A=m.maybeMap(parseArrayValue(x.slice(k+1),g),function(p){return g.decoder(p,b.decoder,R,"value")})),A&&g.interpretNumericEntities&&"iso-8859-1"===R&&(A=A.replace(/&#(\d+);/g,function(p,g){return String.fromCharCode(parseInt(g,10))})),x.indexOf("[]=")>-1&&(A=_(A)?[A]:A),v.call(y,O)?y[O]=m.combine(y[O],A):y[O]=A}return y},parseObject=function(p,g,y,m){for(var v=m?g:parseArrayValue(g,y),_=p.length-1;_>=0;--_){var b,w=p[_];if("[]"===w&&y.parseArrays)b=[].concat(v);else{b=y.plainObjects?Object.create(null):{};var S="["===w.charAt(0)&&"]"===w.charAt(w.length-1)?w.slice(1,-1):w,T=parseInt(S,10);y.parseArrays||""!==S?!isNaN(T)&&w!==S&&String(T)===S&&T>=0&&y.parseArrays&&T<=y.arrayLimit?(b=[])[T]=v:"__proto__"!==S&&(b[S]=v):b={0:v}}v=b}return v},parseKeys=function(p,g,y,m){if(p){var _=y.allowDots?p.replace(/\.([^.[]+)/g,"[$1]"):p,b=/(\[[^[\]]*])/g,w=y.depth>0&&/(\[[^[\]]*])/.exec(_),S=w?_.slice(0,w.index):_,T=[];if(S){if(!y.plainObjects&&v.call(Object.prototype,S)&&!y.allowPrototypes)return;T.push(S)}for(var E=0;y.depth>0&&null!==(w=b.exec(_))&&E<y.depth;){if(E+=1,!y.plainObjects&&v.call(Object.prototype,w[1].slice(1,-1))&&!y.allowPrototypes)return;T.push(w[1])}return w&&T.push("["+_.slice(w.index)+"]"),parseObject(T,g,y,m)}},normalizeParseOptions=function(p){if(!p)return b;if(null!==p.decoder&&void 0!==p.decoder&&"function"!=typeof p.decoder)throw TypeError("Decoder has to be a function.");if(void 0!==p.charset&&"utf-8"!==p.charset&&"iso-8859-1"!==p.charset)throw TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var g=void 0===p.charset?b.charset:p.charset;return{allowDots:void 0===p.allowDots?b.allowDots:!!p.allowDots,allowPrototypes:"boolean"==typeof p.allowPrototypes?p.allowPrototypes:b.allowPrototypes,allowSparse:"boolean"==typeof p.allowSparse?p.allowSparse:b.allowSparse,arrayLimit:"number"==typeof p.arrayLimit?p.arrayLimit:b.arrayLimit,charset:g,charsetSentinel:"boolean"==typeof p.charsetSentinel?p.charsetSentinel:b.charsetSentinel,comma:"boolean"==typeof p.comma?p.comma:b.comma,decoder:"function"==typeof p.decoder?p.decoder:b.decoder,delimiter:"string"==typeof p.delimiter||m.isRegExp(p.delimiter)?p.delimiter:b.delimiter,depth:"number"==typeof p.depth||!1===p.depth?+p.depth:b.depth,ignoreQueryPrefix:!0===p.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof p.interpretNumericEntities?p.interpretNumericEntities:b.interpretNumericEntities,parameterLimit:"number"==typeof p.parameterLimit?p.parameterLimit:b.parameterLimit,parseArrays:!1!==p.parseArrays,plainObjects:"boolean"==typeof p.plainObjects?p.plainObjects:b.plainObjects,strictNullHandling:"boolean"==typeof p.strictNullHandling?p.strictNullHandling:b.strictNullHandling}};p.exports=function(p,g){var y=normalizeParseOptions(g);if(""===p||null==p)return y.plainObjects?Object.create(null):{};for(var v="string"==typeof p?parseValues(p,y):p,_=y.plainObjects?Object.create(null):{},b=Object.keys(v),w=0;w<b.length;++w){var S=b[w],T=parseKeys(S,v[S],y,"string"==typeof p);_=m.merge(_,T,y)}return!0===y.allowSparse?_:m.compact(_)}},81414:function(p,g,y){"use strict";var m=y(87331),v=y(19975),_=y(62578),b=Object.prototype.hasOwnProperty,w={brackets:function(p){return p+"[]"},comma:"comma",indices:function(p,g){return p+"["+g+"]"},repeat:function(p){return p}},S=Array.isArray,T=Array.prototype.push,pushToArray=function(p,g){T.apply(p,S(g)?g:[g])},E=Date.prototype.toISOString,R=_.default,P={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:v.encode,encodeValuesOnly:!1,format:R,formatter:_.formatters[R],indices:!1,serializeDate:function(p){return E.call(p)},skipNulls:!1,strictNullHandling:!1},O={},stringify=function stringify(p,g,y,_,b,w,T,E,R,A,x,D,k,I,C,N){for(var ee,ei,es=p,eo=N,ea=0,eu=!1;void 0!==(eo=eo.get(O))&&!eu;){var ec=eo.get(p);if(ea+=1,void 0!==ec){if(ec===ea)throw RangeError("Cyclic object value");eu=!0}void 0===eo.get(O)&&(ea=0)}if("function"==typeof E?es=E(g,es):es instanceof Date?es=x(es):"comma"===y&&S(es)&&(es=v.maybeMap(es,function(p){return p instanceof Date?x(p):p})),null===es){if(b)return T&&!I?T(g,P.encoder,C,"key",D):g;es=""}if("string"==typeof(ee=es)||"number"==typeof ee||"boolean"==typeof ee||"symbol"==typeof ee||"bigint"==typeof ee||v.isBuffer(es))return T?[k(I?g:T(g,P.encoder,C,"key",D))+"="+k(T(es,P.encoder,C,"value",D))]:[k(g)+"="+k(String(es))];var el=[];if(void 0===es)return el;if("comma"===y&&S(es))I&&T&&(es=v.maybeMap(es,T)),ei=[{value:es.length>0?es.join(",")||null:void 0}];else if(S(E))ei=E;else{var ed=Object.keys(es);ei=R?ed.sort(R):ed}for(var eh=_&&S(es)&&1===es.length?g+"[]":g,ep=0;ep<ei.length;++ep){var ef=ei[ep],eg="object"==typeof ef&&void 0!==ef.value?ef.value:es[ef];if(!w||null!==eg){var ey=S(es)?"function"==typeof y?y(eh,ef):eh:eh+(A?"."+ef:"["+ef+"]");N.set(p,ea);var em=m();em.set(O,N),pushToArray(el,stringify(eg,ey,y,_,b,w,"comma"===y&&I&&S(es)?null:T,E,R,A,x,D,k,I,C,em))}}return el},normalizeStringifyOptions=function(p){if(!p)return P;if(null!==p.encoder&&void 0!==p.encoder&&"function"!=typeof p.encoder)throw TypeError("Encoder has to be a function.");var g=p.charset||P.charset;if(void 0!==p.charset&&"utf-8"!==p.charset&&"iso-8859-1"!==p.charset)throw TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var y=_.default;if(void 0!==p.format){if(!b.call(_.formatters,p.format))throw TypeError("Unknown format option provided.");y=p.format}var m=_.formatters[y],v=P.filter;return("function"==typeof p.filter||S(p.filter))&&(v=p.filter),{addQueryPrefix:"boolean"==typeof p.addQueryPrefix?p.addQueryPrefix:P.addQueryPrefix,allowDots:void 0===p.allowDots?P.allowDots:!!p.allowDots,charset:g,charsetSentinel:"boolean"==typeof p.charsetSentinel?p.charsetSentinel:P.charsetSentinel,delimiter:void 0===p.delimiter?P.delimiter:p.delimiter,encode:"boolean"==typeof p.encode?p.encode:P.encode,encoder:"function"==typeof p.encoder?p.encoder:P.encoder,encodeValuesOnly:"boolean"==typeof p.encodeValuesOnly?p.encodeValuesOnly:P.encodeValuesOnly,filter:v,format:y,formatter:m,serializeDate:"function"==typeof p.serializeDate?p.serializeDate:P.serializeDate,skipNulls:"boolean"==typeof p.skipNulls?p.skipNulls:P.skipNulls,sort:"function"==typeof p.sort?p.sort:null,strictNullHandling:"boolean"==typeof p.strictNullHandling?p.strictNullHandling:P.strictNullHandling}};p.exports=function(p,g){var y,v,_=p,b=normalizeStringifyOptions(g);"function"==typeof b.filter?_=(0,b.filter)("",_):S(b.filter)&&(y=b.filter);var T=[];if("object"!=typeof _||null===_)return"";v=g&&g.arrayFormat in w?g.arrayFormat:g&&"indices"in g?g.indices?"indices":"repeat":"indices";var E=w[v];if(g&&"commaRoundTrip"in g&&"boolean"!=typeof g.commaRoundTrip)throw TypeError("`commaRoundTrip` must be a boolean, or absent");var R="comma"===E&&g&&g.commaRoundTrip;y||(y=Object.keys(_)),b.sort&&y.sort(b.sort);for(var P=m(),O=0;O<y.length;++O){var A=y[O];b.skipNulls&&null===_[A]||pushToArray(T,stringify(_[A],A,E,R,b.strictNullHandling,b.skipNulls,b.encode?b.encoder:null,b.filter,b.sort,b.allowDots,b.serializeDate,b.format,b.formatter,b.encodeValuesOnly,b.charset,P))}var x=T.join(b.delimiter),D=!0===b.addQueryPrefix?"?":"";return b.charsetSentinel&&("iso-8859-1"===b.charset?D+="utf8=%26%2310003%3B&":D+="utf8=%E2%9C%93&"),x.length>0?D+x:""}},19975:function(p,g,y){"use strict";var m=y(62578),v=Object.prototype.hasOwnProperty,_=Array.isArray,b=function(){for(var p=[],g=0;g<256;++g)p.push("%"+((g<16?"0":"")+g.toString(16)).toUpperCase());return p}(),compactQueue=function(p){for(;p.length>1;){var g=p.pop(),y=g.obj[g.prop];if(_(y)){for(var m=[],v=0;v<y.length;++v)void 0!==y[v]&&m.push(y[v]);g.obj[g.prop]=m}}},arrayToObject=function(p,g){for(var y=g&&g.plainObjects?Object.create(null):{},m=0;m<p.length;++m)void 0!==p[m]&&(y[m]=p[m]);return y};p.exports={arrayToObject:arrayToObject,assign:function(p,g){return Object.keys(g).reduce(function(p,y){return p[y]=g[y],p},p)},combine:function(p,g){return[].concat(p,g)},compact:function(p){for(var g=[{obj:{o:p},prop:"o"}],y=[],m=0;m<g.length;++m)for(var v=g[m],_=v.obj[v.prop],b=Object.keys(_),w=0;w<b.length;++w){var S=b[w],T=_[S];"object"==typeof T&&null!==T&&-1===y.indexOf(T)&&(g.push({obj:_,prop:S}),y.push(T))}return compactQueue(g),p},decode:function(p,g,y){var m=p.replace(/\+/g," ");if("iso-8859-1"===y)return m.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(m)}catch(p){return m}},encode:function(p,g,y,v,_){if(0===p.length)return p;var w=p;if("symbol"==typeof p?w=Symbol.prototype.toString.call(p):"string"!=typeof p&&(w=String(p)),"iso-8859-1"===y)return escape(w).replace(/%u[0-9a-f]{4}/gi,function(p){return"%26%23"+parseInt(p.slice(2),16)+"%3B"});for(var S="",T=0;T<w.length;++T){var E=w.charCodeAt(T);if(45===E||46===E||95===E||126===E||E>=48&&E<=57||E>=65&&E<=90||E>=97&&E<=122||_===m.RFC1738&&(40===E||41===E)){S+=w.charAt(T);continue}if(E<128){S+=b[E];continue}if(E<2048){S+=b[192|E>>6]+b[128|63&E];continue}if(E<55296||E>=57344){S+=b[224|E>>12]+b[128|E>>6&63]+b[128|63&E];continue}T+=1,S+=b[240|(E=65536+((1023&E)<<10|1023&w.charCodeAt(T)))>>18]+b[128|E>>12&63]+b[128|E>>6&63]+b[128|63&E]}return S},isBuffer:function(p){return!!p&&"object"==typeof p&&!!(p.constructor&&p.constructor.isBuffer&&p.constructor.isBuffer(p))},isRegExp:function(p){return"[object RegExp]"===Object.prototype.toString.call(p)},maybeMap:function(p,g){if(_(p)){for(var y=[],m=0;m<p.length;m+=1)y.push(g(p[m]));return y}return g(p)},merge:function merge(p,g,y){if(!g)return p;if("object"!=typeof g){if(_(p))p.push(g);else{if(!p||"object"!=typeof p)return[p,g];(y&&(y.plainObjects||y.allowPrototypes)||!v.call(Object.prototype,g))&&(p[g]=!0)}return p}if(!p||"object"!=typeof p)return[p].concat(g);var m=p;return(_(p)&&!_(g)&&(m=arrayToObject(p,y)),_(p)&&_(g))?(g.forEach(function(g,m){if(v.call(p,m)){var _=p[m];_&&"object"==typeof _&&g&&"object"==typeof g?p[m]=merge(_,g,y):p.push(g)}else p[m]=g}),p):Object.keys(g).reduce(function(p,m){var _=g[m];return v.call(p,m)?p[m]=merge(p[m],_,y):p[m]=_,p},m)}}},87331:function(p,g,y){"use strict";var m=y(51597),v=y(50710),_=y(19063),b=m("%TypeError%"),w=m("%WeakMap%",!0),S=m("%Map%",!0),T=v("WeakMap.prototype.get",!0),E=v("WeakMap.prototype.set",!0),R=v("WeakMap.prototype.has",!0),P=v("Map.prototype.get",!0),O=v("Map.prototype.set",!0),A=v("Map.prototype.has",!0),listGetNode=function(p,g){for(var y,m=p;null!==(y=m.next);m=y)if(y.key===g)return m.next=y.next,y.next=p.next,p.next=y,y},listGet=function(p,g){var y=listGetNode(p,g);return y&&y.value},listSet=function(p,g,y){var m=listGetNode(p,g);m?m.value=y:p.next={key:g,next:p.next,value:y}};p.exports=function(){var p,g,y,m={assert:function(p){if(!m.has(p))throw new b("Side channel does not contain "+_(p))},get:function(m){if(w&&m&&("object"==typeof m||"function"==typeof m)){if(p)return T(p,m)}else if(S){if(g)return P(g,m)}else if(y)return listGet(y,m)},has:function(m){if(w&&m&&("object"==typeof m||"function"==typeof m)){if(p)return R(p,m)}else if(S){if(g)return A(g,m)}else if(y)return!!listGetNode(y,m);return!1},set:function(m,v){w&&m&&("object"==typeof m||"function"==typeof m)?(p||(p=new w),E(p,m,v)):S?(g||(g=new S),O(g,m,v)):(y||(y={key:{},next:null}),listSet(y,m,v))}};return m}},86115:function(p,g,y){"use strict";var m=this&&this.__createBinding||(Object.create?function(p,g,y,m){void 0===m&&(m=y);var v=Object.getOwnPropertyDescriptor(g,y);(!v||("get"in v?!g.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return g[y]}}),Object.defineProperty(p,m,v)}:function(p,g,y,m){void 0===m&&(m=y),p[m]=g[y]}),v=this&&this.__setModuleDefault||(Object.create?function(p,g){Object.defineProperty(p,"default",{enumerable:!0,value:g})}:function(p,g){p.default=g}),_=this&&this.__decorate||function(p,g,y,m){var v,_=arguments.length,b=_<3?g:null===m?m=Object.getOwnPropertyDescriptor(g,y):m;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(p,g,y,m);else for(var w=p.length-1;w>=0;w--)(v=p[w])&&(b=(_<3?v(b):_>3?v(g,y,b):v(g,y))||b);return _>3&&b&&Object.defineProperty(g,y,b),b},b=this&&this.__importStar||function(p){if(p&&p.__esModule)return p;var g={};if(null!=p)for(var y in p)"default"!==y&&Object.prototype.hasOwnProperty.call(p,y)&&m(g,p,y);return v(g,p),g},w=this&&this.__metadata||function(p,g){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(p,g)},S=this&&this.__awaiter||function(p,g,y,m){return new(y||(y=Promise))(function(v,_){function fulfilled(p){try{step(m.next(p))}catch(p){_(p)}}function rejected(p){try{step(m.throw(p))}catch(p){_(p)}}function step(p){var g;p.done?v(p.value):((g=p.value)instanceof y?g:new y(function(p){p(g)})).then(fulfilled,rejected)}step((m=m.apply(p,g||[])).next())})},T=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(g,"__esModule",{value:!0}),g.ServiceBuilder=g.ResponseInterceptor=g.RequestInterceptor=g.BaseService=g.nonHTTPRequestMethod=void 0;let E=b(y(76548)),R=T(y(51138)),P=y(58723),O=y(78769);R.default.defaults.withCredentials=!0;let A="__nonHTTPRequestMethod__";g.nonHTTPRequestMethod=(p,g)=>{Object.defineProperty(p[g],A,{value:!0,writable:!1})};let BaseService=class BaseService{constructor(p){this._endpoint=p.endpoint,this._httpClient=new HttpClient(p),this._methodMap=new Map,this._timeout=p.timeout,this._logCallback=p.logCallback;let g=this._getInstanceMethodNames();g.forEach(p=>{this._methodMap[p]=this[p]});let y=this;for(let p of g){let g={enumerable:!0,configurable:!0,get(){let g=y._methodMap[p],m=Object.getOwnPropertyDescriptor(g,A);return m&&!0===m.value||"_logCallback"===p?g:(...g)=>y._wrap(p,g)},set:g=>{y._methodMap[p]=g}};Object.defineProperty(this,p,g)}}isClientStandalone(){return this._httpClient.isStandalone()}useRequestInterceptor(p){return this._httpClient.useRequestInterceptor(p)}useResponseInterceptor(p){return this._httpClient.useResponseInterceptor(p)}ejectRequestInterceptor(p){this._httpClient.ejectRequestInterceptor(p)}ejectResponseInterceptor(p){this._httpClient.ejectResponseInterceptor(p)}setEndpoint(p){this._endpoint=p}setLogCallback(p){this._logCallback=p}setTimeout(p){this._timeout=p}_getInstanceMethodNames(){let p=[],g=this;do p=p.concat(Object.getOwnPropertyNames(g)),g=Object.getPrototypeOf(g);while(g);return p.sort().filter((p,g,y)=>p!==y[g+1]&&this[p]&&"function"==typeof this[p])}_wrap(p,g){return S(this,void 0,void 0,function*(){let y,m;let{url:v,method:_,headers:b,query:w,data:S}=this._resolveParameters(p,g),T=this._makeConfig(p,v,_,b,w,S);try{m=yield this._httpClient.sendRequest(T)}catch(p){y=p,m=p.response}if(this._logCallback&&this._logCallback(T,m),y)throw y;return m})}_resolveParameters(p,g){let y=this._resolveUrl(p,g),m=this._resolveHttpMethod(p),v=this._resolveHeaders(p,g),_=this._resolveQuery(p,g),b=this._resolveData(p,v,g);return v["content-type"]&&-1!==v["content-type"].indexOf("multipart/form-data")&&O.isNode&&(v=Object.assign(Object.assign({},v),b.getHeaders())),{url:y,method:m,headers:v,query:_,data:b}}_makeConfig(p,g,y,m,v,_){let b={url:g,method:y,headers:m,params:v,data:_};if(this.__meta__[p].responseType&&(b.responseType=this.__meta__[p].responseType),this.__meta__[p].requestTransformer&&(b.transformRequest=this.__meta__[p].requestTransformer),this.__meta__[p].responseTransformer&&(b.transformResponse=this.__meta__[p].responseTransformer),b.timeout=this.__meta__[p].timeout||this._timeout,this.__meta__[p].deprecated){let g=`[warning] Deprecated method: "${p}". `;this.__meta__[p].deprecatedHint&&(g+=this.__meta__[p].deprecatedHint),console.warn(g)}return this.__meta__[p].queryArrayFormat&&(b.paramsSerializer=g=>E.stringify(g,{arrayFormat:this.__meta__[p].queryArrayFormat})),b=Object.assign(Object.assign({},b),this.__meta__[p].config)}_resolveUrl(p,g){let y=this.__meta__,m=this._endpoint,v=y.basePath,_=y[p].path,b=y[p].pathParams,w=y[p].options||{},S=this.makeURL(m,v,_,w);for(let p in b)b[p]&&(S=S.replace(RegExp(`{${b[p]}}`),g[p]));return S}makeURL(p,g,y,m){let v=/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(y);return v?y:m.ignoreBasePath?[p,y].join(""):[p,g,y].join("")}_resolveHttpMethod(p){let g=this.__meta__;return g[p].method}_resolveHeaders(p,g){let y=this.__meta__,m=y[p].headers||{},v=y[p].headerParams;for(let p in v)v[p]&&(m[v[p]]=g[p]);let _=y[p].headerMapIndex;if(_>=0)for(let p in g[_])g[_][p]&&(m[p]=g[_][p]);return m}_resolveQuery(p,g){let y=this.__meta__,m=y[p].query||{},v=y[p].queryParams;for(let p in v)v[p]&&(m[v[p]]=g[p]);let _=y[p].queryMapIndex;if(_>=0)for(let p in g[_])g[_][p]&&(m[p]=g[_][p]);return m}_resolveData(p,g,y){let m=this.__meta__,v=m[p].bodyIndex,_=m[p].fields||{},b=m[p].parts||{},w=m[p].fieldMapIndex,S=m[p].gqlQuery,T=m[p].gqlOperationName,E=m[p].gqlVariablesIndex,R={};if(v>=0&&(R=Array.isArray(y[v])?y[v]:Object.assign(Object.assign({},R),y[v])),Object.keys(_).length>0){let p={};for(let g in _)_[g]&&(p[_[g]]=y[g]);R=Object.assign(Object.assign({},R),p)}if(w>=0){let p={};for(let g in y[w])y[w][g]&&(p[g]=y[w][g]);R=Object.assign(Object.assign({},R),p)}if(Object.keys(b).length>0){let p={};for(let g in b)b[g]&&(p[b[g]]=y[g]);R=Object.assign(Object.assign({},R),p)}S&&(R.query=S,T&&(R.operationName=T),E>=0&&(R.variables=y[E]));let O=g["content-type"]||"application/json",A=new P.DataResolverFactory,x=A.createDataResolver(O);return x.resolve(g,R)}};_([g.nonHTTPRequestMethod,w("design:type",Function),w("design:paramtypes",[]),w("design:returntype",Boolean)],BaseService.prototype,"isClientStandalone",null),_([g.nonHTTPRequestMethod,w("design:type",Function),w("design:paramtypes",[Function]),w("design:returntype",Number)],BaseService.prototype,"useRequestInterceptor",null),_([g.nonHTTPRequestMethod,w("design:type",Function),w("design:paramtypes",[Function]),w("design:returntype",Number)],BaseService.prototype,"useResponseInterceptor",null),_([g.nonHTTPRequestMethod,w("design:type",Function),w("design:paramtypes",[Number]),w("design:returntype",void 0)],BaseService.prototype,"ejectRequestInterceptor",null),_([g.nonHTTPRequestMethod,w("design:type",Function),w("design:paramtypes",[Number]),w("design:returntype",void 0)],BaseService.prototype,"ejectResponseInterceptor",null),_([g.nonHTTPRequestMethod,w("design:type",Function),w("design:paramtypes",[String]),w("design:returntype",void 0)],BaseService.prototype,"setEndpoint",null),_([g.nonHTTPRequestMethod,w("design:type",Function),w("design:paramtypes",[Object]),w("design:returntype",void 0)],BaseService.prototype,"setLogCallback",null),_([g.nonHTTPRequestMethod,w("design:type",Function),w("design:paramtypes",[Number]),w("design:returntype",void 0)],BaseService.prototype,"setTimeout",null),_([g.nonHTTPRequestMethod,w("design:type",Function),w("design:paramtypes",[]),w("design:returntype",Array)],BaseService.prototype,"_getInstanceMethodNames",null),_([g.nonHTTPRequestMethod,w("design:type",Function),w("design:paramtypes",[String,Array]),w("design:returntype",Promise)],BaseService.prototype,"_wrap",null),_([g.nonHTTPRequestMethod,w("design:type",Function),w("design:paramtypes",[String,Array]),w("design:returntype",Object)],BaseService.prototype,"_resolveParameters",null),_([g.nonHTTPRequestMethod,w("design:type",Function),w("design:paramtypes",[String,String,String,Object,Object,Object]),w("design:returntype",Object)],BaseService.prototype,"_makeConfig",null),_([g.nonHTTPRequestMethod,w("design:type",Function),w("design:paramtypes",[String,Array]),w("design:returntype",String)],BaseService.prototype,"_resolveUrl",null),_([g.nonHTTPRequestMethod,w("design:type",Function),w("design:paramtypes",[String,String,String,Object]),w("design:returntype",String)],BaseService.prototype,"makeURL",null),_([g.nonHTTPRequestMethod,w("design:type",Function),w("design:paramtypes",[String]),w("design:returntype",String)],BaseService.prototype,"_resolveHttpMethod",null),_([g.nonHTTPRequestMethod,w("design:type",Function),w("design:paramtypes",[String,Array]),w("design:returntype",Object)],BaseService.prototype,"_resolveHeaders",null),_([g.nonHTTPRequestMethod,w("design:type",Function),w("design:paramtypes",[String,Array]),w("design:returntype",Object)],BaseService.prototype,"_resolveQuery",null),_([g.nonHTTPRequestMethod,w("design:type",Function),w("design:paramtypes",[String,Object,Array]),w("design:returntype",Object)],BaseService.prototype,"_resolveData",null),g.BaseService=BaseService;let BaseInterceptor=class BaseInterceptor{onRejected(p){}};let RequestInterceptor=class RequestInterceptor extends BaseInterceptor{};g.RequestInterceptor=RequestInterceptor;let ResponseInterceptor=class ResponseInterceptor extends BaseInterceptor{};g.ResponseInterceptor=ResponseInterceptor,g.ServiceBuilder=class{constructor(){this._endpoint="",this._standalone=!1,this._requestInterceptors=[],this._responseInterceptors=[],this._timeout=6e4,this._logCallback=null}build(p){return new p(this)}setEndpoint(p){return this._endpoint=p,this}setStandalone(p){return this._standalone=p,this}setRequestInterceptors(...p){return this._requestInterceptors.push(...p),this}setResponseInterceptors(...p){return this._responseInterceptors.push(...p),this}setTimeout(p){return this._timeout=p,this}setLogCallback(p){return this._logCallback=p,this}get endpoint(){return this._endpoint}get standalone(){return this._standalone}get requestInterceptors(){return this._requestInterceptors}get responseInterceptors(){return this._responseInterceptors}get timeout(){return this._timeout}get logCallback(){return this._logCallback}};let HttpClient=class HttpClient{constructor(p){this.axios=R.default,this.standalone=!1,!0===p.standalone?(this.axios=R.default.create(),this.standalone=!0):"function"==typeof p.standalone&&(this.axios=p.standalone),p.requestInterceptors.forEach(p=>{p instanceof RequestInterceptor?this.axios.interceptors.request.use(p.onFulfilled.bind(p),p.onRejected.bind(p)):this.axios.interceptors.request.use(p)}),p.responseInterceptors.forEach(p=>{p instanceof ResponseInterceptor?this.axios.interceptors.response.use(p.onFulfilled.bind(p),p.onRejected.bind(p)):this.axios.interceptors.response.use(p)})}isStandalone(){return this.standalone}sendRequest(p){return S(this,void 0,void 0,function*(){return this.axios(p)})}useRequestInterceptor(p){return this.axios.interceptors.request.use(p)}useResponseInterceptor(p){return this.axios.interceptors.response.use(p)}ejectRequestInterceptor(p){this.axios.interceptors.request.eject(p)}ejectResponseInterceptor(p){this.axios.interceptors.response.eject(p)}}},33036:function(p,g){"use strict";var y;Object.defineProperty(g,"__esModule",{value:!0}),g.HttpContentType=g.DATA_CONTENT_TYPES=void 0,g.DATA_CONTENT_TYPES=["application/x-www-form-urlencoded","multipart/form-data","application/json","text/xml"],(y=g.HttpContentType||(g.HttpContentType={})).urlencoded="application/x-www-form-urlencoded",y.multipart="multipart/form-data",y.json="application/json",y.xml="text/xml"},58723:function(p,g,y){"use strict";var m=this&&this.__createBinding||(Object.create?function(p,g,y,m){void 0===m&&(m=y);var v=Object.getOwnPropertyDescriptor(g,y);(!v||("get"in v?!g.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return g[y]}}),Object.defineProperty(p,m,v)}:function(p,g,y,m){void 0===m&&(m=y),p[m]=g[y]}),v=this&&this.__setModuleDefault||(Object.create?function(p,g){Object.defineProperty(p,"default",{enumerable:!0,value:g})}:function(p,g){p.default=g}),_=this&&this.__importStar||function(p){if(p&&p.__esModule)return p;var g={};if(null!=p)for(var y in p)"default"!==y&&Object.prototype.hasOwnProperty.call(p,y)&&m(g,p,y);return v(g,p),g},b=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(g,"__esModule",{value:!0}),g.DataResolverFactory=g.TextXmlResolver=g.JsonResolver=g.MultiPartResolver=g.FormUrlencodedResolver=g.BaseDataResolver=void 0;let w=_(y(76548)),S=b(y(8810)),T=y(33036);let BaseDataResolver=class BaseDataResolver{resolve(p,g){throw Error("Can not call this method in BaseDataResolver.")}};g.BaseDataResolver=BaseDataResolver;let FormUrlencodedResolver=class FormUrlencodedResolver extends BaseDataResolver{constructor(){super()}resolve(p,g){return(p=>{let g={};for(let y in p)p.hasOwnProperty(y)&&("object"==typeof p[y]?g[y]=JSON.stringify(p[y]):g[y]=p[y]);return w.stringify(g)})(g)}};g.FormUrlencodedResolver=FormUrlencodedResolver;let MultiPartResolver=class MultiPartResolver extends BaseDataResolver{constructor(){super()}resolve(p,g){let y=new S.default;for(let p in g)if(Array.isArray(g[p]))for(let m of g[p]){let g=this.getFormDataAppendOptions(m);y.append(p,m.value,g)}else if(Array.isArray(g[p].value))for(let m of g[p].value){let v=this.getFormDataAppendOptions(g[p]);y.append(p,m,v)}else{let m=this.getFormDataAppendOptions(g[p]);y.append(p,g[p].value,m)}return y}getFormDataAppendOptions(p){let g={};return Object.keys(p).forEach(y=>{"value"!==y&&(g[y]=p[y])}),g}};g.MultiPartResolver=MultiPartResolver;let JsonResolver=class JsonResolver extends BaseDataResolver{constructor(){super()}resolve(p,g){return g}};g.JsonResolver=JsonResolver;let TextXmlResolver=class TextXmlResolver extends BaseDataResolver{constructor(){super()}resolve(p,g){return g}};g.TextXmlResolver=TextXmlResolver;let E=new Map;E.set("application/x-www-form-urlencoded",FormUrlencodedResolver),E.set("multipart/form-data",MultiPartResolver),E.set("application/json",JsonResolver),E.set("text/xml",TextXmlResolver),g.DataResolverFactory=class{createDataResolver(p){let g=p.toLowerCase();for(let p of T.DATA_CONTENT_TYPES)if(g.includes(p)){let g=this._getDataResolverCls(p);return new g}return new(this._getDataResolverCls("application/json"))}_getDataResolverCls(p){return E.get(p)||JsonResolver}}},50003:function(p,g){"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.Deprecated=g.GraphQLVariables=g.GraphQL=g.Config=g.ResponseStatus=g.Timeout=g.ResponseTransformer=g.RequestTransformer=g.ResponseType=g.Part=g.Multipart=g.FieldMap=g.Field=g.FormUrlEncoded=g.QueryMap=g.Query=g.Queries=g.QueryArrayFormat=g.HeaderMap=g.Header=g.Headers=g.Body=g.Path=g.BasePath=g.OPTIONS=g.HEAD=g.DELETE=g.PATCH=g.PUT=g.POST=g.GET=void 0;let ensureMeta=(p,g)=>{p.__meta__||(p.__meta__={}),p.__meta__[g]||(p.__meta__[g]={})},registerMethod=(p,g,y)=>(m,v,_)=>{ensureMeta(m,v),m.__meta__[v].method=p,m.__meta__[v].path=g,m.__meta__[v].options=y};g.GET=(p,g)=>registerMethod("GET",p,g),g.POST=(p,g)=>registerMethod("POST",p,g),g.PUT=(p,g)=>registerMethod("PUT",p,g),g.PATCH=(p,g)=>registerMethod("PATCH",p,g),g.DELETE=(p,g)=>registerMethod("DELETE",p,g),g.HEAD=(p,g)=>registerMethod("HEAD",p,g),g.OPTIONS=(p,g)=>registerMethod("OPTIONS",p,g),g.BasePath=p=>g=>{ensureMeta(g.prototype,"basePath"),g.prototype.__meta__.basePath=p},g.Path=p=>(g,y,m)=>{ensureMeta(g,y),g.__meta__[y].pathParams||(g.__meta__[y].pathParams={}),g.__meta__[y].pathParams[m]=p},g.Body=(p,g,y)=>{ensureMeta(p,g),p.__meta__[g].bodyIndex=y},g.Headers=p=>(g,y,m)=>{ensureMeta(g,y),g.__meta__[y].headers||(g.__meta__[y].headers={}),g.__meta__[y].headers=p},g.Header=p=>(g,y,m)=>{ensureMeta(g,y),g.__meta__[y].headerParams||(g.__meta__[y].headerParams={}),g.__meta__[y].headerParams[m]=p},g.HeaderMap=(p,g,y)=>{ensureMeta(p,g),p.__meta__[g].headerMapIndex=y},g.QueryArrayFormat=p=>(g,y,m)=>{ensureMeta(g,y),g.__meta__[y].queryArrayFormat=p},g.Queries=p=>(g,y,m)=>{ensureMeta(g,y),g.__meta__[y].query||(g.__meta__[y].query={}),g.__meta__[y].query=p},g.Query=p=>(g,y,m)=>{ensureMeta(g,y),g.__meta__[y].queryParams||(g.__meta__[y].queryParams={}),g.__meta__[y].queryParams[m]=p},g.QueryMap=(p,g,y)=>{ensureMeta(p,g),p.__meta__[g].queryMapIndex=y},g.FormUrlEncoded=(p,y,m)=>{(0,g.Headers)({"content-type":"application/x-www-form-urlencoded;charset=utf-8"})(p,y,m)},g.Field=p=>(g,y,m)=>{ensureMeta(g,y),g.__meta__[y].fields||(g.__meta__[y].fields={}),g.__meta__[y].fields[m]=p},g.FieldMap=(p,g,y)=>{ensureMeta(p,g),p.__meta__[g].fieldMapIndex=y},g.Multipart=(p,y,m)=>{(0,g.Headers)({"content-type":"multipart/form-data"})(p,y,m)},g.Part=p=>(g,y,m)=>{ensureMeta(g,y),g.__meta__[y].parts||(g.__meta__[y].parts={}),g.__meta__[y].parts[m]=p},g.ResponseType=p=>(g,y)=>{ensureMeta(g,y),g.__meta__[y].responseType=p},g.RequestTransformer=p=>(g,y)=>{ensureMeta(g,y),g.__meta__[y].requestTransformer=p},g.ResponseTransformer=p=>(g,y)=>{ensureMeta(g,y),g.__meta__[y].responseTransformer=p},g.Timeout=p=>(g,y)=>{ensureMeta(g,y),g.__meta__[y].timeout=p},g.ResponseStatus=p=>(g,y)=>{ensureMeta(g,y),g.__meta__[y].responseStatus=p},g.Config=p=>(g,y)=>{ensureMeta(g,y),g.__meta__[y].config=p},g.GraphQL=(p,g)=>(y,m)=>{ensureMeta(y,m),y.__meta__[m].gqlQuery=p,y.__meta__[m].gqlOperationName=g},g.GraphQLVariables=(p,g,y)=>{ensureMeta(p,g),p.__meta__[g].gqlVariablesIndex=y},g.Deprecated=p=>(g,y,m)=>{ensureMeta(g,y),g.__meta__[y].deprecated=!0,g.__meta__[y].deprecatedHint=p}},74810:function(p,g,y){"use strict";var m=this&&this.__createBinding||(Object.create?function(p,g,y,m){void 0===m&&(m=y);var v=Object.getOwnPropertyDescriptor(g,y);(!v||("get"in v?!g.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return g[y]}}),Object.defineProperty(p,m,v)}:function(p,g,y,m){void 0===m&&(m=y),p[m]=g[y]}),v=this&&this.__exportStar||function(p,g){for(var y in p)"default"===y||Object.prototype.hasOwnProperty.call(g,y)||m(g,p,y)};Object.defineProperty(g,"__esModule",{value:!0}),v(y(86115),g),v(y(50003),g)},78769:function(p,g,y){"use strict";var m=y(25566);Object.defineProperty(g,"__esModule",{value:!0}),g.isNode=void 0,g.isNode=void 0!==m&&null!=m.versions&&null!=m.versions.node},51138:function(p,g,y){p.exports=y(5110)},51046:function(p,g,y){"use strict";var m=y(18983),v=y(17929),_=y(14187),b=y(69615),w=y(80879),S=y(12326),T=y(66579),E=y(21533);p.exports=function(p){return new Promise(function(g,y){var R=p.data,P=p.headers,O=p.responseType;m.isFormData(R)&&delete P["Content-Type"];var A=new XMLHttpRequest;if(p.auth){var x=p.auth.username||"",D=p.auth.password?unescape(encodeURIComponent(p.auth.password)):"";P.Authorization="Basic "+btoa(x+":"+D)}var k=w(p.baseURL,p.url);function onloadend(){if(A){var m="getAllResponseHeaders"in A?S(A.getAllResponseHeaders()):null;v(g,y,{data:O&&"text"!==O&&"json"!==O?A.response:A.responseText,status:A.status,statusText:A.statusText,headers:m,config:p,request:A}),A=null}}if(A.open(p.method.toUpperCase(),b(k,p.params,p.paramsSerializer),!0),A.timeout=p.timeout,"onloadend"in A?A.onloadend=onloadend:A.onreadystatechange=function(){A&&4===A.readyState&&(0!==A.status||A.responseURL&&0===A.responseURL.indexOf("file:"))&&setTimeout(onloadend)},A.onabort=function(){A&&(y(E("Request aborted",p,"ECONNABORTED",A)),A=null)},A.onerror=function(){y(E("Network Error",p,null,A)),A=null},A.ontimeout=function(){var g="timeout of "+p.timeout+"ms exceeded";p.timeoutErrorMessage&&(g=p.timeoutErrorMessage),y(E(g,p,p.transitional&&p.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",A)),A=null},m.isStandardBrowserEnv()){var I=(p.withCredentials||T(k))&&p.xsrfCookieName?_.read(p.xsrfCookieName):void 0;I&&(P[p.xsrfHeaderName]=I)}"setRequestHeader"in A&&m.forEach(P,function(p,g){void 0===R&&"content-type"===g.toLowerCase()?delete P[g]:A.setRequestHeader(g,p)}),m.isUndefined(p.withCredentials)||(A.withCredentials=!!p.withCredentials),O&&"json"!==O&&(A.responseType=p.responseType),"function"==typeof p.onDownloadProgress&&A.addEventListener("progress",p.onDownloadProgress),"function"==typeof p.onUploadProgress&&A.upload&&A.upload.addEventListener("progress",p.onUploadProgress),p.cancelToken&&p.cancelToken.promise.then(function(p){A&&(A.abort(),y(p),A=null)}),R||(R=null),A.send(R)})}},5110:function(p,g,y){"use strict";var m=y(18983),v=y(74260),_=y(19507),b=y(35299);function createInstance(p){var g=new _(p),y=v(_.prototype.request,g);return m.extend(y,_.prototype,g),m.extend(y,g),y}var w=createInstance(y(59758));w.Axios=_,w.create=function(p){return createInstance(b(w.defaults,p))},w.Cancel=y(34839),w.CancelToken=y(51860),w.isCancel=y(61939),w.all=function(p){return Promise.all(p)},w.spread=y(11552),w.isAxiosError=y(78809),p.exports=w,p.exports.default=w},34839:function(p){"use strict";function Cancel(p){this.message=p}Cancel.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},Cancel.prototype.__CANCEL__=!0,p.exports=Cancel},51860:function(p,g,y){"use strict";var m=y(34839);function CancelToken(p){if("function"!=typeof p)throw TypeError("executor must be a function.");this.promise=new Promise(function(p){g=p});var g,y=this;p(function(p){y.reason||(y.reason=new m(p),g(y.reason))})}CancelToken.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},CancelToken.source=function(){var p;return{token:new CancelToken(function(g){p=g}),cancel:p}},p.exports=CancelToken},61939:function(p){"use strict";p.exports=function(p){return!!(p&&p.__CANCEL__)}},19507:function(p,g,y){"use strict";var m=y(18983),v=y(69615),_=y(66457),b=y(83054),w=y(35299),S=y(10704),T=S.validators;function Axios(p){this.defaults=p,this.interceptors={request:new _,response:new _}}Axios.prototype.request=function(p){"string"==typeof p?(p=arguments[1]||{},p.url=arguments[0]):p=p||{},(p=w(this.defaults,p)).method?p.method=p.method.toLowerCase():this.defaults.method?p.method=this.defaults.method.toLowerCase():p.method="get";var g,y=p.transitional;void 0!==y&&S.assertOptions(y,{silentJSONParsing:T.transitional(T.boolean,"1.0.0"),forcedJSONParsing:T.transitional(T.boolean,"1.0.0"),clarifyTimeoutError:T.transitional(T.boolean,"1.0.0")},!1);var m=[],v=!0;this.interceptors.request.forEach(function(g){("function"!=typeof g.runWhen||!1!==g.runWhen(p))&&(v=v&&g.synchronous,m.unshift(g.fulfilled,g.rejected))});var _=[];if(this.interceptors.response.forEach(function(p){_.push(p.fulfilled,p.rejected)}),!v){var E=[b,void 0];for(Array.prototype.unshift.apply(E,m),E=E.concat(_),g=Promise.resolve(p);E.length;)g=g.then(E.shift(),E.shift());return g}for(var R=p;m.length;){var P=m.shift(),O=m.shift();try{R=P(R)}catch(p){O(p);break}}try{g=b(R)}catch(p){return Promise.reject(p)}for(;_.length;)g=g.then(_.shift(),_.shift());return g},Axios.prototype.getUri=function(p){return v((p=w(this.defaults,p)).url,p.params,p.paramsSerializer).replace(/^\?/,"")},m.forEach(["delete","get","head","options"],function(p){Axios.prototype[p]=function(g,y){return this.request(w(y||{},{method:p,url:g,data:(y||{}).data}))}}),m.forEach(["post","put","patch"],function(p){Axios.prototype[p]=function(g,y,m){return this.request(w(m||{},{method:p,url:g,data:y}))}}),p.exports=Axios},66457:function(p,g,y){"use strict";var m=y(18983);function InterceptorManager(){this.handlers=[]}InterceptorManager.prototype.use=function(p,g,y){return this.handlers.push({fulfilled:p,rejected:g,synchronous:!!y&&y.synchronous,runWhen:y?y.runWhen:null}),this.handlers.length-1},InterceptorManager.prototype.eject=function(p){this.handlers[p]&&(this.handlers[p]=null)},InterceptorManager.prototype.forEach=function(p){m.forEach(this.handlers,function(g){null!==g&&p(g)})},p.exports=InterceptorManager},80879:function(p,g,y){"use strict";var m=y(22278),v=y(15803);p.exports=function(p,g){return p&&!m(g)?v(p,g):g}},21533:function(p,g,y){"use strict";var m=y(21506);p.exports=function(p,g,y,v,_){return m(Error(p),g,y,v,_)}},83054:function(p,g,y){"use strict";var m=y(18983),v=y(18667),_=y(61939),b=y(59758);function throwIfCancellationRequested(p){p.cancelToken&&p.cancelToken.throwIfRequested()}p.exports=function(p){return throwIfCancellationRequested(p),p.headers=p.headers||{},p.data=v.call(p,p.data,p.headers,p.transformRequest),p.headers=m.merge(p.headers.common||{},p.headers[p.method]||{},p.headers),m.forEach(["delete","get","head","post","put","patch","common"],function(g){delete p.headers[g]}),(p.adapter||b.adapter)(p).then(function(g){return throwIfCancellationRequested(p),g.data=v.call(p,g.data,g.headers,p.transformResponse),g},function(g){return!_(g)&&(throwIfCancellationRequested(p),g&&g.response&&(g.response.data=v.call(p,g.response.data,g.response.headers,p.transformResponse))),Promise.reject(g)})}},21506:function(p){"use strict";p.exports=function(p,g,y,m,v){return p.config=g,y&&(p.code=y),p.request=m,p.response=v,p.isAxiosError=!0,p.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},p}},35299:function(p,g,y){"use strict";var m=y(18983);p.exports=function(p,g){g=g||{};var y={},v=["url","method","data"],_=["headers","auth","proxy","params"],b=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],w=["validateStatus"];function getMergedValue(p,g){return m.isPlainObject(p)&&m.isPlainObject(g)?m.merge(p,g):m.isPlainObject(g)?m.merge({},g):m.isArray(g)?g.slice():g}function mergeDeepProperties(v){m.isUndefined(g[v])?m.isUndefined(p[v])||(y[v]=getMergedValue(void 0,p[v])):y[v]=getMergedValue(p[v],g[v])}m.forEach(v,function(p){m.isUndefined(g[p])||(y[p]=getMergedValue(void 0,g[p]))}),m.forEach(_,mergeDeepProperties),m.forEach(b,function(v){m.isUndefined(g[v])?m.isUndefined(p[v])||(y[v]=getMergedValue(void 0,p[v])):y[v]=getMergedValue(void 0,g[v])}),m.forEach(w,function(m){m in g?y[m]=getMergedValue(p[m],g[m]):m in p&&(y[m]=getMergedValue(void 0,p[m]))});var S=v.concat(_).concat(b).concat(w),T=Object.keys(p).concat(Object.keys(g)).filter(function(p){return -1===S.indexOf(p)});return m.forEach(T,mergeDeepProperties),y}},17929:function(p,g,y){"use strict";var m=y(21533);p.exports=function(p,g,y){var v=y.config.validateStatus;!y.status||!v||v(y.status)?p(y):g(m("Request failed with status code "+y.status,y.config,null,y.request,y))}},18667:function(p,g,y){"use strict";var m=y(18983),v=y(59758);p.exports=function(p,g,y){var _=this||v;return m.forEach(y,function(y){p=y.call(_,p,g)}),p}},59758:function(p,g,y){"use strict";var m,v=y(25566),_=y(18983),b=y(14867),w=y(21506),S={"Content-Type":"application/x-www-form-urlencoded"};function setContentTypeIfUnset(p,g){!_.isUndefined(p)&&_.isUndefined(p["Content-Type"])&&(p["Content-Type"]=g)}var T={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:("undefined"!=typeof XMLHttpRequest?m=y(51046):void 0!==v&&"[object process]"===Object.prototype.toString.call(v)&&(m=y(51046)),m),transformRequest:[function(p,g){return(b(g,"Accept"),b(g,"Content-Type"),_.isFormData(p)||_.isArrayBuffer(p)||_.isBuffer(p)||_.isStream(p)||_.isFile(p)||_.isBlob(p))?p:_.isArrayBufferView(p)?p.buffer:_.isURLSearchParams(p)?(setContentTypeIfUnset(g,"application/x-www-form-urlencoded;charset=utf-8"),p.toString()):_.isObject(p)||g&&"application/json"===g["Content-Type"]?(setContentTypeIfUnset(g,"application/json"),function(p,g,y){if(_.isString(p))try{return(0,JSON.parse)(p),_.trim(p)}catch(p){if("SyntaxError"!==p.name)throw p}return(0,JSON.stringify)(p)}(p)):p}],transformResponse:[function(p){var g=this.transitional,y=g&&g.silentJSONParsing,m=g&&g.forcedJSONParsing,v=!y&&"json"===this.responseType;if(v||m&&_.isString(p)&&p.length)try{return JSON.parse(p)}catch(p){if(v){if("SyntaxError"===p.name)throw w(p,this,"E_JSON_PARSE");throw p}}return p}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(p){return p>=200&&p<300}};T.headers={common:{Accept:"application/json, text/plain, */*"}},_.forEach(["delete","get","head"],function(p){T.headers[p]={}}),_.forEach(["post","put","patch"],function(p){T.headers[p]=_.merge(S)}),p.exports=T},74260:function(p){"use strict";p.exports=function(p,g){return function(){for(var y=Array(arguments.length),m=0;m<y.length;m++)y[m]=arguments[m];return p.apply(g,y)}}},69615:function(p,g,y){"use strict";var m=y(18983);function encode(p){return encodeURIComponent(p).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}p.exports=function(p,g,y){if(!g)return p;if(y)v=y(g);else if(m.isURLSearchParams(g))v=g.toString();else{var v,_=[];m.forEach(g,function(p,g){null!=p&&(m.isArray(p)?g+="[]":p=[p],m.forEach(p,function(p){m.isDate(p)?p=p.toISOString():m.isObject(p)&&(p=JSON.stringify(p)),_.push(encode(g)+"="+encode(p))}))}),v=_.join("&")}if(v){var b=p.indexOf("#");-1!==b&&(p=p.slice(0,b)),p+=(-1===p.indexOf("?")?"?":"&")+v}return p}},15803:function(p){"use strict";p.exports=function(p,g){return g?p.replace(/\/+$/,"")+"/"+g.replace(/^\/+/,""):p}},14187:function(p,g,y){"use strict";var m=y(18983);p.exports=m.isStandardBrowserEnv()?{write:function(p,g,y,v,_,b){var w=[];w.push(p+"="+encodeURIComponent(g)),m.isNumber(y)&&w.push("expires="+new Date(y).toGMTString()),m.isString(v)&&w.push("path="+v),m.isString(_)&&w.push("domain="+_),!0===b&&w.push("secure"),document.cookie=w.join("; ")},read:function(p){var g=document.cookie.match(RegExp("(^|;\\s*)("+p+")=([^;]*)"));return g?decodeURIComponent(g[3]):null},remove:function(p){this.write(p,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},22278:function(p){"use strict";p.exports=function(p){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(p)}},78809:function(p){"use strict";p.exports=function(p){return"object"==typeof p&&!0===p.isAxiosError}},66579:function(p,g,y){"use strict";var m=y(18983);p.exports=m.isStandardBrowserEnv()?function(){var p,g=/(msie|trident)/i.test(navigator.userAgent),y=document.createElement("a");function resolveURL(p){var m=p;return g&&(y.setAttribute("href",m),m=y.href),y.setAttribute("href",m),{href:y.href,protocol:y.protocol?y.protocol.replace(/:$/,""):"",host:y.host,search:y.search?y.search.replace(/^\?/,""):"",hash:y.hash?y.hash.replace(/^#/,""):"",hostname:y.hostname,port:y.port,pathname:"/"===y.pathname.charAt(0)?y.pathname:"/"+y.pathname}}return p=resolveURL(window.location.href),function(g){var y=m.isString(g)?resolveURL(g):g;return y.protocol===p.protocol&&y.host===p.host}}():function(){return!0}},14867:function(p,g,y){"use strict";var m=y(18983);p.exports=function(p,g){m.forEach(p,function(y,m){m!==g&&m.toUpperCase()===g.toUpperCase()&&(p[g]=y,delete p[m])})}},12326:function(p,g,y){"use strict";var m=y(18983),v=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];p.exports=function(p){var g,y,_,b={};return p&&m.forEach(p.split("\n"),function(p){_=p.indexOf(":"),g=m.trim(p.substr(0,_)).toLowerCase(),y=m.trim(p.substr(_+1)),g&&!(b[g]&&v.indexOf(g)>=0)&&("set-cookie"===g?b[g]=(b[g]?b[g]:[]).concat([y]):b[g]=b[g]?b[g]+", "+y:y)}),b}},11552:function(p){"use strict";p.exports=function(p){return function(g){return p.apply(null,g)}}},10704:function(p,g,y){"use strict";var m=y(71359),v={};["object","boolean","number","function","string","symbol"].forEach(function(p,g){v[p]=function(y){return typeof y===p||"a"+(g<1?"n ":" ")+p}});var _={},b=m.version.split(".");function isOlderVersion(p,g){for(var y=g?g.split("."):b,m=p.split("."),v=0;v<3;v++){if(y[v]>m[v])return!0;if(y[v]<m[v])break}return!1}v.transitional=function(p,g,y){var v=g&&isOlderVersion(g);function formatMessage(p,g){return"[Axios v"+m.version+"] Transitional option '"+p+"'"+g+(y?". "+y:"")}return function(y,m,b){if(!1===p)throw Error(formatMessage(m," has been removed in "+g));return v&&!_[m]&&(_[m]=!0,console.warn(formatMessage(m," has been deprecated since v"+g+" and will be removed in the near future"))),!p||p(y,m,b)}},p.exports={isOlderVersion:isOlderVersion,assertOptions:function(p,g,y){if("object"!=typeof p)throw TypeError("options must be an object");for(var m=Object.keys(p),v=m.length;v-- >0;){var _=m[v],b=g[_];if(b){var w=p[_],S=void 0===w||b(w,_,p);if(!0!==S)throw TypeError("option "+_+" must be "+S);continue}if(!0!==y)throw Error("Unknown option "+_)}},validators:v}},18983:function(p,g,y){"use strict";var m=y(74260),v=Object.prototype.toString;function isArray(p){return"[object Array]"===v.call(p)}function isUndefined(p){return void 0===p}function isObject(p){return null!==p&&"object"==typeof p}function isPlainObject(p){if("[object Object]"!==v.call(p))return!1;var g=Object.getPrototypeOf(p);return null===g||g===Object.prototype}function isFunction(p){return"[object Function]"===v.call(p)}function forEach(p,g){if(null!=p){if("object"!=typeof p&&(p=[p]),isArray(p))for(var y=0,m=p.length;y<m;y++)g.call(null,p[y],y,p);else for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&g.call(null,p[v],v,p)}}p.exports={isArray:isArray,isArrayBuffer:function(p){return"[object ArrayBuffer]"===v.call(p)},isBuffer:function(p){return null!==p&&!isUndefined(p)&&null!==p.constructor&&!isUndefined(p.constructor)&&"function"==typeof p.constructor.isBuffer&&p.constructor.isBuffer(p)},isFormData:function(p){return"undefined"!=typeof FormData&&p instanceof FormData},isArrayBufferView:function(p){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(p):p&&p.buffer&&p.buffer instanceof ArrayBuffer},isString:function(p){return"string"==typeof p},isNumber:function(p){return"number"==typeof p},isObject:isObject,isPlainObject:isPlainObject,isUndefined:isUndefined,isDate:function(p){return"[object Date]"===v.call(p)},isFile:function(p){return"[object File]"===v.call(p)},isBlob:function(p){return"[object Blob]"===v.call(p)},isFunction:isFunction,isStream:function(p){return isObject(p)&&isFunction(p.pipe)},isURLSearchParams:function(p){return"undefined"!=typeof URLSearchParams&&p instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:forEach,merge:function merge(){var p={};function assignValue(g,y){isPlainObject(p[y])&&isPlainObject(g)?p[y]=merge(p[y],g):isPlainObject(g)?p[y]=merge({},g):isArray(g)?p[y]=g.slice():p[y]=g}for(var g=0,y=arguments.length;g<y;g++)forEach(arguments[g],assignValue);return p},extend:function(p,g,y){return forEach(g,function(g,v){y&&"function"==typeof g?p[v]=m(g,y):p[v]=g}),p},trim:function(p){return p.trim?p.trim():p.replace(/^\s+|\s+$/g,"")},stripBOM:function(p){return 65279===p.charCodeAt(0)&&(p=p.slice(1)),p}}},8810:function(p){p.exports="object"==typeof self?self.FormData:window.FormData},20475:function(p,g,y){"use strict";y.r(g),y.d(g,{APINotImplementedException:function(){return Pt},AboutService:function(){return Wi},AccessToken:function(){return $i},AggregatedCondition:function(){return rn},AggregatedExecutable:function(){return bn},AlreadyExistsException:function(){return It},AndCondition:function(){return sn},AnonymousScriptRunner:function(){return Xr},AppContext:function(){return xt},AppContextParameters:function(){return Fn},AppInfo:function(){return Nr},ApplicationNotFoundException:function(){return bt},AscendingSortItem:function(){return Un},AuthService:function(){return Nt},Backup:function(){return zn},BackupDetail:function(){return Gn},BackupInfo:function(){return Br},BackupIsInProcessException:function(){return ut},BackupNotFoundException:function(){return ft},BackupResult:function(){return Sr},BackupResultResult:function(){return P},BackupResultState:function(){return R},BackupService:function(){return Pr},BackupSubscription:function(){return Jr},BadContextProviderException:function(){return H},BadRequestException:function(){return at},Collection:function(){return hr},CollectionNotFoundException:function(){return _t},Condition:function(){return en},Context:function(){return yr},CountExecutable:function(){return mn},CountExecutableBody:function(){return _n},CountOptions:function(){return Rn},DIDNotPublishedException:function(){return $},DIDResolveException:function(){return X},DIDResolverAlreadySetupException:function(){return J},DIDResolverNotSetupException:function(){return K},DIDResolverSetupException:function(){return q},DatabaseService:function(){return gr},DefaultAppContextProvider:function(){return Ln},DeleteExecutable:function(){return yn},DeleteExecutableBody:function(){return gn},DescendingSortItem:function(){return Bn},DeserializationError:function(){return it},ElaDidErrorException:function(){return dt},Executable:function(){return an},ExecutableDatabaseBody:function(){return cn},ExecutableFileBody:function(){return un},ExecutableType:function(){return on},FileDownloadExecutable:function(){return Dn},FileHashExecutable:function(){return An},FileInfo:function(){return rr},FileNotFoundException:function(){return wt},FilePropertiesExecutable:function(){return Pn},FileUploadExecutable:function(){return In},FilesService:function(){return ar},FilledOrderDetail:function(){return jn},FindExecutable:function(){return vn},FindExecutableBody:function(){return fn},FindOptions:function(){return xn},ForbiddenException:function(){return lt},HashInfo:function(){return nr},HiveBackupContext:function(){return Mn},HiveException:function(){return j},IOException:function(){return et},IllegalArgumentException:function(){return V},IllegalDidFormatException:function(){return Y},InsertExecutable:function(){return Sn},InsertExecutableBody:function(){return wn},InsertOptions:function(){return Tn},InsertResult:function(){return cr},InsufficientStorageException:function(){return Ot},InvalidParameterException:function(){return ct},IpfsRunner:function(){return Yr},JWTException:function(){return tt},Logger:function(){return G},MalformedDIDException:function(){return nt},NetworkException:function(){return ot},NodeInfo:function(){return Yi},NodeVersion:function(){return Ji},NotFoundException:function(){return gt},NotImplementedException:function(){return Q},OrCondition:function(){return nn},Order:function(){return jr},OrderNotFoundException:function(){return St},OrderState:function(){return O},PathNotExistException:function(){return W},PaymentService:function(){return Kr},PricingPlan:function(){return Fr},PricingPlanNotFoundException:function(){return mt},PromotionService:function(){return Wr},Provider:function(){return $n},ProviderNotSetException:function(){return Z},QueryHasResultCondition:function(){return pn},QueryHasResultConditionBody:function(){return ln},QueryHasResultConditionOptions:function(){return hn},QueryOptions:function(){return Cn},Receipt:function(){return Vr},ReceiptNotFoundException:function(){return At},ScriptNotFoundException:function(){return vt},ScriptRunner:function(){return Zr},ScriptingService:function(){return _r},ServerException:function(){return Dt},ServerUnknownException:function(){return Et},ServiceEndpoint:function(){return Zi},SortItem:function(){return Nn},SubscriptionInfo:function(){return Ur},UnauthorizedException:function(){return ht},UpdateExecutable:function(){return En},UpdateExecutableBody:function(){return On},UpdateOptions:function(){return kn},UpdateResult:function(){return ur},Vault:function(){return zr},VaultDetail:function(){return Vn},VaultFrozenException:function(){return pt},VaultInfo:function(){return Lr},VaultNotFoundException:function(){return yt},VaultSubscription:function(){return dn}});var m,v,_,b,w,S,T,E,R,P,O,A=y(26588),x=y(74810),D=y(69810),k=y(67133),I=y(48290),C=y(67171),N=y(54131),ee=y(45296),ei=y(83104),es=y(74548),eo=y(67133).Buffer;/*
  @license
    hive.js v2.9.12
    Wed, 13 Sep 2023 02:59:53 GMT - commit unknown

    Released under the MIT License.
*/function U(p,g,y,m){var v,_=arguments.length,b=_<3?g:null===m?m=Object.getOwnPropertyDescriptor(g,y):m;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(p,g,y,m);else for(var w=p.length-1;w>=0;w--)(v=p[w])&&(b=(_<3?v(b):_>3?v(g,y,b):v(g,y))||b);return _>3&&b&&Object.defineProperty(g,y,b),b}function B(p,g){return function(y,m){g(y,m,p)}}function F(p,g){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(p,g)}function L(p,g,y,m){return new(y||(y=Promise))(function(v,_){function o(p){try{c(m.next(p))}catch(p){_(p)}}function a(p){try{c(m.throw(p))}catch(p){_(p)}}function c(p){var g;p.done?v(p.value):((g=p.value)instanceof y?g:new y(function(p){p(g)})).then(o,a)}c((m=m.apply(p,g||[])).next())})}let M=class M{};M.SEPARATOR="/";let z=class z{constructor(p,g){this.id=p,this.name=g}};let G=class G{constructor(p){this.context=p||"",this.cid=this.initializeCID()}static setDefaultLevel(p){G.DEFAULT_LOG_LEVEL=p}static getDefaultLevel(){return G.DEFAULT_LOG_LEVEL}setLevel(p){this.logLevel=p}getLevel(){return this.logLevel?this.logLevel:G.DEFAULT_LOG_LEVEL}levelIs(p){let g=this.logLevel?this.logLevel:G.DEFAULT_LOG_LEVEL;return p.id>=g.id}initializeCID(){return this.cid=Math.random().toString(36).substring(2,9),this.cid}currentCID(){return this.cid}resetCID(){this.cid=""}log(...p){this.getLevel().id<=G.INFO.id&&console.log(this.format(G.INFO,p))}info(...p){this.getLevel().id<=G.INFO.id&&console.log(this.format(G.INFO,p))}debug(...p){this.getLevel().id<=G.DEBUG.id&&console.log(this.format(G.DEBUG,p))}trace(...p){this.getLevel().id<=G.TRACE.id&&console.log(this.format(G.TRACE,p))}warn(...p){this.getLevel().id<=G.WARNING.id&&console.log(this.format(G.WARNING,p))}error(...p){this.getLevel().id<=G.ERROR.id&&console.log(this.format(G.ERROR,p))}format(p,g){let y=(new Date).toISOString()+" "+p.name.toUpperCase()+" "+this.context+" "+(this.cid?"("+this.cid+") ":"");if(!g||g.length<1)return y;let m=String(g[0]);for(let p=1;p<g.length;p++)m=m.replace(/\{\}/,String(g[p]));return y+" "+m}};G.TRACE=new z(0,"TRACE"),G.DEBUG=new z(1,"DEBUG"),G.INFO=new z(2,"INFO"),G.WARNING=new z(3,"WARN"),G.ERROR=new z(4,"ERROR"),G.DEFAULT_LOG_LEVEL=G.TRACE;let j=class j extends Error{constructor(p,g){super(p+(g?"\nCaused by: "+g.message+(g.stack?"\nCaused by: "+g.stack:""):"")),this.causedBy=g,Object.setPrototypeOf(this,new.target.prototype)}};let V=class V extends j{};let H=class H extends j{};let $=class $ extends j{};let K=class K extends j{};let q=class q extends j{};let J=class J extends j{};let Y=class Y extends j{};let Q=class Q extends j{};let W=class W extends j{};let Z=class Z extends j{};let X=class X extends j{};let tt=class tt extends j{};let et=class et extends j{};let it=class it extends j{};let rt=class rt extends j{};let nt=class nt extends V{};let st=class st extends V{};let ot=class ot extends j{constructor(p,g){super("Unknown network exception with message: "+p,g)}};let at=class at extends j{};let ct=class ct extends j{};let ut=class ut extends j{};let dt=class dt extends j{};let ht=class ht extends j{};let lt=class lt extends j{};let pt=class pt extends j{};let gt=class gt extends j{};let yt=class yt extends j{};let ft=class ft extends j{};let vt=class vt extends j{};let _t=class _t extends j{};let mt=class mt extends j{};let wt=class wt extends j{};let St=class St extends j{};let At=class At extends j{};let bt=class bt extends j{};let It=class It extends j{};let Dt=class Dt extends j{};let Pt=class Pt extends j{};let Ot=class Ot extends j{};let Et=class Et extends j{};let Tt=class Tt{static forHttpCode(p,g,y,m){let v=g||"";switch(p){case Tt.BAD_REQUEST:return y==this.IC_INVALID_PARAMETER?new ct(v,m):y==this.IC_BACKUP_IS_IN_PROCESS?new ut(v,m):y==this.IC_ELADID_ERROR?new dt(v,m):new at(v,m);case Tt.UNAUTHORIZED:return new ht(v,m);case Tt.FORBIDDEN:return y==this.IC_VAULT_FROZEN?new pt(v,m):new lt(v,m);case Tt.NOT_FOUND:return y==this.IC_VAULT_NOT_FOUND?new yt(v,m):y==this.IC_BACKUP_NOT_FOUND?new ft(v,m):y==this.IC_SCRIPT_NOT_FOUND?new vt(v,m):y==this.IC_COLLECTION_NOT_FOUND?new _t(v,m):y==this.IC_PRICING_PLAN_NOT_FOUND?new mt(v,m):y==this.IC_FILE_NOT_FOUND?new wt(v,m):y==this.IC_ORDER_NOT_FOUND?new St(v,m):y==this.IC_RECEIPT_NOT_FOUND?new At(v,m):y==this.IC_APPLICATION_NOT_FOUND?new bt(v,m):new gt(v,m);case Tt.ALREADY_EXISTS:return new It(v,m);case Tt.SERVER_EXCEPTION:return new Dt(v,m);case Tt.NOT_IMPLEMENTED:return new Pt(v,m);case Tt.INSUFFICIENT_STORAGE:return new Ot(v,m);default:return new Et(v,m)}}};Tt.BAD_REQUEST=400,Tt.UNAUTHORIZED=401,Tt.FORBIDDEN=403,Tt.NOT_FOUND=404,Tt.ALREADY_EXISTS=455,Tt.SERVER_EXCEPTION=500,Tt.NOT_IMPLEMENTED=501,Tt.INSUFFICIENT_STORAGE=507,Tt.IC_INVALID_PARAMETER=1,Tt.IC_BACKUP_IS_IN_PROCESS=2,Tt.IC_ELADID_ERROR=3,Tt.IC_VAULT_FROZEN=1,Tt.IC_VAULT_NOT_FOUND=1,Tt.IC_BACKUP_NOT_FOUND=2,Tt.IC_SCRIPT_NOT_FOUND=3,Tt.IC_COLLECTION_NOT_FOUND=4,Tt.IC_PRICING_PLAN_NOT_FOUND=5,Tt.IC_FILE_NOT_FOUND=6,Tt.IC_ORDER_NOT_FOUND=7,Tt.IC_RECEIPT_NOT_FOUND=8,Tt.IC_APPLICATION_NOT_FOUND=9;let xt=class xt{constructor(p,g,y){this.contextProvider=p,this.userDid=g,this.appDid=y,this.forceResolve=!1,this.networkTimeout=3e4}static setNetworkTimeout(p){xt.networkTimeout=p}static getNetworkTimeout(){return xt.networkTimeout}getAppContextProvider(){return this.contextProvider}getUserDid(){return this.userDid}getAppDid(){return this.appDid}getProviderAddress(){return L(this,void 0,void 0,function*(){return yield xt.getProviderAddressByUserDid(this.userDid,null,this.forceResolve)})}static setupResolver(p,g){if(null==g||null==p)throw new V("Invalid parameters to setup DID resolver");if(xt.resolverHasSetup)throw new J;this.LOG.trace("Initializing DIDBackend with "+p),A.DIDBackend.initialize(new A.DefaultDIDAdapter(p)),xt.resolverHasSetup=!0}static build(p,g,y){if(null==p)throw new V("Missing AppContext provider");if(null==g)throw new V("Missing user DID");if(null==y)throw new V("Missing an application DID when creating AppContext instance");if(null==p.getLocalDataDir())throw new H("Missing method to acquire data location");if(null==p.getAppInstanceDocument())throw new H("Missing method to acquire App instance DID document");if(!xt.resolverHasSetup)throw new K;return new xt(p,g,y)}setUserDidForceResolveFlag(p){return this.forceResolve=p,this}static getProviderAddressByUserDid(p,g,y){return L(this,void 0,void 0,function*(){if(null==p)throw new V("Missing input parameter for target Did");if(null!=g)return g;try{let g=null,m=new A.DID(p),v=yield m.resolve(!!y);if(null==v)throw new $("The DID "+p+" has not published onto sideChain");if(g=v.selectServices(null,"HiveVault"),null==g||0==g.length)throw new Z("No 'HiveVault' services declared on DID document "+p);return g[0].getServiceEndpoint()}catch(g){throw xt.LOG.error(`Resolve the hive url from did ${p} failed: ${g}, ${g.stack}`),g instanceof nt?new V("Malformed did string: "+p,g):g instanceof X?new ot("Resolving DID failed: "+g.message,g):g}})}};xt.LOG=new G("AppContext"),xt.networkTimeout=3e4,xt.debug=!1,xt.resolverHasSetup=!1;let kt=class kt{static handleResponseData(p,g){if(!p)return p;let y=null;try{if(y=JSON.parse(p),"error"in y&&y.error&&"message"in y.error)return y}catch(p){}return g?y?g(y):p:eo.from(p,"binary")}};let Ct=class Ct{constructor(p){this.serviceContext=p}getServiceContext(){return this.serviceContext}getEncryptionCipher(p,g,y){return L(this,void 0,void 0,function*(){let m=this.serviceContext.getAppContext().getAppContextProvider().getAppInstanceDocument();return yield m.createCipher(p,g,y)})}getAPI(p,g){return L(this,void 0,void 0,function*(){return null==this.api&&(this.api=(new x.ServiceBuilder).setEndpoint((yield this.serviceContext.getProviderAddress())).setRequestInterceptors(p=>(Ct._LOG.info("REQUEST: URL={}, METHOD={}, TOKEN={}, {}",p.url,p.method,"Authorization"in p.headers?p.headers.Authorization:"null",`ARGS=${JSON.stringify(p.params)}, BODY=${JSON.stringify(p.data)}`),p.withCredentials=!1,p.timeout=xt.getNetworkTimeout(),p.maxContentLength=1/0,p.maxBodyLength=1/0,g?Object.assign(Object.assign({},p),g):p)).setResponseInterceptors(p=>(Ct._LOG.info("RESPONSE: URL={}, METHOD={}, STATUS={}, BODY={}",p.config.url,p.config.method,p.status,JSON.stringify(p.data)),p)).build(p)),this.api})}callAPI(p,g,y){return L(this,void 0,void 0,function*(){let m=yield this.getAPI(p,y);try{let p=yield g(m);if(!p)throw new Et;return p.data}catch(p){yield this.handleResponseError(p)}})}getAccessToken(){return L(this,void 0,void 0,function*(){if(!this.serviceContext.hasAppContext())return"";let p=this.serviceContext.getAccessToken();return"token "+(yield p.fetch())})}tryHandleResponseError(p){return L(this,void 0,void 0,function*(){if(!("response"in p)||!p.response||"object"!=typeof p.response)return;"config"in p&&"url"in p.config&&p.config.url&&Ct._LOG.info("ERROR RESPONSE: URL={}, METHOD={}, STATUS={}, BODY={}",p.config.url,p.config.method,JSON.stringify(p.response.status),JSON.stringify(p.response.data));let g=p.response;if(g.status>=300){401==g.status&&this.serviceContext.hasAppContext()&&(yield this.serviceContext.getAccessToken().invalidate());let[p,y,m,v]=[g.status,-1,"",g.data];throw v&&"object"==typeof v&&"error"in v&&"message"in v.error&&("internal_code"in v.error&&(y=v.error.internal_code),m=v.error.message),Tt.forHttpCode(p,m,y)}})}handleResponseError(p){return L(this,void 0,void 0,function*(){throw p instanceof Error&&(yield this.tryHandleResponseError(p)),new ot(p.message,p)})}};Ct._LOG=new G("RestServiceT");let ea=class extends x.BaseService{signIn(p){return L(this,void 0,void 0,function*(){throw new Q})}auth(p){return L(this,void 0,void 0,function*(){throw new Q})}};U([(0,x.POST)("/did/signin"),(0,x.ResponseTransformer)((p,g)=>kt.handleResponseData(p,p=>p.challenge)),B(0,x.Body),F("design:type",Function),F("design:paramtypes",[Object]),F("design:returntype",Promise)],ea.prototype,"signIn",null),U([(0,x.POST)("/did/auth"),(0,x.ResponseTransformer)((p,g)=>kt.handleResponseData(p,p=>p.token)),B(0,x.Body),F("design:type",Function),F("design:paramtypes",[Object]),F("design:returntype",Promise)],ea.prototype,"auth",null),ea=U([(0,x.BasePath)("/api/v2")],ea);let Nt=class Nt extends Ct{constructor(p){super(p),this.contextProvider=p.getAppContext().getAppContextProvider()}fetch(){return L(this,void 0,void 0,function*(){Nt.LOG.trace("fetch::start fetch the access token");let p=this.contextProvider.getAppInstanceDocument();Nt.LOG.trace("fetch::application instance document:"+p.toString(!0));let g=null;try{g=yield this.signIn(p),Nt.LOG.debug("fetch::challenge :"+g)}catch(p){throw new ht("Failed to get token with signin()",p)}try{let p=yield this.contextProvider.getAuthorization(g);Nt.LOG.debug("fetch::challenge response "+p);let y=yield this.auth(p,this.contextProvider.getAppInstanceDocument());return Nt.LOG.debug("fetch::token "+y),y}catch(p){throw new ht("Failed to get token with auth()",p)}})}signIn(p){return L(this,void 0,void 0,function*(){let g=yield this.callAPI(ea,g=>L(this,void 0,void 0,function*(){return yield g.signIn({id:JSON.parse(p.toString(!0))})}));return this.checkValid(g,p.getSubject().toString())})}auth(p,g){return L(this,void 0,void 0,function*(){let y=yield this.callAPI(ea,g=>L(this,void 0,void 0,function*(){return yield g.auth({challenge_response:p})}));return this.checkValid(y,g.getSubject().toString())})}checkValid(p,g){return L(this,void 0,void 0,function*(){let y=null;try{y=(yield(new A.JWTParserBuilder).setAllowedClockSkewSeconds(300).build().parse(p)).getBody(),Nt.LOG.trace("Claims->getExpiration(): "+(1e3*y.getExpiration()>Date.now()).toString()),Nt.LOG.trace("Claims->getAudience(): "+y.getAudience()+":"+g),Nt.LOG.trace("is equal:"+(y.getAudience()===g).toString())}catch(p){throw new tt(`failed to parse jwt string: ${JSON.stringify(p)}`,p)}if(1e3*y.getExpiration()<Date.now())throw new tt("jwt string expired");if(y.getAudience()!==g)throw new tt(`jwt string with invalid audience: ${y.getAudience()}, expected: ${g}`);return p})}};function Ut(p){if(p.__esModule)return p;var g=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(p).forEach(function(y){var m=Object.getOwnPropertyDescriptor(p,y);Object.defineProperty(g,y,m.get?m:{enumerable:!0,get:function(){return p[y]}})}),g}Nt.LOG=new G("AuthService");var eu={exports:{}};"function"==typeof Object.create?eu.exports=function(p,g){g&&(p.super_=g,p.prototype=Object.create(g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}))}:eu.exports=function(p,g){if(g){p.super_=g;var i=function(){};i.prototype=g.prototype,p.prototype=new i,p.prototype.constructor=p}};var ec={exports:{}},el=Ut(b||(b=y.t(k,2)));/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */!function(p,g){var y=el.Buffer;function n(p,g){for(var y in p)g[y]=p[y]}function s(p,g,m){return y(p,g,m)}y.from&&y.alloc&&y.allocUnsafe&&y.allocUnsafeSlow?p.exports=el:(n(el,g),g.Buffer=s),s.prototype=Object.create(y.prototype),n(y,s),s.from=function(p,g,m){if("number"==typeof p)throw TypeError("Argument must not be a number");return y(p,g,m)},s.alloc=function(p,g,m){if("number"!=typeof p)throw TypeError("Argument must be a number");var v=y(p);return void 0!==g?"string"==typeof m?v.fill(g,m):v.fill(g):v.fill(0),v},s.allocUnsafe=function(p){if("number"!=typeof p)throw TypeError("Argument must be a number");return y(p)},s.allocUnsafeSlow=function(p){if("number"!=typeof p)throw TypeError("Argument must be a number");return el.SlowBuffer(p)}}(ec,ec.exports);var ed=Ut(w||(w=y.t(I,2))),eh=ec.exports.Buffer,ep=ed.Transform;function jt(p){ep.call(this),this._block=eh.allocUnsafe(p),this._blockSize=p,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}(0,eu.exports)(jt,ep),jt.prototype._transform=function(p,g,y){var m=null;try{this.update(p,g)}catch(p){m=p}y(m)},jt.prototype._flush=function(p){var g=null;try{this.push(this.digest())}catch(p){g=p}p(g)},jt.prototype.update=function(p,g){if(function(p,g){if(!eh.isBuffer(p)&&"string"!=typeof p)throw TypeError(g+" must be a string or a buffer")}(p,"Data"),this._finalized)throw Error("Digest already called");eh.isBuffer(p)||(p=eh.from(p,g));for(var y=this._block,m=0;this._blockOffset+p.length-m>=this._blockSize;){for(var v=this._blockOffset;v<this._blockSize;)y[v++]=p[m++];this._update(),this._blockOffset=0}for(;m<p.length;)y[this._blockOffset++]=p[m++];for(var _=0,b=8*p.length;b>0;++_)this._length[_]+=b,(b=this._length[_]/4294967296|0)>0&&(this._length[_]-=4294967296*b);return this},jt.prototype._update=function(){throw Error("_update is not implemented")},jt.prototype.digest=function(p){if(this._finalized)throw Error("Digest already called");this._finalized=!0;var g=this._digest();void 0!==p&&(g=g.toString(p)),this._block.fill(0),this._blockOffset=0;for(var y=0;y<4;++y)this._length[y]=0;return g},jt.prototype._digest=function(){throw Error("_digest is not implemented")};var ef=eu.exports,eg=ec.exports.Buffer,ey=Array(16);function Jt(){jt.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function Yt(p,g){return p<<g|p>>>32-g}function Qt(p,g,y,m,v,_,b){return Yt(p+(g&y|~g&m)+v+_|0,b)+g|0}function Wt(p,g,y,m,v,_,b){return Yt(p+(g&m|y&~m)+v+_|0,b)+g|0}function Zt(p,g,y,m,v,_,b){return Yt(p+(g^y^m)+v+_|0,b)+g|0}function Xt(p,g,y,m,v,_,b){return Yt(p+(y^(g|~m))+v+_|0,b)+g|0}ef(Jt,jt),Jt.prototype._update=function(){for(var p=0;p<16;++p)ey[p]=this._block.readInt32LE(4*p);var g=this._a,y=this._b,m=this._c,v=this._d;g=Qt(g,y,m,v,ey[0],3614090360,7),v=Qt(v,g,y,m,ey[1],3905402710,12),m=Qt(m,v,g,y,ey[2],606105819,17),y=Qt(y,m,v,g,ey[3],3250441966,22),g=Qt(g,y,m,v,ey[4],4118548399,7),v=Qt(v,g,y,m,ey[5],1200080426,12),m=Qt(m,v,g,y,ey[6],2821735955,17),y=Qt(y,m,v,g,ey[7],4249261313,22),g=Qt(g,y,m,v,ey[8],1770035416,7),v=Qt(v,g,y,m,ey[9],2336552879,12),m=Qt(m,v,g,y,ey[10],4294925233,17),y=Qt(y,m,v,g,ey[11],2304563134,22),g=Qt(g,y,m,v,ey[12],1804603682,7),v=Qt(v,g,y,m,ey[13],4254626195,12),m=Qt(m,v,g,y,ey[14],2792965006,17),g=Wt(g,y=Qt(y,m,v,g,ey[15],1236535329,22),m,v,ey[1],4129170786,5),v=Wt(v,g,y,m,ey[6],3225465664,9),m=Wt(m,v,g,y,ey[11],643717713,14),y=Wt(y,m,v,g,ey[0],3921069994,20),g=Wt(g,y,m,v,ey[5],3593408605,5),v=Wt(v,g,y,m,ey[10],38016083,9),m=Wt(m,v,g,y,ey[15],3634488961,14),y=Wt(y,m,v,g,ey[4],3889429448,20),g=Wt(g,y,m,v,ey[9],568446438,5),v=Wt(v,g,y,m,ey[14],3275163606,9),m=Wt(m,v,g,y,ey[3],4107603335,14),y=Wt(y,m,v,g,ey[8],1163531501,20),g=Wt(g,y,m,v,ey[13],2850285829,5),v=Wt(v,g,y,m,ey[2],4243563512,9),m=Wt(m,v,g,y,ey[7],1735328473,14),g=Zt(g,y=Wt(y,m,v,g,ey[12],2368359562,20),m,v,ey[5],4294588738,4),v=Zt(v,g,y,m,ey[8],2272392833,11),m=Zt(m,v,g,y,ey[11],1839030562,16),y=Zt(y,m,v,g,ey[14],4259657740,23),g=Zt(g,y,m,v,ey[1],2763975236,4),v=Zt(v,g,y,m,ey[4],1272893353,11),m=Zt(m,v,g,y,ey[7],4139469664,16),y=Zt(y,m,v,g,ey[10],3200236656,23),g=Zt(g,y,m,v,ey[13],681279174,4),v=Zt(v,g,y,m,ey[0],3936430074,11),m=Zt(m,v,g,y,ey[3],3572445317,16),y=Zt(y,m,v,g,ey[6],76029189,23),g=Zt(g,y,m,v,ey[9],3654602809,4),v=Zt(v,g,y,m,ey[12],3873151461,11),m=Zt(m,v,g,y,ey[15],530742520,16),g=Xt(g,y=Zt(y,m,v,g,ey[2],3299628645,23),m,v,ey[0],4096336452,6),v=Xt(v,g,y,m,ey[7],1126891415,10),m=Xt(m,v,g,y,ey[14],2878612391,15),y=Xt(y,m,v,g,ey[5],4237533241,21),g=Xt(g,y,m,v,ey[12],1700485571,6),v=Xt(v,g,y,m,ey[3],2399980690,10),m=Xt(m,v,g,y,ey[10],4293915773,15),y=Xt(y,m,v,g,ey[1],2240044497,21),g=Xt(g,y,m,v,ey[8],1873313359,6),v=Xt(v,g,y,m,ey[15],4264355552,10),m=Xt(m,v,g,y,ey[6],2734768916,15),y=Xt(y,m,v,g,ey[13],1309151649,21),g=Xt(g,y,m,v,ey[4],4149444226,6),v=Xt(v,g,y,m,ey[11],3174756917,10),m=Xt(m,v,g,y,ey[2],718787259,15),y=Xt(y,m,v,g,ey[9],3951481745,21),this._a=this._a+g|0,this._b=this._b+y|0,this._c=this._c+m|0,this._d=this._d+v|0},Jt.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var p=eg.allocUnsafe(16);return p.writeInt32LE(this._a,0),p.writeInt32LE(this._b,4),p.writeInt32LE(this._c,8),p.writeInt32LE(this._d,12),p};var em=el.Buffer,ev=eu.exports,e_=Array(16),eb=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],ew=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],eS=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],eT=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];function he(){jt.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function le(p,g){return p<<g|p>>>32-g}ev(he,jt),he.prototype._update=function(){for(var p,g,y,m,v,_,b,w,S,T,E,R,P,O,A,x,D,k,I,C,N,ee,ei,es,eo,ea,eu,ec,el,ed,eh,ep,ef,eg,ey,em,ev,eE,eR,eP,eO,eA,ex,eL,eD,ek,eI,eC,eF,eB,eN,ej,eM=0;eM<16;++eM)e_[eM]=this._block.readInt32LE(4*eM);for(var eU=0|this._a,eH=0|this._b,eq=0|this._c,eG=0|this._d,eV=0|this._e,ez=0|this._a,eW=0|this._b,eQ=0|this._c,e$=0|this._d,eK=0|this._e,eJ=0;eJ<80;eJ+=1)eJ<16?(p=eU,g=eH,y=eq,m=eG,v=eV,eN=le(p+(g^y^m)+e_[eb[eJ]]+0|0,eS[eJ])+v|0,_=ez,b=eW,w=eQ,S=e$,T=eK,ej=le(_+(b^(w|~S))+e_[ew[eJ]]+1352829926|0,eT[eJ])+T|0):eJ<32?(E=eU,R=eH,P=eq,O=eG,A=eV,eN=le(E+(R&P|~R&O)+e_[eb[eJ]]+1518500249|0,eS[eJ])+A|0,x=ez,D=eW,k=eQ,I=e$,C=eK,ej=le(x+(D&I|k&~I)+e_[ew[eJ]]+1548603684|0,eT[eJ])+C|0):eJ<48?(N=eU,ee=eH,ei=eq,es=eG,eo=eV,eN=le(N+((ee|~ei)^es)+e_[eb[eJ]]+1859775393|0,eS[eJ])+eo|0,ea=ez,eu=eW,ec=eQ,el=e$,ed=eK,ej=le(ea+((eu|~ec)^el)+e_[ew[eJ]]+1836072691|0,eT[eJ])+ed|0):eJ<64?(eh=eU,ep=eH,ef=eq,eg=eG,ey=eV,eN=le(eh+(ep&eg|ef&~eg)+e_[eb[eJ]]+2400959708|0,eS[eJ])+ey|0,em=ez,ev=eW,eE=eQ,eR=e$,eP=eK,ej=le(em+(ev&eE|~ev&eR)+e_[ew[eJ]]+2053994217|0,eT[eJ])+eP|0):(eO=eU,eA=eH,ex=eq,eL=eG,eD=eV,eN=le(eO+(eA^(ex|~eL))+e_[eb[eJ]]+2840853838|0,eS[eJ])+eD|0,ek=ez,eI=eW,eC=eQ,eF=e$,eB=eK,ej=le(ek+(eI^eC^eF)+e_[ew[eJ]]+0|0,eT[eJ])+eB|0),eU=eV,eV=eG,eG=le(eq,10),eq=eH,eH=eN,ez=eK,eK=e$,e$=le(eQ,10),eQ=eW,eW=ej;var eX=this._b+eq+e$|0;this._b=this._c+eG+eK|0,this._c=this._d+eV+ez|0,this._d=this._e+eU+eW|0,this._e=this._a+eH+eQ|0,this._a=eX},he.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var p=em.alloc?em.alloc(20):new em(20);return p.writeInt32LE(this._a,0),p.writeInt32LE(this._b,4),p.writeInt32LE(this._c,8),p.writeInt32LE(this._d,12),p.writeInt32LE(this._e,16),p};var eE={exports:{}},eR=ec.exports.Buffer;function Se(p,g){this._block=eR.alloc(p),this._finalSize=g,this._blockSize=p,this._len=0}Se.prototype.update=function(p,g){"string"==typeof p&&(g=g||"utf8",p=eR.from(p,g));for(var y=this._block,m=this._blockSize,v=p.length,_=this._len,b=0;b<v;){for(var w=_%m,S=Math.min(v-b,m-w),T=0;T<S;T++)y[w+T]=p[b+T];b+=S,(_+=S)%m==0&&this._update(y)}return this._len+=v,this},Se.prototype.digest=function(p){var g=this._len%this._blockSize;this._block[g]=128,this._block.fill(0,g+1),g>=this._finalSize&&(this._update(this._block),this._block.fill(0));var y=8*this._len;if(y<=4294967295)this._block.writeUInt32BE(y,this._blockSize-4);else{var m=(4294967295&y)>>>0,v=(y-m)/4294967296;this._block.writeUInt32BE(v,this._blockSize-8),this._block.writeUInt32BE(m,this._blockSize-4)}this._update(this._block);var _=this._hash();return p?_.toString(p):_},Se.prototype._update=function(){throw Error("_update must be implemented by subclass")};var eP=eu.exports,eO=ec.exports.Buffer,eA=[1518500249,1859775393,-1894007588,-899497514],ex=Array(80);function Ee(){this.init(),this._w=ex,Se.call(this,64,56)}eP(Ee,Se),Ee.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},Ee.prototype._update=function(p){for(var g,y=this._w,m=0|this._a,v=0|this._b,_=0|this._c,b=0|this._d,w=0|this._e,S=0;S<16;++S)y[S]=p.readInt32BE(4*S);for(;S<80;++S)y[S]=y[S-3]^y[S-8]^y[S-14]^y[S-16];for(var T=0;T<80;++T){var E,R,P,O,A=~~(T/20),x=0|((g=m)<<5|g>>>27)+(E=v,R=_,P=b,0===A?E&R|~E&P:2===A?E&R|E&P|R&P:E^R^P)+w+y[T]+eA[A];w=b,b=_,_=(O=v)<<30|O>>>2,v=m,m=x}this._a=m+this._a|0,this._b=v+this._b|0,this._c=_+this._c|0,this._d=b+this._d|0,this._e=w+this._e|0},Ee.prototype._hash=function(){var p=eO.allocUnsafe(20);return p.writeInt32BE(0|this._a,0),p.writeInt32BE(0|this._b,4),p.writeInt32BE(0|this._c,8),p.writeInt32BE(0|this._d,12),p.writeInt32BE(0|this._e,16),p};var eL=eu.exports,eD=ec.exports.Buffer,ek=[1518500249,1859775393,-1894007588,-899497514],eI=Array(80);function Fe(){this.init(),this._w=eI,Se.call(this,64,56)}eL(Fe,Se),Fe.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},Fe.prototype._update=function(p){for(var g,y=this._w,m=0|this._a,v=0|this._b,_=0|this._c,b=0|this._d,w=0|this._e,S=0;S<16;++S)y[S]=p.readInt32BE(4*S);for(;S<80;++S)y[S]=(g=y[S-3]^y[S-8]^y[S-14]^y[S-16])<<1|g>>>31;for(var T=0;T<80;++T){var E,R,P,O,A,x=~~(T/20),D=((E=m)<<5|E>>>27)+(R=v,P=_,O=b,0===x?R&P|~R&O:2===x?R&P|R&O|P&O:R^P^O)+w+y[T]+ek[x]|0;w=b,b=_,_=(A=v)<<30|A>>>2,v=m,m=D}this._a=m+this._a|0,this._b=v+this._b|0,this._c=_+this._c|0,this._d=b+this._d|0,this._e=w+this._e|0},Fe.prototype._hash=function(){var p=eD.allocUnsafe(20);return p.writeInt32BE(0|this._a,0),p.writeInt32BE(0|this._b,4),p.writeInt32BE(0|this._c,8),p.writeInt32BE(0|this._d,12),p.writeInt32BE(0|this._e,16),p};var eC=eu.exports,eF=ec.exports.Buffer,eB=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],eN=Array(64);function qe(){this.init(),this._w=eN,Se.call(this,64,56)}eC(qe,Se),qe.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},qe.prototype._update=function(p){for(var g,y=this._w,m=0|this._a,v=0|this._b,_=0|this._c,b=0|this._d,w=0|this._e,S=0|this._f,T=0|this._g,E=0|this._h,R=0;R<16;++R)y[R]=p.readInt32BE(4*R);for(;R<64;++R)y[R]=0|(((g=y[R-2])>>>17|g<<15)^(g>>>19|g<<13)^g>>>10)+y[R-7]+(((O=y[R-15])>>>7|O<<25)^(O>>>18|O<<14)^O>>>3)+y[R-16];for(var P=0;P<64;++P){var O,A,x,D,k,I,C,N,ee=E+(((A=w)>>>6|A<<26)^(A>>>11|A<<21)^(A>>>25|A<<7))+(x=w,D=S,(k=T)^x&(D^k))+eB[P]+y[P]|0,ei=(((I=m)>>>2|I<<30)^(I>>>13|I<<19)^(I>>>22|I<<10))+((C=m)&(N=v)|_&(C|N))|0;E=T,T=S,S=w,w=b+ee|0,b=_,_=v,v=m,m=ee+ei|0}this._a=m+this._a|0,this._b=v+this._b|0,this._c=_+this._c|0,this._d=b+this._d|0,this._e=w+this._e|0,this._f=S+this._f|0,this._g=T+this._g|0,this._h=E+this._h|0},qe.prototype._hash=function(){var p=eF.allocUnsafe(32);return p.writeInt32BE(this._a,0),p.writeInt32BE(this._b,4),p.writeInt32BE(this._c,8),p.writeInt32BE(this._d,12),p.writeInt32BE(this._e,16),p.writeInt32BE(this._f,20),p.writeInt32BE(this._g,24),p.writeInt32BE(this._h,28),p};var ej=eu.exports,eM=ec.exports.Buffer,eU=Array(64);function si(){this.init(),this._w=eU,Se.call(this,64,56)}ej(si,qe),si.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},si.prototype._hash=function(){var p=eM.allocUnsafe(28);return p.writeInt32BE(this._a,0),p.writeInt32BE(this._b,4),p.writeInt32BE(this._c,8),p.writeInt32BE(this._d,12),p.writeInt32BE(this._e,16),p.writeInt32BE(this._f,20),p.writeInt32BE(this._g,24),p};var eH=eu.exports,eq=ec.exports.Buffer,eG=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],eV=Array(160);function li(){this.init(),this._w=eV,Se.call(this,128,112)}function yi(p,g){return(p>>>28|g<<4)^(g>>>2|p<<30)^(g>>>7|p<<25)}function fi(p,g){return(p>>>14|g<<18)^(p>>>18|g<<14)^(g>>>9|p<<23)}function Si(p,g){return p>>>0<g>>>0?1:0}eH(li,Se),li.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},li.prototype._update=function(p){for(var g=this._w,y=0|this._ah,m=0|this._bh,v=0|this._ch,_=0|this._dh,b=0|this._eh,w=0|this._fh,S=0|this._gh,T=0|this._hh,E=0|this._al,R=0|this._bl,P=0|this._cl,O=0|this._dl,A=0|this._el,x=0|this._fl,D=0|this._gl,k=0|this._hl,I=0;I<32;I+=2)g[I]=p.readInt32BE(4*I),g[I+1]=p.readInt32BE(4*I+4);for(;I<160;I+=2){var C,N,ee,ei,es,eo,ea,eu,ec=g[I-30],el=g[I-30+1],ed=((C=ec)>>>1|(N=el)<<31)^(C>>>8|N<<24)^C>>>7,eh=((ee=el)>>>1|(ei=ec)<<31)^(ee>>>8|ei<<24)^(ee>>>7|ei<<25),ep=((es=ec=g[I-4])>>>19|(eo=el=g[I-4+1])<<13)^(eo>>>29|es<<3)^es>>>6,ef=((ea=el)>>>19|(eu=ec)<<13)^(eu>>>29|ea<<3)^(ea>>>6|eu<<26),eg=g[I-14],ey=g[I-14+1],em=g[I-32],ev=g[I-32+1],e_=eh+ey|0,eb=ed+eg+Si(e_,eh)|0;eb=(eb=eb+ep+Si(e_=e_+ef|0,ef)|0)+em+Si(e_=e_+ev|0,ev)|0,g[I]=eb,g[I+1]=e_}for(var ew=0;ew<160;ew+=2){eb=g[ew],e_=g[ew+1];var eS,eT,eE,eR,eP,eO,eA,ex,eL,eD,ek=(eS=y)&(eT=m)|v&(eS|eT),eI=(eE=E)&(eR=R)|P&(eE|eR),eC=yi(y,E),eF=yi(E,y),eB=fi(b,A),eN=fi(A,b),ej=eG[ew],eM=eG[ew+1],eU=(eP=b,eO=w,(eA=S)^eP&(eO^eA)),eH=(ex=A,eL=x,(eD=D)^ex&(eL^eD)),eq=k+eN|0,eV=T+eB+Si(eq,k)|0;eV=(eV=(eV=eV+eU+Si(eq=eq+eH|0,eH)|0)+ej+Si(eq=eq+eM|0,eM)|0)+eb+Si(eq=eq+e_|0,e_)|0;var ez=eF+eI|0,eW=eC+ek+Si(ez,eF)|0;T=S,k=D,S=w,D=x,w=b,x=A,b=_+eV+Si(A=O+eq|0,O)|0,_=v,O=P,v=m,P=R,m=y,R=E,y=eV+eW+Si(E=eq+ez|0,eq)|0}this._al=this._al+E|0,this._bl=this._bl+R|0,this._cl=this._cl+P|0,this._dl=this._dl+O|0,this._el=this._el+A|0,this._fl=this._fl+x|0,this._gl=this._gl+D|0,this._hl=this._hl+k|0,this._ah=this._ah+y+Si(this._al,E)|0,this._bh=this._bh+m+Si(this._bl,R)|0,this._ch=this._ch+v+Si(this._cl,P)|0,this._dh=this._dh+_+Si(this._dl,O)|0,this._eh=this._eh+b+Si(this._el,A)|0,this._fh=this._fh+w+Si(this._fl,x)|0,this._gh=this._gh+S+Si(this._gl,D)|0,this._hh=this._hh+T+Si(this._hl,k)|0},li.prototype._hash=function(){var p=eq.allocUnsafe(64);function e(g,y,m){p.writeInt32BE(g,m),p.writeInt32BE(y,m+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),p};var ez=eu.exports,eW=ec.exports.Buffer,eQ=Array(160);function Ei(){this.init(),this._w=eQ,Se.call(this,128,112)}ez(Ei,li),Ei.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},Ei.prototype._hash=function(){var p=eW.allocUnsafe(48);function e(g,y,m){p.writeInt32BE(g,m),p.writeInt32BE(y,m+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),p};var e$=eE.exports=function(p){var g=e$[p=p.toLowerCase()];if(!g)throw Error(p+" is not supported (we accept pull requests)");return new g};e$.sha=Ee,e$.sha1=Fe,e$.sha224=si,e$.sha256=qe,e$.sha384=Ei,e$.sha512=li;var eK=Ut(S||(S=y.t(C,2))),eJ=ec.exports.Buffer,eX=ed.Transform,eY=eK.StringDecoder;function Ui(p){eX.call(this),this.hashMode="string"==typeof p,this.hashMode?this[p]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}(0,eu.exports)(Ui,eX),Ui.prototype.update=function(p,g,y){"string"==typeof p&&(p=eJ.from(p,g));var m=this._update(p);return this.hashMode?this:(y&&(m=this._toString(m,y)),m)},Ui.prototype.setAutoPadding=function(){},Ui.prototype.getAuthTag=function(){throw Error("trying to get auth tag in unsupported state")},Ui.prototype.setAuthTag=function(){throw Error("trying to set auth tag in unsupported state")},Ui.prototype.setAAD=function(){throw Error("trying to set aad in unsupported state")},Ui.prototype._transform=function(p,g,y){var m;try{this.hashMode?this._update(p):this.push(this._update(p))}catch(p){m=p}finally{y(m)}},Ui.prototype._flush=function(p){var g;try{this.push(this.__final())}catch(p){g=p}p(g)},Ui.prototype._finalOrDigest=function(p){var g=this.__final()||eJ.alloc(0);return p&&(g=this._toString(g,p,!0)),g},Ui.prototype._toString=function(p,g,y){if(this._decoder||(this._decoder=new eY(g),this._encoding=g),this._encoding!==g)throw Error("can't switch encodings");var m=this._decoder.write(p);return y&&(m+=this._decoder.end()),m};var eZ=eu.exports,e0=eE.exports;function ji(p){Ui.call(this,"digest"),this._hash=p}eZ(ji,Ui),ji.prototype._update=function(p){this._hash.update(p)},ji.prototype._final=function(){return this._hash.digest()};var Vi=function(p){return"md5"===(p=p.toLowerCase())?new Jt:"rmd160"===p||"ripemd160"===p?new he:new ji(e0(p))};let Hi=class Hi{static hashTwice(p){let g=Vi("sha256").update(p).digest();return Vi("sha256").update(g).digest()}static sha256ripemd160(p){let g=Vi("sha256").update(p).digest();return Vi("ripemd160").update(g).digest()}static encodeToString(...p){let g=p.reduce((p,g)=>eo.concat([p,g]),eo.from(""));return Vi("sha256").update(g).digest().toString()}static encodeToBuffer(...p){let g=p.reduce((p,g)=>eo.concat([p,g]),eo.from(""));return Vi("sha256").update(g).digest()}static encodeToStr(p){return N.createHmac("sha256","hive node sha256 secret").update(p).digest("hex")}};let $i=class $i{constructor(p,g){this.endpoint=p,this.authService=new Nt(p),this.bridge=new Ki(p),this.jwtCode=null,this.storageKey=null}getStorageKey(){return L(this,void 0,void 0,function*(){if(!this.storageKey){let p=this.endpoint.getUserDid(),g=this.endpoint.getAppDid(),y=yield this.endpoint.getProviderAddress();this.storageKey=Hi.encodeToStr(`${p};${g};${y}`)}return this.storageKey})}fetch(){return L(this,void 0,void 0,function*(){return null!=this.jwtCode||(this.jwtCode=yield $i.tokenQueue.add(()=>L(this,void 0,void 0,function*(){let p=yield this.restoreToken();return null!=p||(p=yield this.fetchFromRemote()),p}))),this.jwtCode})}invalidate(){return this.clearToken()}fetchFromRemote(){return L(this,void 0,void 0,function*(){let p=yield this.authService.fetch(),g=yield this.getStorageKey();return this.endpoint.getStorage().storeAccessToken(g,p),yield this.bridge.flush(p),p})}restoreToken(){return L(this,void 0,void 0,function*(){let p=yield this.getStorageKey(),g=this.endpoint.getStorage().loadAccessToken(p);return null==g?null:(yield this.isExpired(g))?(yield this.clearToken(p),null):(yield this.bridge.flush(g),g)})}isExpired(p){return L(this,void 0,void 0,function*(){try{let g=(yield(new A.JWTParserBuilder).setAllowedClockSkewSeconds(300).build().parse(p)).getBody();return null==g||1e3*g.getExpiration()<Date.now()}catch(p){return $i.LOG.info(`Got an error when checking token expired: ${p}, ${p.stack}`),!0}})}clearToken(p){return L(this,void 0,void 0,function*(){let g=p||(yield this.getStorageKey());this.endpoint.getStorage().clearAccessToken(g)})}};$i.LOG=new G("AccessToken"),$i.tokenQueue=new D(1);let Ki=class Ki{constructor(p){this.endpoint=p}flush(p){return L(this,void 0,void 0,function*(){try{let g=(yield(new A.JWTParserBuilder).setAllowedClockSkewSeconds(300).build().parse(p)).getBody();this.endpoint.flushDids(g.getAudience(),g.getIssuer())}catch(p){throw Ki.LOG.error("An error occured in the BridgeHandler"),p}})}target(){return this.endpoint}};Ki.LOG=new G("BridgeHandler");let qi=class qi{constructor(p,g){let y=p;y.endsWith(M.SEPARATOR)||(y+=M.SEPARATOR),y+=this.compatDid(g),this.isOnBrowser()||this.createDirectory(y),this.basePath=y}loadBackupCredential(p){return this.readContent(this.makeFullPath(qi.BACKUP,this.compatDid(p)))}loadAccessToken(p){return this.readContent(this.makeFullPath(qi.TOKENS,this.compatDid(p)))}loadAccessTokenByAddress(p){return this.readContent(this.makeFullPath(qi.TOKENS,Hi.encodeToString(eo.from(p))))}storeBackupCredential(p,g){this.writeContent(this.makeFullPath(qi.BACKUP,this.compatDid(p)),g)}storeAccessToken(p,g){this.writeContent(this.makeFullPath(qi.TOKENS,this.compatDid(p)),g)}storeAccessTokenByAddress(p,g){this.writeContent(this.makeFullPath(qi.TOKENS,Hi.encodeToString(eo.from(p))),g)}clearBackupCredential(p){this.deleteContent(this.makeFullPath(qi.BACKUP,this.compatDid(p)))}clearAccessToken(p){this.deleteContent(this.makeFullPath(qi.TOKENS,this.compatDid(p)))}clearAccessTokenByAddress(p){this.deleteContent(this.makeFullPath(qi.TOKENS,Hi.encodeToString(eo.from(p))))}isOnBrowser(){return"undefined"!=typeof window}getLocalStorage(){return window.localStorage}getFs(){return require("fs")}createDirectory(p){if(!this.getFs().existsSync(p)){let g=p.startsWith(M.SEPARATOR)?M.SEPARATOR:"";for(let y of p.split(M.SEPARATOR))y&&(g=g+y+M.SEPARATOR,this.getFs().existsSync(g)||this.getFs().mkdirSync(g))}}readContent(p){if(!p)return null;if(this.isOnBrowser())return this.getLocalStorage().getItem(p);if(!this.getFs().existsSync(p))return null;try{return this.getFs().readFileSync(p,{encoding:"utf-8"})}catch(p){return qi.LOG.error(`read content error: ${p.message}`),null}}writeContent(p,g){if(!p)return;if(this.isOnBrowser())return void this.getLocalStorage().setItem(p,g);let y=p.substring(0,p.lastIndexOf(M.SEPARATOR));this.createDirectory(y);try{this.getFs().writeFileSync(p,g,{encoding:"utf-8"})}catch(p){qi.LOG.error(`write content error: ${p.message}`)}}deleteContent(p){if(p){if(this.isOnBrowser())this.getLocalStorage().removeItem(p);else try{this.getFs().existsSync(p)&&this.getFs().unlinkSync(p)}catch(p){qi.LOG.error(p.message)}}}makeFullPath(p,g){return this.basePath+p+M.SEPARATOR+g}compatDid(p){let g=p.split(":");return g.length>=3?g[2]:p}};qi.LOG=new G("FileStorage"),qi.BACKUP="credential-backup",qi.TOKENS="tokens";let Ji=class Ji{constructor(p,g,y){this.major=p,this.minor=g,this.patch=y}getMajor(){return this.major}getMinor(){return this.minor}getPatch(){return this.patch}toString(){let p=[];return this.major&&p.push(this.major),this.minor&&p.push(this.minor),this.patch&&p.push(this.patch),p.join(".")}};let Yi=class Yi{setServiceDid(p){return this.service_did=p,this}setOwnerDid(p){return this.owner_did=p,this}setOwnershipPresentation(p){return this.ownership_presentation=p,this}setName(p){return this.name=p,this}setEmail(p){return this.email=p,this}setDescription(p){return this.description=p,this}setVersion(p){return this.version=p,this}setLastCommitId(p){return this.last_commit_id=p,this}setUserCount(p){return this.user_count=p,this}setVaultCount(p){return this.vault_count=p,this}setBackupCount(p){return this.backup_count=p,this}setLatestAccessTime(p){return this.latest_access_time=p,this}setMemoryUsed(p){return this.memory_used=p,this}setMemoryTotal(p){return this.memory_total=p,this}setStorageUsed(p){return this.storage_used=p,this}setStorageTotal(p){return this.storage_total=p,this}getServiceDid(){return this.service_did}getOwnerDid(){return this.owner_did}getOwnershipPresentation(){return this.ownership_presentation}getName(){return this.name}getEmail(){return this.email}getDescription(){return this.description}getVersion(){return this.version}getLastCommitId(){return this.last_commit_id}getUserCount(){return this.user_count}getVaultCount(){return this.vault_count}getBackupCount(){return this.backup_count}getLatestAccessTime(){return this.latest_access_time}getMemoryUsed(){return this.memory_used}getMemoryTotal(){return this.memory_total}getStorageUsed(){return this.storage_used}getStorageTotal(){return this.storage_total}};let e1=class extends x.BaseService{version(){return L(this,void 0,void 0,function*(){throw new Q})}commitId(){return L(this,void 0,void 0,function*(){throw new Q})}info(p){return L(this,void 0,void 0,function*(){throw new Q})}};U([(0,x.GET)("/node/version"),(0,x.ResponseTransformer)((p,g)=>kt.handleResponseData(p,p=>new Ji(p.major,p.minor,p.patch))),F("design:type",Function),F("design:paramtypes",[]),F("design:returntype",Promise)],e1.prototype,"version",null),U([(0,x.GET)("/node/commit_id"),(0,x.ResponseTransformer)((p,g)=>kt.handleResponseData(p,p=>p.commit_id)),F("design:type",Function),F("design:paramtypes",[]),F("design:returntype",Promise)],e1.prototype,"commitId",null),U([(0,x.GET)("/node/info"),(0,x.ResponseTransformer)((p,g)=>kt.handleResponseData(p,p=>{let g=-1==p.latest_access_time?null:new Date(1e3*Number(p.latest_access_time));return(new Yi).setServiceDid(p.service_did).setOwnerDid(p.owner_did).setOwnershipPresentation(A.VerifiablePresentation.parse(JSON.stringify(p.ownership_presentation))).setName(p.name).setEmail(p.email).setDescription(p.description).setVersion(p.version).setLastCommitId(p.last_commit_id).setUserCount(p.user_count).setVaultCount(p.vault_count).setBackupCount(p.backup_count).setLatestAccessTime(g).setMemoryUsed(p.memory_used).setMemoryTotal(p.memory_total).setStorageUsed(p.storage_used).setStorageTotal(p.storage_total)})),B(0,(0,x.Header)("Authorization")),F("design:type",Function),F("design:paramtypes",[String]),F("design:returntype",Promise)],e1.prototype,"info",null),e1=U([(0,x.BasePath)("/api/v2")],e1);let Wi=class Wi extends Ct{constructor(p){super(p)}getNodeVersion(){return L(this,void 0,void 0,function*(){return yield this.callAPI(e1,p=>L(this,void 0,void 0,function*(){return yield p.version()}))})}getCommitId(){return L(this,void 0,void 0,function*(){return yield this.callAPI(e1,p=>L(this,void 0,void 0,function*(){return yield p.commitId()}))})}getInfo(){return L(this,void 0,void 0,function*(){return yield this.callAPI(e1,p=>L(this,void 0,void 0,function*(){return yield p.info((yield this.getAccessToken()))}))})}};let Zi=class Zi{constructor(p,g){if(!p&&!g)throw new ct("Invalid parameter: context and providerAddress can not all empty");this.context=p,this.providerAddress=g,this.init()}init(){if(this.aboutService=new Wi(this),this.context){let p=this.context.getAppContextProvider().getLocalDataDir();p.endsWith(M.SEPARATOR)||(p+=M.SEPARATOR),this.dataStorage=new qi(p,this.context.getUserDid()),this.accessToken=new $i(this,this.dataStorage),this.aboutServiceAuth=new Wi(this)}}hasAppContext(){return null!=this.context}getAccessToken(){if(!this.context)throw new ct("AppContext not setup");return this.accessToken}getProviderAddress(){return L(this,void 0,void 0,function*(){return this.providerAddress||(this.providerAddress=yield this.context.getProviderAddress()),this.providerAddress})}getAppContext(){if(!this.context)throw new ct("AppContext not setup");return this.context}getUserDid(){if(!this.context)throw new ct("AppContext not setup");return this.context.getUserDid()}getAppDid(){if(!this.context)throw new ct("AppContext not setup");return this.context.getAppDid()}getAppInstanceDid(){return this.appInstanceDid}getServiceDid(){return this.serviceInstanceDid}getServiceInstanceDid(){return L(this,void 0,void 0,function*(){if(!this.serviceInstanceDid){if(!this.context)throw new ct("AppContext not setup");yield this.accessToken.fetch()}return this.serviceInstanceDid})}flushDids(p,g){this.appInstanceDid=p,this.serviceInstanceDid=g}getStorage(){if(!this.context)throw new ct("AppContext not setup");return this.dataStorage}getNodeVersion(){return L(this,void 0,void 0,function*(){return yield this.aboutService.getNodeVersion()})}getLatestCommitId(){return L(this,void 0,void 0,function*(){return yield this.aboutService.getCommitId()})}getNodeInfo(){return L(this,void 0,void 0,function*(){if(!this.context)throw new ct("AppContext not setup");return yield this.aboutServiceAuth.getInfo()})}};function Xi(p,g){if(!p)throw new ct(g)}function tr(p,g){if(null===p)throw new ct(g)}let er=class er{constructor(p,g){this.cipher=p,this.value=g}encryptMessage(p,g){return this.cipher.encrypt(p,g)}decryptMessage(p,g){return this.cipher.decrypt(p,g)}concatUint8Arrays(p,g){let y=new Uint8Array(p.length+g.length);return y.set(p,0),y.set(g,p.length),y}encryptStream(p){let g=this.cipher.createEncryptionStream(),[y,m,v]=[er.TRUNK_SIZE,p.length,g.header()],[_,b]=[0,v];for(;_<m-1;){let v=_+y>=m-1,w=v?m-_:y,S=g.pushAny(p.slice(_,_+w),v);b=null===b?S:this.concatUint8Arrays(b,S),_+=w}return eo.from(b)}decryptStream(p){let g=A.DecryptionStream.getHeaderLen();if(!p||p.length<g)throw new ct("Invalid cipher data to decrypt");let y=p.slice(0,g),m=this.cipher.createDecryptionStream(y),[v,_]=[p.length,er.TRUNK_SIZE+A.DecryptionStream.getEncryptExtraSize()],[b,w]=[y.length,null];for(;b<v-1;){let g=b+_>=v-1?v-b:_,y=m.pull(p.slice(b,b+g));w=null===w?y:this.concatUint8Arrays(w,y),b+=g}return eo.from(w)}encrypt(){throw new Q}decrypt(){throw new Q}};er.TRUNK_SIZE=4096,er.ENCRYPT_METHOD="user_did";let ir=class ir extends er{constructor(p,g,y,m){super(p,y),this.nonce=g,this.encryptedType=m}isBasicType(){let p=typeof this.value;return"number"===p||"boolean"==p||"string"==p}getEncryptedType(){switch(typeof this.value){case"string":return ir.TYPE_STRING;case"boolean":return ir.TYPE_BOOLEAN;case"number":return ir.TYPE_NUMBER}throw new ct(`Got an unexpected basic type value, ${this.value}(${typeof this.value})`)}encrypt(){let p=this.value.toString();return this.encryptMessage(eo.from(p),this.nonce).toString("hex")}decrypt(){let p=eo.from(this.value,"hex"),g=this.decryptMessage(p,this.nonce).toString();switch(this.encryptedType){case ir.TYPE_STRING:return g;case ir.TYPE_BOOLEAN:return"true"===g;case ir.TYPE_NUMBER:return Number(g)}throw new ct(`Got an unexpected encrypted type value, ${this.value}(${typeof this.value})`)}};ir.TYPE_STRING=2,ir.TYPE_BOOLEAN=8,ir.TYPE_NUMBER=16;let rr=class rr{setName(p){return this.name=p,this}setAsFile(p){return this.is_file=p,this}setSize(p){return this.size=p,this}setCreated(p){return this.created=p,this}setUpdated(p){return this.updated=p,this}getName(){return this.name}isFile(){return this.is_file}getSize(){return this.size}getCreated(){return new Date(1e3*this.created)}getUpdated(){return new Date(1e3*this.updated)}};let nr=class nr{setName(p){return this.name=p,this}setAlgorithm(p){return this.name=p,this}setHash(p){return this.name=p,this}getName(){return this.name}getAlgorithm(){return this.algorithm}getHash(){return this.hash}};let e2=class extends x.BaseService{upload(p,g,y,m,v,_){return L(this,void 0,void 0,function*(){throw new Q})}download(p,g){return L(this,void 0,void 0,function*(){throw new Q})}listChildren(p,g){return L(this,void 0,void 0,function*(){throw new Q})}getMetadata(p,g){return L(this,void 0,void 0,function*(){throw new Q})}getHash(p,g){return L(this,void 0,void 0,function*(){throw new Q})}copy(p,g,y){return L(this,void 0,void 0,function*(){throw new Q})}move(p,g,y){return L(this,void 0,void 0,function*(){throw new Q})}delete(p,g){return L(this,void 0,void 0,function*(){throw new Q})}};U([(0,x.PUT)("/files/{path}"),(0,x.RequestTransformer)((p,g)=>p.data),(0,x.ResponseTransformer)((p,g)=>kt.handleResponseData(p,p=>p.cid)),B(0,(0,x.Header)("Authorization")),B(1,(0,x.Query)("public")),B(2,(0,x.Query)("is_encrypt")),B(3,(0,x.Query)("encrypt_method")),B(4,(0,x.Path)("path")),B(5,x.Body),F("design:type",Function),F("design:paramtypes",[String,Boolean,Boolean,String,String,Object]),F("design:returntype",Promise)],e2.prototype,"upload",null),U([(0,x.GET)("/files/{path}"),(0,x.ResponseType)("arraybuffer"),(0,x.ResponseTransformer)((p,g)=>kt.handleResponseData(p)),B(0,(0,x.Header)("Authorization")),B(1,(0,x.Path)("path")),F("design:type",Function),F("design:paramtypes",[String,String]),F("design:returntype",Promise)],e2.prototype,"download",null),U([(0,x.GET)("/files/{path}?comp=children"),(0,x.ResponseTransformer)((p,g)=>kt.handleResponseData(p,p=>p.value.map(p=>(new rr).setCreated(p.created).setUpdated(p.updated).setName(p.name).setAsFile(p.is_file).setSize(p.size)))),B(0,(0,x.Header)("Authorization")),B(1,(0,x.Path)("path")),F("design:type",Function),F("design:paramtypes",[String,String]),F("design:returntype",Promise)],e2.prototype,"listChildren",null),U([(0,x.GET)("/files/{path}?comp=metadata"),(0,x.ResponseTransformer)((p,g)=>kt.handleResponseData(p,p=>(new rr).setCreated(p.created).setUpdated(p.updated).setName(p.name).setAsFile(p.is_file).setSize(p.size))),B(0,(0,x.Header)("Authorization")),B(1,(0,x.Path)("path")),F("design:type",Function),F("design:paramtypes",[String,String]),F("design:returntype",Promise)],e2.prototype,"getMetadata",null),U([(0,x.GET)("/files/{path}?comp=hash"),(0,x.ResponseTransformer)((p,g)=>kt.handleResponseData(p,p=>(new nr).setName(p.name).setAlgorithm(p.algorithm).setHash(p.hash))),B(0,(0,x.Header)("Authorization")),B(1,(0,x.Path)("path")),F("design:type",Function),F("design:paramtypes",[String,String]),F("design:returntype",Promise)],e2.prototype,"getHash",null),U([(0,x.PUT)("/files/{path}"),(0,x.ResponseTransformer)((p,g)=>kt.handleResponseData(p,p=>p.name)),B(0,(0,x.Header)("Authorization")),B(1,(0,x.Path)("path")),B(2,(0,x.Query)("dest")),F("design:type",Function),F("design:paramtypes",[String,String,String]),F("design:returntype",Promise)],e2.prototype,"copy",null),U([(0,x.PATCH)("/files/{path}"),(0,x.ResponseTransformer)((p,g)=>kt.handleResponseData(p,p=>p.name)),B(0,(0,x.Header)("Authorization")),B(1,(0,x.Path)("path")),B(2,(0,x.Query)("to")),F("design:type",Function),F("design:paramtypes",[String,String,String]),F("design:returntype",Promise)],e2.prototype,"move",null),U([(0,x.DELETE)("/files/{path}"),B(0,(0,x.Header)("Authorization")),B(1,(0,x.Path)("path")),F("design:type",Function),F("design:paramtypes",[String,String]),F("design:returntype",Promise)],e2.prototype,"delete",null),e2=U([(0,x.BasePath)("/api/v2/vault")],e2);let or=class or{onProgress(p){}};let ar=class ar extends Ct{constructor(p){super(p)}download(p,g=new or){return L(this,void 0,void 0,function*(){return tr(p,"Remote file path is mandatory."),yield this.callAPI(e2,g=>L(this,void 0,void 0,function*(){return g.download((yield this.getAccessToken()),p)}),{onDownloadProgress:p=>{let y=Math.round(100*p.loaded/p.total);g.onProgress(y)}})})}uploadInternal(p,g,y=new or,m=!1,v=!1){return L(this,void 0,void 0,function*(){tr(p,"Remote destination path is mandatory."),tr(g,"data must be provided.");let _=g instanceof eo?g:eo.from(g);Xi(_.length>0,"No data to upload.");let b=v?er.ENCRYPT_METHOD:null;return yield this.callAPI(e2,g=>L(this,void 0,void 0,function*(){return yield g.upload((yield this.getAccessToken()),m,v,b,p,{data:_})}),{onUploadProgress:p=>{let g=Math.round(100*p.loaded/p.total);y.onProgress(g)}})})}upload(p,g,y=new or,m=!1){return L(this,void 0,void 0,function*(){return this.uploadInternal(p,g,y,m)})}list(p){return L(this,void 0,void 0,function*(){return yield this.callAPI(e2,g=>L(this,void 0,void 0,function*(){return g.listChildren((yield this.getAccessToken()),p)}))})}stat(p){return L(this,void 0,void 0,function*(){return yield this.callAPI(e2,g=>L(this,void 0,void 0,function*(){return g.getMetadata((yield this.getAccessToken()),p)}))})}hash(p){return L(this,void 0,void 0,function*(){return yield this.callAPI(e2,g=>L(this,void 0,void 0,function*(){return g.getHash((yield this.getAccessToken()),p)}))})}move(p,g){return L(this,void 0,void 0,function*(){return yield this.callAPI(e2,y=>L(this,void 0,void 0,function*(){return y.move((yield this.getAccessToken()),p,g)}))})}copy(p,g){return L(this,void 0,void 0,function*(){return yield this.callAPI(e2,y=>L(this,void 0,void 0,function*(){return y.copy((yield this.getAccessToken()),p,g)}))})}delete(p){return L(this,void 0,void 0,function*(){yield this.callAPI(e2,g=>L(this,void 0,void 0,function*(){return g.delete((yield this.getAccessToken()),p)}))})}};let cr=class cr{setAcknowledge(p){return this.acknowledged=p,this}setInsertedIds(p){return this.inserted_ids=p,this}isAcknowledge(){return this.acknowledged}getInsertedIds(){return this.inserted_ids}};let ur=class ur{setAcknowledged(p){return this.acknowledged=p,this}setMatchedCount(p){return this.matched_count=p,this}setModifiedCount(p){return this.modified_count=p,this}setUpsertedId(p){return this.upserted_id=p,this}isAcknowledged(){return this.acknowledged}getMatchedCount(){return this.matched_count}getModifiedCount(){return this.modified_count}getUpsertedId(){return this.upserted_id}};let dr=class dr{setItems(p){return this.items=p,this}setEncrypt(p){return this.is_encrypt=p,this}setEncryptMethod(p){return this.encrypt_method=p,this}getItems(){return this.items}isEncrypt(){return this.is_encrypt}getEncryptMethod(){return this.encrypt_method}};let hr=class hr{setName(p){return this.name=p,this}setEncrypt(p){return this.is_encrypt=p,this}setEncryptMethod(p){return this.encrypt_method=p,this}getName(){return this.name}isEncrypt(){return this.is_encrypt}getEncryptMethod(){return this.encrypt_method}};let lr=class lr extends dr{};let e3=class extends x.BaseService{getCollections(p){return L(this,void 0,void 0,function*(){throw new Q})}createCollection(p,g,y){return L(this,void 0,void 0,function*(){throw new Q})}deleteCollection(p,g){return L(this,void 0,void 0,function*(){throw new Q})}insert(p,g,y){return L(this,void 0,void 0,function*(){throw new Q})}count(p,g,y){return L(this,void 0,void 0,function*(){throw new Q})}update(p,g,y,m){return L(this,void 0,void 0,function*(){throw new Q})}delete(p,g,y,m){return L(this,void 0,void 0,function*(){throw new Q})}find(p,g,y,m,v){return L(this,void 0,void 0,function*(){throw new Q})}query(p,g,y){return L(this,void 0,void 0,function*(){throw new Q})}};U([(0,x.GET)("/collections"),(0,x.ResponseTransformer)((p,g)=>kt.handleResponseData(p,p=>p.collections.map(p=>(new hr).setName(p.name).setEncrypt(p.is_encrypt).setEncryptMethod(p.encrypt_method)))),B(0,(0,x.Header)("Authorization")),F("design:type",Function),F("design:paramtypes",[String]),F("design:returntype",Promise)],e3.prototype,"getCollections",null),U([(0,x.PUT)("/collections/{collectionName}"),B(0,(0,x.Header)("Authorization")),B(1,(0,x.Path)("collectionName")),B(2,x.Body),F("design:type",Function),F("design:paramtypes",[String,String,Object]),F("design:returntype",Promise)],e3.prototype,"createCollection",null),U([(0,x.DELETE)("/{collectionName}"),B(0,(0,x.Header)("Authorization")),B(1,(0,x.Path)("collectionName")),F("design:type",Function),F("design:paramtypes",[String,String]),F("design:returntype",Promise)],e3.prototype,"deleteCollection",null),U([(0,x.POST)("/collection/{collectionName}"),(0,x.ResponseTransformer)((p,g)=>kt.handleResponseData(p,p=>(new cr).setAcknowledge(p.acknowledge).setInsertedIds(p.inserted_ids))),B(0,(0,x.Header)("Authorization")),B(1,(0,x.Path)("collectionName")),B(2,x.Body),F("design:type",Function),F("design:paramtypes",[String,String,Object]),F("design:returntype",Promise)],e3.prototype,"insert",null),U([(0,x.POST)("/collection/{collectionName}?op=count"),(0,x.ResponseTransformer)((p,g)=>kt.handleResponseData(p,p=>p.count)),B(0,(0,x.Header)("Authorization")),B(1,(0,x.Path)("collectionName")),B(2,x.Body),F("design:type",Function),F("design:paramtypes",[String,String,Object]),F("design:returntype",Promise)],e3.prototype,"count",null),U([(0,x.PATCH)("/collection/{collectionName}"),(0,x.ResponseTransformer)((p,g)=>kt.handleResponseData(p,p=>(new ur).setAcknowledged(p.acknowledged).setMatchedCount(p.matched_count).setModifiedCount(p.modified_count).setUpsertedId(p.upserted_id))),B(0,(0,x.Header)("Authorization")),B(1,(0,x.Path)("collectionName")),B(2,(0,x.Query)("updateone")),B(3,x.Body),F("design:type",Function),F("design:paramtypes",[String,String,Boolean,Object]),F("design:returntype",Promise)],e3.prototype,"update",null),U([(0,x.DELETE)("/collection/{collectionName}"),B(0,(0,x.Header)("Authorization")),B(1,(0,x.Path)("collectionName")),B(2,(0,x.Query)("deleteone")),B(3,x.Body),F("design:type",Function),F("design:paramtypes",[String,String,Boolean,Object]),F("design:returntype",Promise)],e3.prototype,"delete",null),U([(0,x.GET)("/{collectionName}"),(0,x.ResponseTransformer)((p,g)=>kt.handleResponseData(p,p=>(new dr).setItems(p.items).setEncrypt(p.is_encrypt).setEncryptMethod(p.encrypt_method))),B(0,(0,x.Header)("Authorization")),B(1,(0,x.Path)("collectionName")),B(2,(0,x.Query)("filter")),B(3,(0,x.Query)("skip")),B(4,(0,x.Query)("limit")),F("design:type",Function),F("design:paramtypes",[String,String,String,Number,Number]),F("design:returntype",Promise)],e3.prototype,"find",null),U([(0,x.POST)("/query"),(0,x.ResponseTransformer)((p,g)=>kt.handleResponseData(p,p=>(new lr).setItems(p.items).setEncrypt(p.is_encrypt).setEncryptMethod(p.encrypt_method))),B(0,(0,x.Header)("Authorization")),B(1,(0,x.Path)("collectionName")),B(2,x.Body),F("design:type",Function),F("design:paramtypes",[String,String,Object]),F("design:returntype",Promise)],e3.prototype,"query",null),e3=U([(0,x.BasePath)("/api/v2/vault/db")],e3);let gr=class gr extends Ct{constructor(p){super(p)}getCollections(){return L(this,void 0,void 0,function*(){return yield this.callAPI(e3,p=>L(this,void 0,void 0,function*(){return yield p.getCollections((yield this.getAccessToken()))}))})}createCollectionInternal(p,g=!1){return L(this,void 0,void 0,function*(){let y={};g&&(y.is_encrypt=!0,y.encrypt_method=er.ENCRYPT_METHOD),yield this.callAPI(e3,g=>L(this,void 0,void 0,function*(){return yield g.createCollection((yield this.getAccessToken()),p,y)}))})}createCollection(p){return L(this,void 0,void 0,function*(){return this.createCollectionInternal(p)})}deleteCollection(p){return L(this,void 0,void 0,function*(){yield this.callAPI(e3,g=>L(this,void 0,void 0,function*(){return yield g.deleteCollection((yield this.getAccessToken()),p)}))})}insertOne(p,g,y){return L(this,void 0,void 0,function*(){return yield this.insertMany(p,[g],y)})}insertMany(p,g,y){return L(this,void 0,void 0,function*(){let m={document:g};return y&&(m.options=y),yield this.callAPI(e3,g=>L(this,void 0,void 0,function*(){return yield g.insert((yield this.getAccessToken()),p,m)}))})}countDocuments(p,g,y){return L(this,void 0,void 0,function*(){let m={filter:g};return y&&(m.options=y),yield this.callAPI(e3,g=>L(this,void 0,void 0,function*(){return yield g.count((yield this.getAccessToken()),p,m)}))})}findOne(p,g,y){return L(this,void 0,void 0,function*(){let m=yield this.findMany(p,g,y);return m&&0!==m.length?m[0]:null})}findManyInternal(p,g,y){return L(this,void 0,void 0,function*(){let m=g||{},v=y?y.getSkip():void 0,_=y?y.getLimit():void 0;return yield this.callAPI(e3,g=>L(this,void 0,void 0,function*(){return yield g.find((yield this.getAccessToken()),p,JSON.stringify(m),v,_)}))})}findMany(p,g,y){return L(this,void 0,void 0,function*(){return(yield this.findManyInternal(p,g,y)).getItems()})}queryInternal(p,g,y){return L(this,void 0,void 0,function*(){let m={collection:p,filter:g};return y&&(m.options=y),yield this.callAPI(e3,g=>L(this,void 0,void 0,function*(){return yield g.query((yield this.getAccessToken()),p,m)}))})}query(p,g,y){return L(this,void 0,void 0,function*(){return(yield this.queryInternal(p,g,y)).getItems()})}updateOne(p,g,y,m){return L(this,void 0,void 0,function*(){return yield this.updateInternal(p,!0,g,y,m)})}updateMany(p,g,y,m){return L(this,void 0,void 0,function*(){return yield this.updateInternal(p,!1,g,y,m)})}deleteOne(p,g){return L(this,void 0,void 0,function*(){return yield this.deleteInternal(p,!0,g)})}deleteMany(p,g){return L(this,void 0,void 0,function*(){return yield this.deleteInternal(p,!1,g)})}updateInternal(p,g,y,m,v){return L(this,void 0,void 0,function*(){let _={filter:y,update:m};return v&&(_.options=v),yield this.callAPI(e3,y=>L(this,void 0,void 0,function*(){return yield y.update((yield this.getAccessToken()),p,g,_)}))})}deleteInternal(p,g,y){return L(this,void 0,void 0,function*(){yield this.callAPI(e3,m=>L(this,void 0,void 0,function*(){return yield m.delete((yield this.getAccessToken()),p,g,{filter:y})}))})}};let yr=class yr{setTargetDid(p){return this.target_did=p,this}setTargetAppDid(p){return this.target_app_did=p,this}getTargetDid(){return this.target_did}getTargetAppDid(){return this.target_app_did}};let fr=class fr{setName(p){return this.name=p,this}setCondition(p){return this.condition=p,this}setExecutable(p){return this.executable=p,this}setAllowAnonymousUser(p){return this.allowAnonymousUser=p,this}setAllowAnonymousApp(p){return this.allowAnonymousApp=p,this}getName(){return this.name}getCondition(){return this.condition}getExecutable(){return this.executable}getAllowAnonymousUser(){return this.allowAnonymousUser}getAllowAnonymousApp(){return this.allowAnonymousApp}};let e4=class extends x.BaseService{registerScript(p,g,y){return L(this,void 0,void 0,function*(){throw new Q})}getScripts(p,g,y,m){return L(this,void 0,void 0,function*(){throw new Q})}runScript(p,g,y){return L(this,void 0,void 0,function*(){throw new Q})}runScriptUrl(p,g,y,m,v){return L(this,void 0,void 0,function*(){throw new Q})}unregisterScript(p,g){return L(this,void 0,void 0,function*(){throw new Q})}uploadFile(p,g,y){return L(this,void 0,void 0,function*(){throw new Q})}downloadFile(p,g){return L(this,void 0,void 0,function*(){throw new Q})}};U([(0,x.PUT)("/vault/scripting/{scriptName}"),B(0,(0,x.Header)("Authorization")),B(1,(0,x.Path)("scriptName")),B(2,x.Body),F("design:type",Function),F("design:paramtypes",[String,String,Object]),F("design:returntype",Promise)],e4.prototype,"registerScript",null),U([(0,x.GET)("/vault/scripting/scripts"),(0,x.ResponseTransformer)((p,g)=>kt.handleResponseData(p,p=>p.scripts.map(p=>(new fr).setName(p.name).setCondition(p.condition).setExecutable(p.executable).setAllowAnonymousUser(p.allowAnonymousUser).setAllowAnonymousApp(p.allowAnonymousApp)))),B(0,(0,x.Header)("Authorization")),B(1,(0,x.Path)("name")),B(2,(0,x.Path)("skip")),B(3,(0,x.Path)("limit")),F("design:type",Function),F("design:paramtypes",[String,String,Number,Number]),F("design:returntype",Promise)],e4.prototype,"getScripts",null),U([(0,x.PATCH)("/vault/scripting/{scriptName}"),(0,x.ResponseTransformer)((p,g)=>kt.handleResponseData(p,p=>p)),B(0,(0,x.Header)("Authorization")),B(1,(0,x.Path)("scriptName")),B(2,x.Body),F("design:type",Function),F("design:paramtypes",[String,String,Object]),F("design:returntype",Promise)],e4.prototype,"runScript",null),U([(0,x.GET)("/vault/scripting/{scriptName}/{targetDid}@{targetAppDid}/{params}"),(0,x.ResponseTransformer)((p,g)=>kt.handleResponseData(p,p=>p)),B(0,(0,x.Header)("Authorization")),B(1,(0,x.Path)("scriptName")),B(2,(0,x.Path)("targetDid")),B(3,(0,x.Path)("targetAppDid")),B(4,(0,x.Path)("params")),F("design:type",Function),F("design:paramtypes",[String,String,String,String,String]),F("design:returntype",Promise)],e4.prototype,"runScriptUrl",null),U([(0,x.DELETE)("/vault/scripting/{scriptName}"),B(0,(0,x.Header)("Authorization")),B(1,(0,x.Path)("scriptName")),F("design:type",Function),F("design:paramtypes",[String,String]),F("design:returntype",Promise)],e4.prototype,"unregisterScript",null),U([(0,x.PUT)("/vault/scripting/stream/{transactionId}"),(0,x.RequestTransformer)((p,g)=>p.data),B(0,(0,x.Header)("Authorization")),B(1,(0,x.Path)("transactionId")),B(2,x.Body),F("design:type",Function),F("design:paramtypes",[String,String,Object]),F("design:returntype",Promise)],e4.prototype,"uploadFile",null),U([(0,x.GET)("/vault/scripting/stream/{transactionId}"),(0,x.ResponseType)("arraybuffer"),(0,x.ResponseTransformer)((p,g)=>kt.handleResponseData(p)),B(0,(0,x.Header)("Authorization")),B(1,(0,x.Path)("transactionId")),F("design:type",Function),F("design:paramtypes",[String,String]),F("design:returntype",Promise)],e4.prototype,"downloadFile",null),e4=U([(0,x.BasePath)("/api/v2")],e4);let _r=class _r extends Ct{constructor(p){super(p)}registerScript(p,g,y,m,v){return L(this,void 0,void 0,function*(){tr(p,"Missing script name."),tr(g,"Missing executable script"),yield this.callAPI(e4,_=>L(this,void 0,void 0,function*(){return yield _.registerScript((yield this.getAccessToken()),p,{executable:g,condition:y||void 0,allowAnonymousUser:m,allowAnonymousApp:v})}))})}unregisterScript(p){return L(this,void 0,void 0,function*(){tr(p,"Missing script name."),yield this.callAPI(e4,g=>L(this,void 0,void 0,function*(){return yield g.unregisterScript((yield this.getAccessToken()),p)}))})}getScripts(p,g,y){return L(this,void 0,void 0,function*(){return yield this.callAPI(e4,m=>L(this,void 0,void 0,function*(){return yield m.getScripts((yield this.getAccessToken()),p,g,y)}))})}callScript(p,g,y,m){return L(this,void 0,void 0,function*(){tr(p,"Missing script name."),tr(g,"Missing parameters to run the script"),tr(y,"Missing target user DID"),tr(m,"Missing target application DID");let v=(new yr).setTargetDid(y).setTargetAppDid(m);return yield this.callAPI(e4,y=>L(this,void 0,void 0,function*(){return yield y.runScript((yield this.getAccessToken()),p,{context:v,params:g})}))})}callScriptUrl(p,g,y,m){return L(this,void 0,void 0,function*(){return tr(p,"Missing script name."),tr(g,"Missing parameters to run the script"),tr(y,"Missing target user DID"),tr(m,"Missing target application DID"),yield this.callAPI(e4,v=>L(this,void 0,void 0,function*(){return yield v.runScriptUrl((yield this.getAccessToken()),p,y,m,g)}))})}uploadFile(p,g,y=new or){return L(this,void 0,void 0,function*(){tr(p,"Missing transactionId."),tr(g,"data must be provided.");let m=g instanceof eo?g:eo.from(g);return Xi(m.length>0,"No data to upload."),_r.LOG.debug("Uploading "+m.byteLength+" byte(s)"),yield this.callAPI(e4,g=>L(this,void 0,void 0,function*(){return yield g.uploadFile((yield this.getAccessToken()),p,{data:m})}),{onUploadProgress:p=>{let g=Math.round(100*p.loaded/p.total);y.onProgress(g)}})})}downloadFile(p,g=new or){return L(this,void 0,void 0,function*(){tr(p,"Missing transactionId.");let y=yield this.callAPI(e4,g=>L(this,void 0,void 0,function*(){return g.downloadFile((yield this.getAccessToken()),p)}),{onDownloadProgress:function(p){let y=Math.round(100*p.loaded/p.total);g.onProgress(y)}});return _r.LOG.debug("Downloaded "+eo.byteLength(y)+" byte(s)."),y})}parseHiveUrl(p){if(!p||!p.startsWith("hive://"))throw new ct("Invalid hive url: no hive prefix");let g=p.substring(7).split("/");if(g.length<2)throw new ct("Invalid hive url: must contain at least one slash");let y=g[0].split("@");if(2!==y.length)throw new ct("Invalid hive url: must contain two DIDs");let m=g[1].split("?params="),v=null;return m.length>=2&&(v=m[1]),{targetUsrDid:y[0],targetAppDid:y[1],scriptName:m[0],params:(p=>{if(!p)return"{}";try{return JSON.parse(p),p}catch(p){return"{}"}})(v)}}downloadFileByHiveUrl(p){return L(this,void 0,void 0,function*(){let g=this.parseHiveUrl(p),y=yield xt.getProviderAddressByUserDid(g.targetUsrDid,null,!0);_r.LOG.info(`Got the hive url for targetDid: ${y}`);let m=new Zi(this.getServiceContext().getAppContext(),y),v=new _r(m),_=yield v.callScriptUrl(g.scriptName,g.params,g.targetUsrDid,g.targetAppDid);return yield v.downloadFile(Object.values(_)[0].transaction_id)})}};_r.LOG=new G("ScriptingService"),(m=R||(R={})).STATE_STOP="stop",m.STATE_BACKUP="backup",m.STATE_RESTORE="restore",(v=P||(P={})).RESULT_SUCCESS="success",v.RESULT_FAILED="failed",v.RESULT_PROCESS="process";let Sr=class Sr{setState(p){return this.state=p,this}setResult(p){return this.result=p,this}setMessage(p){return this.message=p,this}getState(){return this.state}getResult(){return this.result}getMessage(){return this.message}};let Ar=class Ar{constructor(p,g,y){this.endpoint=p,this.backupContext=g,this.nextFetcher=y}fetch(){return L(this,void 0,void 0,function*(){let p=yield this.getStorageKey(),g=this.endpoint.getStorage().loadBackupCredential(p);if(g){let y=A.VerifiableCredential.parse(g);(yield y.getExpirationDate()).getTime()<Date.now()&&(this.endpoint.getStorage().clearBackupCredential(p),g=null)}return null==g&&(g=yield this.nextFetcher.fetch(),this.endpoint.getStorage().storeBackupCredential(p,g)),g})}invalidate(){throw new Q}getStorageKey(){return L(this,void 0,void 0,function*(){if(!this.storageKey){let p=this.endpoint.getUserDid(),g=this.backupContext.getParameter("targetServiceDid"),y=`${p};${yield this.endpoint.getServiceInstanceDid()};${g}`;this.storageKey=Hi.encodeToStr(y)}return this.storageKey})}};let br=class br{constructor(p,g,y,m){this.serviceContext=p,this.backupContext=g,this.targetDid=y,this.targetHost=m}fetch(){return L(this,void 0,void 0,function*(){try{let p=yield this.serviceContext.getServiceInstanceDid();return yield this.backupContext.getAuthorization(p,this.targetDid,this.targetHost)}catch(p){throw new ht("Failed to create backup credential.",p)}})}invalidate(){throw new Q}};let Ir=class Ir{constructor(p,g){this.endpoint=p;let y=new br(p,g,g.getParameter("targetServiceDid"),g.getParameter("targetAddress"));this.credentialFetcher=new Ar(p,g,y)}getToken(){return L(this,void 0,void 0,function*(){return null!=this.jwtCode||(this.jwtCode=yield this.credentialFetcher.fetch()),this.jwtCode})}};let e8=class extends x.BaseService{getState(p){return L(this,void 0,void 0,function*(){throw new Q})}saveToNode(p,g){return L(this,void 0,void 0,function*(){throw new Q})}restoreFromNode(p,g){return L(this,void 0,void 0,function*(){throw new Q})}};U([(0,x.GET)("/vault/content"),(0,x.ResponseTransformer)((p,g)=>kt.handleResponseData(p,p=>(new Sr).setState(function(p){if("stop"===p)return R.STATE_STOP;if("backup"===p)return R.STATE_BACKUP;if("restore"===p)return R.STATE_RESTORE;throw new Et("Unknown state.")}(p.state)).setResult(function(p){if("success"===p)return P.RESULT_SUCCESS;if("failed"===p)return P.RESULT_FAILED;if("process"===p)return P.RESULT_PROCESS;throw new Et("Unknown result.")}(p.result)).setMessage(p.message))),B(0,(0,x.Header)("Authorization")),F("design:type",Function),F("design:paramtypes",[String]),F("design:returntype",Promise)],e8.prototype,"getState",null),U([(0,x.POST)("/vault/content?to=hive_node"),B(0,(0,x.Header)("Authorization")),B(1,x.Body),F("design:type",Function),F("design:paramtypes",[String,Object]),F("design:returntype",Promise)],e8.prototype,"saveToNode",null),U([(0,x.POST)("/vault/content?from=hive_node"),B(0,(0,x.Header)("Authorization")),B(1,x.Body),F("design:type",Function),F("design:paramtypes",[String,Object]),F("design:returntype",Promise)],e8.prototype,"restoreFromNode",null),e8=U([(0,x.BasePath)("/api/v2")],e8);let Pr=class Pr extends Ct{constructor(p){super(p)}setBackupContext(p){this.credentialCode=new Ir(this.getServiceContext(),p)}startBackup(p){return L(this,void 0,void 0,function*(){yield this.callAPI(e8,p=>L(this,void 0,void 0,function*(){return yield p.saveToNode((yield this.getAccessToken()),{credential:yield this.credentialCode.getToken()})})),yield this.waitByCheckResult(p)})}waitByCheckResult(p){return L(this,void 0,void 0,function*(){let e=p=>new Promise(g=>{setTimeout(g,p)}),g=null;do g=yield this.checkResult(),p&&p(g.getResult(),g.getMessage()),yield e(1e3);while(g.getResult()==P.RESULT_PROCESS)})}stopBackup(){return L(this,void 0,void 0,function*(){return yield new Promise((p,g)=>{g(new Q)})})}restoreFrom(p){return L(this,void 0,void 0,function*(){yield this.callAPI(e8,p=>L(this,void 0,void 0,function*(){return yield p.restoreFromNode((yield this.getAccessToken()),{credential:yield this.credentialCode.getToken()})})),yield this.waitByCheckResult(p)})}stopRestore(){return L(this,void 0,void 0,function*(){return yield new Promise((p,g)=>{g(new Q)})})}checkResult(){return L(this,void 0,void 0,function*(){return yield this.callAPI(e8,p=>L(this,void 0,void 0,function*(){return yield p.getState((yield this.getAccessToken()))}))})}};let Or=class Or extends er{constructor(p,g){super(p,g)}encrypt(){let p=this.value instanceof eo?this.value:eo.from(this.value);return this.encryptStream(p)}decrypt(){let p=this.value instanceof eo?this.value:eo.from(this.value);return this.decryptStream(p)}};let Er=class Er extends ar{constructor(p,g){super(p),this.cipher=g}download(p,g=new or){let y=Object.create(null,{download:{get:()=>super.download}});return L(this,void 0,void 0,function*(){let m=yield y.download.call(this,p,g);return eo.from(new Or(this.cipher,m).decrypt())})}upload(p,g,y=new or,m=!1){let v=Object.create(null,{uploadInternal:{get:()=>super.uploadInternal}});return L(this,void 0,void 0,function*(){if(Xi(!!g,"Invalid data"),m)throw new ct("No support for public the encrypted file.");let _=eo.from(new Or(this.cipher,g).encrypt());return v.uploadInternal.call(this,p,_,y,m,!0)})}};let Tr=class Tr extends er{constructor(p,g,y){super(p,y),this.nonce=g}encrypt(){let t=p=>{if(null==p)return null;if(p.constructor==Object){let g={};for(let[y,m]of Object.entries(p))g[y]=t(m);return g}if(Array.isArray(p)){let g=[];for(let y of p)g.push(t(y));return g}let g=new ir(this.cipher,this.nonce,p);return{__binary__:g.encrypt(),__type__:g.getEncryptedType()}};if(!this.value||this.value.constructor!==Object)throw new ct(`Invalid dictionary ${JSON.stringify(this.value)}(${typeof this.value})`);return t(this.value)}decrypt(){let t=p=>{if(null==p)return null;if(p.constructor==Object){if("__binary__"in p&&"__type__"in p)return new ir(this.cipher,this.nonce,p.__binary__,p.__type__).decrypt();let g={};for(let[y,m]of Object.entries(p))g[y]=t(m);return g}if(Array.isArray(p)){let g=[];for(let y of p)g.push(t(y));return g}return p};return JSON.parse(JSON.stringify(t(this.value)))}};let xr=class xr extends er{constructor(p,g,y){super(p,y),this.nonce=g}encrypt(){let p=this.value;if(null==p)return null;if(p.constructor!=Object)return xr.LOG.info(`Unexpected filter type ${typeof p}.`),p;let g={};for(let[y,m]of Object.entries(p)){let p=new ir(this.cipher,this.nonce,m);p.isBasicType()?(g[`${y}.__binary__`]=p.encrypt(),g[`${y}.__type__`]=p.getEncryptedType()):g[y]=m}return g}decrypt(){throw new Q}};xr.LOG=new G("EncryptionFilter");let kr=class kr extends er{constructor(p,g,y){super(p,y),this.nonce=g}encrypt(){let p=this.value;return null==p?null:("$set"in p&&p.$set&&p.$set.constructor==Object&&(p.$set=new Tr(this.cipher,this.nonce,p.$set).encrypt()),"$setOnInsert"in p&&p.$setOnInsert&&p.$setOnInsert.constructor==Object&&(p.$setOnInsert=new Tr(this.cipher,this.nonce,p.$setOnInsert).encrypt()),p)}decrypt(){throw new Q}};let Cr=class Cr{constructor(p,g){this.cipher=p,this.nonce=g}static getGeneralJsonDict(p,g){let y=JSON.stringify(p),m=JSON.parse(y);if(m.constructor!=Object)throw new ct(g);return m}encryptDoc(p,g=!0){let y=Cr.getGeneralJsonDict(p,"The document must be dictionary.");if(0==Object.keys(y).length)return{};let m=new Tr(this.cipher,this.nonce,y);return g?m.encrypt():m.decrypt()}encryptDocs(p,g=!0){let y=[];for(let m of p)y.push(this.encryptDoc(m,g));return y}encryptFilter(p){let g=Cr.getGeneralJsonDict(p,"The filter must be dictionary.");return 0==Object.keys(g).length?{}:new xr(this.cipher,this.nonce,g).encrypt()}encryptUpdate(p){let g=Cr.getGeneralJsonDict(p,"The update must be dictionary.");return 0==Object.keys(g).length?{}:new kr(this.cipher,this.nonce,g).encrypt()}};let Rr=class Rr extends gr{constructor(p,g,y){super(p),this.databaseEncrypt=new Cr(g,y)}createCollection(p){let g=Object.create(null,{createCollectionInternal:{get:()=>super.createCollectionInternal}});return L(this,void 0,void 0,function*(){return g.createCollectionInternal.call(this,p,!0)})}insertOne(p,g,y){let m=Object.create(null,{insertMany:{get:()=>super.insertMany}});return L(this,void 0,void 0,function*(){return m.insertMany.call(this,p,[this.databaseEncrypt.encryptDoc(g)],y)})}insertMany(p,g,y){let m=Object.create(null,{insertMany:{get:()=>super.insertMany}});return L(this,void 0,void 0,function*(){return m.insertMany.call(this,p,this.databaseEncrypt.encryptDocs(g),y)})}countDocuments(p,g,y){let m=Object.create(null,{countDocuments:{get:()=>super.countDocuments}});return L(this,void 0,void 0,function*(){return m.countDocuments.call(this,p,this.databaseEncrypt.encryptFilter(g),y)})}findOne(p,g,y){let m=Object.create(null,{findOne:{get:()=>super.findOne}});return L(this,void 0,void 0,function*(){return m.findOne.call(this,p,this.databaseEncrypt.encryptFilter(g),y)})}findMany(p,g,y){let m=Object.create(null,{findManyInternal:{get:()=>super.findManyInternal}});return L(this,void 0,void 0,function*(){let v=yield m.findManyInternal.call(this,p,this.databaseEncrypt.encryptFilter(g),y);if(!v.isEncrypt())throw new ct("Cannot decrypt the documents from the encryption collection.");return this.databaseEncrypt.encryptDocs(v.getItems(),!1)})}query(p,g,y){let m=Object.create(null,{queryInternal:{get:()=>super.queryInternal}});return L(this,void 0,void 0,function*(){let v=yield m.queryInternal.call(this,p,this.databaseEncrypt.encryptFilter(g),y);if(!v.isEncrypt())throw new ct("Cannot decrypt the documents from the encryption collection.");return this.databaseEncrypt.encryptDocs(v.getItems(),!1)})}updateOne(p,g,y,m){let v=Object.create(null,{updateInternal:{get:()=>super.updateInternal}});return L(this,void 0,void 0,function*(){let _=this.databaseEncrypt.encryptFilter(g),b=this.databaseEncrypt.encryptUpdate(y);return yield v.updateInternal.call(this,p,!0,_,b,m)})}updateMany(p,g,y,m){return L(this,void 0,void 0,function*(){let v=this.databaseEncrypt.encryptFilter(g),_=this.databaseEncrypt.encryptUpdate(y);return yield this.updateInternal(p,!1,v,_,m)})}deleteOne(p,g){let y=Object.create(null,{deleteOne:{get:()=>super.deleteOne}});return L(this,void 0,void 0,function*(){yield y.deleteOne.call(this,p,this.databaseEncrypt.encryptFilter(g))})}deleteMany(p,g){let y=Object.create(null,{deleteMany:{get:()=>super.deleteMany}});return L(this,void 0,void 0,function*(){yield y.deleteMany.call(this,p,this.databaseEncrypt.encryptFilter(g))})}};let Nr=class Nr{setName(p){return this.name=p,this}setDeveloperDid(p){return this.developer_did=p,this}setIconUrl(p){return this.icon_url=p,this}setUserDid(p){return this.user_did=p,this}setAppDid(p){return this.app_did=p,this}setUsedStorageSize(p){return this.used_storage_size=p,this}setAccessAccount(p){return this.access_count=p,this}setAccessAmount(p){return this.access_amount=p,this}setAccessLastTime(p){return this.access_last_time=p,this}getName(){return this.name}getDeveloperDid(){return this.developer_did}getIconUrl(){return this.icon_url}getUserDid(){return this.user_did}getAppDid(){return this.app_did}getUsedStorageSize(){return this.used_storage_size}getAccessCount(){return this.access_count}getAccessAmount(){return this.access_amount}getAccessLastTime(){return this.access_last_time}};let Ur=class Ur{setServiceDid(p){return this.serviceDid=p,this}setStorageQuota(p){return this.storageQuota=p,this}setStorageUsed(p){return this.storageUsed=p,this}setCreated(p){return this.created=p,this}setUpdated(p){return this.updated=p,this}setPricePlan(p){return this.pricePlan=p,this}setStartTime(p){return this.startTime=p,this}setEndTime(p){return this.endTime=p,this}getServiceDid(){return this.serviceDid}getStorageQuota(){return this.storageQuota}getStorageUsed(){return this.storageUsed}getCreated(){return this.created}getUpdated(){return this.updated}getPricePlan(){return this.pricePlan}getStartTime(){return this.startTime}getEndTime(){return this.endTime}};let Br=class Br extends Ur{};let Fr=class Fr{setAmount(p){return this.amount=p,this}setCurrency(p){return this.currency=p,this}setMaxStorage(p){return this.maxStorage=p,this}setName(p){return this.name=p,this}setServiceDays(p){return this.serviceDays=p,this}getAmount(){return this.amount}getCurrency(){return this.currency}getMaxStorage(){return this.maxStorage}getName(){return this.name}getServiceDays(){return this.serviceDays}};let Lr=class Lr extends Ur{setAppCount(p){return this.app_count=p,this}setAccessCount(p){return this.access_count=p,this}setAccessAmount(p){return this.access_amount=p,this}setAccessLastTime(p){return this.access_last_time=p,this}getAppCount(){return this.app_count}getAccessCount(){return this.access_count}getAccessAmount(){return this.access_amount}getAccessLastTime(){return this.access_last_time}};let e5=class extends x.BaseService{getVaultPricePlans(p,g,y){return L(this,void 0,void 0,function*(){throw new Q})}getBackupPricePlans(p,g,y){return L(this,void 0,void 0,function*(){throw new Q})}subscribeToVault(p){return L(this,void 0,void 0,function*(){throw new Q})}activateVault(p){return L(this,void 0,void 0,function*(){throw new Q})}deactivateVault(p){return L(this,void 0,void 0,function*(){throw new Q})}unsubscribeVault(p,g){return L(this,void 0,void 0,function*(){throw new Q})}getVaultInfo(p){return L(this,void 0,void 0,function*(){throw new Q})}getVaultAppStats(p){return L(this,void 0,void 0,function*(){throw new Q})}subscribeToBackup(p){return L(this,void 0,void 0,function*(){throw new Q})}activateBackup(p){return L(this,void 0,void 0,function*(){throw new Q})}deactivateBackup(p){return L(this,void 0,void 0,function*(){throw new Q})}unsubscribeBackup(p){return L(this,void 0,void 0,function*(){throw new Q})}getBackupInfo(p){return L(this,void 0,void 0,function*(){throw new Q})}};U([(0,x.GET)("/subscription/pricing_plan"),(0,x.ResponseTransformer)((p,g)=>kt.handleResponseData(p,p=>p.pricingPlans.map(p=>(new Fr).setAmount(p.amount).setCurrency(p.currency).setMaxStorage(p.maxStorage).setName(p.name).setServiceDays(p.serviceDays)))),B(0,(0,x.Header)("Authorization")),B(1,(0,x.Query)("subscription")),B(2,(0,x.Query)("name")),F("design:type",Function),F("design:paramtypes",[String,String,String]),F("design:returntype",Promise)],e5.prototype,"getVaultPricePlans",null),U([(0,x.GET)("/subscription/pricing_plan"),(0,x.ResponseTransformer)((p,g)=>kt.handleResponseData(p,p=>p.backupPlans.map(p=>(new Fr).setAmount(p.amount).setCurrency(p.currency).setMaxStorage(p.maxStorage).setName(p.name).setServiceDays(p.serviceDays)))),B(0,(0,x.Header)("Authorization")),B(1,(0,x.Query)("subscription")),B(2,(0,x.Query)("name")),F("design:type",Function),F("design:paramtypes",[String,String,String]),F("design:returntype",Promise)],e5.prototype,"getBackupPricePlans",null),U([(0,x.PUT)("/subscription/vault"),(0,x.ResponseTransformer)((p,g)=>kt.handleResponseData(p,p=>(new Lr).setAppCount(p.app_count).setAccessCount(p.access_count).setAccessAmount(p.access_amount).setAccessLastTime(p.access_last_time).setServiceDid(p.service_did).setStorageQuota(p.storage_quota).setStorageUsed(p.storage_used).setCreated(new Date(1e3*Number(p.created))).setUpdated(new Date(1e3*Number(p.updated))).setPricePlan(p.pricing_plan))),B(0,(0,x.Header)("Authorization")),F("design:type",Function),F("design:paramtypes",[String]),F("design:returntype",Promise)],e5.prototype,"subscribeToVault",null),U([(0,x.POST)("/subscription/vault?op=activation"),B(0,(0,x.Header)("Authorization")),F("design:type",Function),F("design:paramtypes",[String]),F("design:returntype",Promise)],e5.prototype,"activateVault",null),U([(0,x.POST)("/subscription/vault?op=deactivation"),B(0,(0,x.Header)("Authorization")),F("design:type",Function),F("design:paramtypes",[String]),F("design:returntype",Promise)],e5.prototype,"deactivateVault",null),U([(0,x.DELETE)("/subscription/vault"),B(0,(0,x.Header)("Authorization")),B(1,(0,x.Query)("force")),F("design:type",Function),F("design:paramtypes",[String,Boolean]),F("design:returntype",Promise)],e5.prototype,"unsubscribeVault",null),U([(0,x.GET)("/subscription/vault"),(0,x.ResponseTransformer)((p,g)=>kt.handleResponseData(p,p=>{let g=-1==p.access_last_time?null:new Date(1e3*Number(p.access_last_time));return(new Lr).setAppCount(p.app_count).setAccessCount(p.access_count).setAccessAmount(p.access_amount).setAccessLastTime(g).setServiceDid(p.service_did).setStorageQuota(p.storage_quota).setStorageUsed(p.storage_used).setStartTime(new Date(1e3*Number(p.start_time))).setEndTime(p.end_time>0?new Date(1e3*Number(p.end_time)):null).setCreated(new Date(1e3*Number(p.created))).setUpdated(new Date(1e3*Number(p.updated))).setPricePlan(p.pricing_plan)})),B(0,(0,x.Header)("Authorization")),F("design:type",Function),F("design:paramtypes",[String]),F("design:returntype",Promise)],e5.prototype,"getVaultInfo",null),U([(0,x.GET)("/subscription/vault/app_stats"),(0,x.ResponseTransformer)((p,g)=>kt.handleResponseData(p,p=>p.apps.map(g=>{let y=-1==g.access_last_time?null:new Date(1e3*p.access_last_time);return(new Nr).setName(g.name).setDeveloperDid(g.developer_did).setIconUrl(g.icon_url).setUserDid(g.user_did).setAppDid(g.app_did).setUsedStorageSize(g.used_storage_size).setAccessAccount(g.access_count).setAccessAmount(g.access_amount).setAccessLastTime(y)}))),B(0,(0,x.Header)("Authorization")),F("design:type",Function),F("design:paramtypes",[String]),F("design:returntype",Promise)],e5.prototype,"getVaultAppStats",null),U([(0,x.PUT)("/subscription/backup"),(0,x.ResponseTransformer)((p,g)=>kt.handleResponseData(p,p=>(new Br).setServiceDid(p.service_did).setStorageQuota(p.storage_quota).setStorageUsed(p.storage_used).setCreated(new Date(1e3*Number(p.created))).setUpdated(new Date(1e3*Number(p.updated))).setPricePlan(p.pricing_plan))),B(0,(0,x.Header)("Authorization")),F("design:type",Function),F("design:paramtypes",[String]),F("design:returntype",Promise)],e5.prototype,"subscribeToBackup",null),U([(0,x.POST)("/subscription/backup?op=activation"),B(0,(0,x.Header)("Authorization")),F("design:type",Function),F("design:paramtypes",[String]),F("design:returntype",Promise)],e5.prototype,"activateBackup",null),U([(0,x.POST)("/subscription/backup?op=deactivation"),B(0,(0,x.Header)("Authorization")),F("design:type",Function),F("design:paramtypes",[String]),F("design:returntype",Promise)],e5.prototype,"deactivateBackup",null),U([(0,x.DELETE)("/subscription/backup"),B(0,(0,x.Header)("Authorization")),F("design:type",Function),F("design:paramtypes",[String]),F("design:returntype",Promise)],e5.prototype,"unsubscribeBackup",null),U([(0,x.GET)("/subscription/backup"),(0,x.ResponseTransformer)((p,g)=>kt.handleResponseData(p,p=>(new Br).setServiceDid(p.service_did).setStorageQuota(p.storage_quota).setStorageUsed(p.storage_used).setStartTime(new Date(1e3*Number(p.start_time))).setEndTime(p.start_time>0?new Date(1e3*Number(p.start_time)):null).setCreated(new Date(1e3*Number(p.created))).setUpdated(new Date(1e3*Number(p.updated))).setPricePlan(p.pricing_plan))),B(0,(0,x.Header)("Authorization")),F("design:type",Function),F("design:paramtypes",[String]),F("design:returntype",Promise)],e5.prototype,"getBackupInfo",null),e5=U([(0,x.BasePath)("/api/v2")],e5);let zr=class zr extends Ct{constructor(p,g){super(new Zi(p,g)),this.filesService=new ar(this.getServiceContext()),this.databaseService=new gr(this.getServiceContext()),this.scripting=new _r(this.getServiceContext()),this.backupService=new Pr(this.getServiceContext())}enableEncryption(p){return L(this,void 0,void 0,function*(){if(this.cipher)throw new rt("Encryption ciper already being enabled.");try{let g=this.getServiceContext().getAppContext().getAppDid();this.cipher=yield this.getEncryptionCipher(g,0,p)}catch(p){throw new rt(`Generating encryption cipher error: ${p}`)}})}getFilesService(p=!1){if(p&&null===this.cipher)throw new ct("Encryption has not been enabled, call 'enableEncrytpion'");return p&&!this.encryptedFileServcie&&(this.encryptedFileServcie=new Er(this.getServiceContext(),this.cipher)),p?this.encryptedFileServcie:this.filesService}getDatabaseService(p=!1){if(p&&null===this.cipher)throw new ct("Encryption has not been enabled, call 'enableEncrytpion'");return p&&!this.encryptedDBService&&(this.encryptedDBService=new Rr(this.getServiceContext(),this.cipher,zr.DATABASE_NONCE)),p?this.encryptedDBService:this.databaseService}getScriptingService(){return this.scripting}getBackupService(){return this.backupService}getAppStats(){return L(this,void 0,void 0,function*(){return yield this.callAPI(e5,p=>L(this,void 0,void 0,function*(){return yield p.getVaultAppStats((yield this.getAccessToken()))}))})}};zr.DATABASE_NONCE=eo.from("404142434445464748494a4b4c4d4e4f5051525354555657","hex"),(_=O||(O={})).NORMAL="normal",_.EXPIRED="expired",_.PAID="paid",_.ARCHIVE="archive";let jr=class jr{setOrderId(p){return this.order_id=p,this}setSubscription(p){return this.subscription=p,this}setPricingPlan(p){return this.pricing_plan=p,this}setPayingDid(p){return this.paying_did=p,this}setPaymentAmount(p){return this.payment_amount=p,this}setCreateTime(p){return this.create_time=p,this}setExpirationTime(p){return this.expiration_time=p,this}setReceivingAddress(p){return this.receiving_address=p,this}setState(p){return this.state=p,this}setProof(p){return this.proof=p,this}getOrderId(){return this.order_id}getSubscription(){return this.subscription}getPricingPlan(){return this.pricing_plan}getPayingDid(){return this.paying_did}getPaymentAmount(){return this.payment_amount}getCreateTime(){return this.create_time}getExpirationTime(){return this.expiration_time}getReceivingAddress(){return this.receiving_address}getState(){return this.state}getProof(){return this.proof}};let Vr=class Vr{setReceiptId(p){return this.receipt_id=p,this}setOrderId(p){return this.order_id=p,this}setSubscription(p){return this.subscription=p,this}setPricingPlan(p){return this.pricing_plan=p,this}setPaymentAmount(p){return this.payment_amount=p,this}setPaidDid(p){return this.paid_did=p,this}setCreateTime(p){return this.create_time=p,this}setReceivingAddress(p){return this.receiving_address=p,this}setReceiptProof(p){return this.receipt_proof=p,this}getReceiptId(){return this.receipt_id}getOrderId(){return this.order_id}getSubscription(){return this.subscription}getPricingPlan(){return this.pricing_plan}getPaymentAmount(){return this.payment_amount}getPaidDid(){return this.paid_did}getCreateTime(){return this.create_time}getReceivingAddress(){return this.receiving_address}getReceiptProof(){return this.receipt_proof}};function Hr(p){if("normal"===p)return O.NORMAL;if("expired"===p)return O.EXPIRED;if("paid"===p)return O.PAID;if("archive"===p)return O.ARCHIVE;throw new Et("Unknown result.")}let e6=class extends x.BaseService{version(p){return L(this,void 0,void 0,function*(){throw new Q})}placeOrder(p,g){return L(this,void 0,void 0,function*(){throw new Q})}settleOrder(p,g){return L(this,void 0,void 0,function*(){throw new Q})}getOrders(p,g){return L(this,void 0,void 0,function*(){throw new Q})}getReceipts(p,g){return L(this,void 0,void 0,function*(){throw new Q})}};U([(0,x.GET)("/payment/version"),(0,x.ResponseTransformer)((p,g)=>kt.handleResponseData(p,p=>p.version)),B(0,(0,x.Header)("Authorization")),F("design:type",Function),F("design:paramtypes",[String]),F("design:returntype",Promise)],e6.prototype,"version",null),U([(0,x.PUT)("/payment/order"),(0,x.ResponseTransformer)((p,g)=>kt.handleResponseData(p,p=>(new jr).setOrderId(p.order_id).setSubscription(p.subscription).setPricingPlan(p.pricing_plan).setPayingDid(p.paying_did).setPaymentAmount(p.payment_amount).setCreateTime(p.create_time).setExpirationTime(p.expiration_time).setReceivingAddress(p.receiving_address).setState(Hr(p.state)).setProof(p.proof))),B(0,(0,x.Header)("Authorization")),B(1,x.Body),F("design:type",Function),F("design:paramtypes",[String,Object]),F("design:returntype",Promise)],e6.prototype,"placeOrder",null),U([(0,x.POST)("/payment/order/{orderId}"),(0,x.ResponseTransformer)((p,g)=>kt.handleResponseData(p,p=>(new Vr).setReceiptId(p.receipt_id).setOrderId(p.order_id).setSubscription(p.subscription).setPricingPlan(p.pricing_plan).setPaymentAmount(p.payment_amount).setPaidDid(p.paid_did).setCreateTime(p.create_time).setReceivingAddress(p.receiving_address).setReceiptProof(p.receipt_proof))),B(0,(0,x.Header)("Authorization")),B(1,(0,x.Path)("orderId")),F("design:type",Function),F("design:paramtypes",[String,Number]),F("design:returntype",Promise)],e6.prototype,"settleOrder",null),U([(0,x.GET)("/payment/order"),(0,x.ResponseTransformer)((p,g)=>kt.handleResponseData(p,p=>p.orders.map(g=>(new jr).setOrderId(p.order_id).setSubscription(p.subscription).setPricingPlan(p.pricing_plan).setPayingDid(p.paying_did).setPaymentAmount(p.payment_amount).setCreateTime(p.create_time).setExpirationTime(p.expiration_time).setReceivingAddress(p.receiving_address).setState(Hr(p.state)).setProof(p.proof)))),B(0,(0,x.Header)("Authorization")),B(1,x.Body),F("design:type",Function),F("design:paramtypes",[String,Object]),F("design:returntype",Promise)],e6.prototype,"getOrders",null),U([(0,x.GET)("/payment/receipt"),(0,x.ResponseTransformer)((p,g)=>kt.handleResponseData(p,p=>p.receipts.map(p=>(new Vr).setReceiptId(p.receipt_id).setOrderId(p.order_id).setSubscription(p.subscription).setPricingPlan(p.pricing_plan).setPaymentAmount(p.payment_amount).setPaidDid(p.paid_did).setCreateTime(p.create_time).setReceivingAddress(p.receiving_address).setReceiptProof(p.receipt_proof)))),B(0,(0,x.Header)("Authorization")),B(1,x.Body),F("design:type",Function),F("design:paramtypes",[String,Object]),F("design:returntype",Promise)],e6.prototype,"getReceipts",null),e6=U([(0,x.BasePath)("/api/v2")],e6);let Kr=class Kr extends Ct{constructor(p){super(p)}placeOrder(p,g){return L(this,void 0,void 0,function*(){return tr(p,"Missing subscription."),tr(g,"Missing pricing name."),yield this.callAPI(e6,y=>L(this,void 0,void 0,function*(){return yield y.placeOrder((yield this.getAccessToken()),{subscription:p,pricing_name:g})}))})}payOrder(){return L(this,void 0,void 0,function*(){return yield new Promise((p,g)=>{g(new Q("Please use payment SDK."))})})}settleOrder(p){return L(this,void 0,void 0,function*(){return tr(p,"Missing order id."),yield this.callAPI(e6,g=>L(this,void 0,void 0,function*(){return yield g.settleOrder((yield this.getAccessToken()),p)}))})}getOrder(p,g){return L(this,void 0,void 0,function*(){if(tr(p,"Missing subscription."),tr(g,"Missing order id."),"vault"!=p&&"backup"!=p)throw new V("Invalid subscription. Must be 'vault' or 'backup'");let y=yield this.getOrdersInternal(p,g);return y?y[0]:null})}getOrders(p){return L(this,void 0,void 0,function*(){if(tr(p,"Missing subscription."),"vault"!=p&&"backup"!=p)throw new V("Invalid subscription. Must be 'vault' or 'backup'");return yield this.getOrdersInternal(p)})}getOrdersInternal(p,g){return L(this,void 0,void 0,function*(){return yield this.callAPI(e6,y=>L(this,void 0,void 0,function*(){return yield y.getOrders((yield this.getAccessToken()),{subscription:p,order_id:g})}))})}getReceipts(p){return L(this,void 0,void 0,function*(){return yield this.callAPI(e6,g=>L(this,void 0,void 0,function*(){return yield g.getReceipts((yield this.getAccessToken()),{order_id:p})}))})}getVersion(){return L(this,void 0,void 0,function*(){return yield this.callAPI(e6,p=>L(this,void 0,void 0,function*(){return yield p.version((yield this.getAccessToken()))}))})}};let qr=class qr extends Ct{constructor(p){super(p)}getVaultPricingPlanList(){return L(this,void 0,void 0,function*(){return this.callAPI(e5,p=>L(this,void 0,void 0,function*(){return yield p.getVaultPricePlans((yield this.getAccessToken()),"vault")}))})}getVaultPricingPlan(p){return L(this,void 0,void 0,function*(){Xi(!!p,"Invalid plan name.");let g=yield this.callAPI(e5,g=>L(this,void 0,void 0,function*(){return yield g.getVaultPricePlans((yield this.getAccessToken()),"vault",p)}));return g?g[0]:null})}getVaultInfo(){return L(this,void 0,void 0,function*(){return yield this.callAPI(e5,p=>L(this,void 0,void 0,function*(){return yield p.getVaultInfo((yield this.getAccessToken()))}))})}subscribeToVault(){return L(this,void 0,void 0,function*(){return yield this.callAPI(e5,p=>L(this,void 0,void 0,function*(){return yield p.subscribeToVault((yield this.getAccessToken()))}))})}unsubscribeVault(p){return L(this,void 0,void 0,function*(){return yield this.callAPI(e5,g=>L(this,void 0,void 0,function*(){return yield g.unsubscribeVault((yield this.getAccessToken()),p)}))})}activateVault(){return L(this,void 0,void 0,function*(){return yield this.callAPI(e5,p=>L(this,void 0,void 0,function*(){return yield p.activateVault((yield this.getAccessToken()))}))})}deactivateVault(){return L(this,void 0,void 0,function*(){return yield this.callAPI(e5,p=>L(this,void 0,void 0,function*(){return yield p.deactivateVault((yield this.getAccessToken()))}))})}getBackupPricingPlanList(){return L(this,void 0,void 0,function*(){return yield this.callAPI(e5,p=>L(this,void 0,void 0,function*(){return yield p.getBackupPricePlans((yield this.getAccessToken()),"backup")}))})}getBackupPricingPlan(p){return L(this,void 0,void 0,function*(){Xi(!!p,"Invalid plan name.");let g=yield this.callAPI(e5,g=>L(this,void 0,void 0,function*(){return yield g.getBackupPricePlans((yield this.getAccessToken()),"backup",p)}));return g?g[0]:null})}getBackupInfo(){return L(this,void 0,void 0,function*(){return yield this.callAPI(e5,p=>L(this,void 0,void 0,function*(){return yield p.getBackupInfo((yield this.getAccessToken()))}))})}subscribeToBackup(){return L(this,void 0,void 0,function*(){return yield this.callAPI(e5,p=>L(this,void 0,void 0,function*(){return yield p.subscribeToBackup((yield this.getAccessToken()))}))})}unsubscribeBackup(){return L(this,void 0,void 0,function*(){return yield this.callAPI(e5,p=>L(this,void 0,void 0,function*(){return yield p.unsubscribeBackup((yield this.getAccessToken()))}))})}activateBackup(){return L(this,void 0,void 0,function*(){return yield this.callAPI(e5,p=>L(this,void 0,void 0,function*(){return yield p.activateBackup((yield this.getAccessToken()))}))})}deactivateBackup(){return L(this,void 0,void 0,function*(){return yield this.callAPI(e5,p=>L(this,void 0,void 0,function*(){return yield p.deactivateBackup((yield this.getAccessToken()))}))})}};let Jr=class Jr extends Zi{constructor(p,g){super(p,g),this.paymentService=new Kr(this),this.subscriptionService=new qr(this)}getPricingPlanList(){return L(this,void 0,void 0,function*(){return yield this.subscriptionService.getBackupPricingPlanList()})}getPricingPlan(p){return L(this,void 0,void 0,function*(){return yield this.subscriptionService.getBackupPricingPlan(p)})}subscribe(){return L(this,void 0,void 0,function*(){return yield this.subscriptionService.subscribeToBackup()})}checkSubscription(){return L(this,void 0,void 0,function*(){return yield this.subscriptionService.getBackupInfo()})}unsubscribe(){return L(this,void 0,void 0,function*(){return yield this.subscriptionService.unsubscribeBackup()})}placeOrder(p){return L(this,void 0,void 0,function*(){return yield this.paymentService.placeOrder("backup",p)})}getOrder(p){return L(this,void 0,void 0,function*(){return yield this.paymentService.getOrder("backup",p)})}settleOrder(p){return L(this,void 0,void 0,function*(){return yield this.paymentService.settleOrder(p)})}getOrders(){return L(this,void 0,void 0,function*(){return yield this.paymentService.getOrders("backup")})}getReceipts(p){return L(this,void 0,void 0,function*(){return yield this.paymentService.getReceipts(p)})}getVersion(){return L(this,void 0,void 0,function*(){return yield this.paymentService.getVersion()})}};let Yr=class Yr{constructor(p){this.ipfsGatewayUrl=p||"https://ipfs.trinity-tech.io",this.https=this.ipfsGatewayUrl.startsWith("https://")?T||(T=y.t(ei,2)):E||(E=y.t(ee,2))}getFile(p){return new Promise(g=>{let y=[];this.https.get(`${this.ipfsGatewayUrl}/ipfs/${p}`,function(p){p.on("data",p=>y.push(p)).on("end",()=>{g(eo.concat(y))})})})}};let e7=class extends x.BaseService{promoteToVault(p){return L(this,void 0,void 0,function*(){throw new Q})}};U([(0,x.POST)("/backup/promotion"),B(0,(0,x.Header)("Authorization")),F("design:type",Function),F("design:paramtypes",[String]),F("design:returntype",Promise)],e7.prototype,"promoteToVault",null),e7=U([(0,x.BasePath)("/api/v2")],e7);let Wr=class Wr extends Ct{constructor(p){super(p)}promote(){return L(this,void 0,void 0,function*(){yield this.callAPI(e7,p=>L(this,void 0,void 0,function*(){return yield p.promoteToVault((yield this.getAccessToken()))}))})}};let Zr=class Zr extends Zi{constructor(p,g){if(super(p,g),!p)throw new ct("Invalid parameter context");this.scriptService=new _r(this)}callScript(p,g,y,m){return L(this,void 0,void 0,function*(){return yield this.scriptService.callScript(p,g,y,m)})}callScriptUrl(p,g,y,m){return L(this,void 0,void 0,function*(){return yield this.scriptService.callScriptUrl(p,g,y,m)})}uploadFile(p,g,y=new or){return L(this,void 0,void 0,function*(){return yield this.scriptService.uploadFile(p,g,y)})}downloadFile(p,g=new or){return L(this,void 0,void 0,function*(){return yield this.scriptService.downloadFile(p,g)})}downloadFileByHiveUrl(p){return L(this,void 0,void 0,function*(){return yield this.scriptService.downloadFileByHiveUrl(p)})}};let Xr=class Xr extends Zi{constructor(p){if(super(null,p),!p)throw new ct("Invalid parameter context");this.scriptService=new _r(this)}callScript(p,g,y,m){return L(this,void 0,void 0,function*(){return yield this.scriptService.callScript(p,g,y,m)})}callScriptUrl(p,g,y,m){return L(this,void 0,void 0,function*(){return yield this.scriptService.callScriptUrl(p,g,y,m)})}uploadFile(p,g,y=new or){return L(this,void 0,void 0,function*(){return yield this.scriptService.uploadFile(p,g,y)})}downloadFile(p,g=new or){return L(this,void 0,void 0,function*(){return yield this.scriptService.downloadFile(p,g)})}downloadAnonymousFile(p,g,y){return L(this,void 0,void 0,function*(){let m=yield this.scriptService.callScript("__anonymous_files__",{path:y},p,g);return yield this.scriptService.downloadFile(Object.values(m)[0].transaction_id)})}};let tn=class tn{constructor(p,g,y){if(this.name=p,this.type=g,this.body=y,!this.name)throw new ct("Invalid name")}getName(){return this.name}getType(){return this.type}getBody(){return this.body}};let en=class en extends tn{constructor(p,g,y){super(p,g,y)}};let rn=class rn extends en{constructor(p,g,y){super(p,g,y||[])}appendCondition(p){if(!p)throw new ct("Invalid condition");return p instanceof rn?p.getBody()&&super.getBody().push(...p.getBody()):super.getBody().push(p),this}};rn.AND="and",rn.OR="or";let nn=class nn extends rn{constructor(p,g){super(p,rn.OR,g)}};let sn=class sn extends rn{constructor(p,g){super(p,rn.AND,g)}};let on=class on{};on.AGGREGATED="aggregated",on.FIND="find",on.COUNT="count",on.INSERT="insert",on.UPDATE="update",on.DELETE="delete",on.FILE_UPLOAD="fileUpload",on.FILE_DOWNLOAD="fileDownload",on.FILE_PROPERTIES="fileProperties",on.FILE_HASH="fileHash";let an=class an extends tn{constructor(p,g,y){super(p,g,y),this.output=!0}setOutput(p){return this.output=p,this}isOutput(){return this.output}static createRunFileParams(p){return{path:p}}};let cn=class cn{constructor(p){if(this.collection=p,!this.collection)throw new ct("Invalid collection")}getCollection(){return this.collection}};let un=class un{constructor(p){this.path=p||"$params.path"}};let dn=class dn extends Zi{constructor(p,g){super(p,g),this.paymentService=new Kr(this),this.subscriptionService=new qr(this)}getPricingPlanList(){return L(this,void 0,void 0,function*(){return yield this.subscriptionService.getVaultPricingPlanList()})}getPricingPlan(p){return L(this,void 0,void 0,function*(){return yield this.subscriptionService.getVaultPricingPlan(p)})}subscribe(){return L(this,void 0,void 0,function*(){return yield this.subscriptionService.subscribeToVault()})}activate(){return L(this,void 0,void 0,function*(){return yield this.subscriptionService.activateVault()})}deactivate(){return L(this,void 0,void 0,function*(){return yield this.subscriptionService.deactivateVault()})}checkSubscription(){return L(this,void 0,void 0,function*(){return yield this.subscriptionService.getVaultInfo()})}unsubscribe(p=!1){return L(this,void 0,void 0,function*(){return yield this.subscriptionService.unsubscribeVault(p)})}placeOrder(p){return L(this,void 0,void 0,function*(){return yield this.paymentService.placeOrder("vault",p)})}getOrder(p){return L(this,void 0,void 0,function*(){return yield this.paymentService.getOrder("vault",p)})}settleOrder(p){return L(this,void 0,void 0,function*(){return yield this.paymentService.settleOrder(p)})}getOrders(){return L(this,void 0,void 0,function*(){return yield this.paymentService.getOrders("vault")})}getReceipts(p){return L(this,void 0,void 0,function*(){return yield this.paymentService.getReceipts(p)})}getVersion(){return L(this,void 0,void 0,function*(){return yield this.paymentService.getVersion()})}};let hn=class hn{constructor(p,g,y){this.skip=p,this.limit=g,this.maxTimeMS=y}getSkip(){return this.skip}getLimit(){return this.limit}getMaxTimeMS(){return this.maxTimeMS}};let ln=class ln{constructor(p,g,y){this.collection=p,this.filter=g,this.options=y}getCollection(){return this.collection}getFilter(){return this.filter}getOptions(){return this.options}};let pn=class pn extends en{constructor(p,g,y,m){super(p,pn.TYPE,new ln(g,y,m))}};pn.TYPE="queryHasResults";let gn=class gn extends cn{constructor(p,g){if(super(p),this.filter=g,!this.filter)throw new ct("Invalid filter")}getFilter(){return this.filter}};let yn=class yn extends an{constructor(p,g,y){super(p,on.DELETE,new gn(g,y))}};let fn=class fn extends cn{constructor(p,g,y){if(super(p),this.filter=g,this.options=y,!this.filter)throw new ct("Invalid filter")}getFilter(){return this.filter}getOptions(){return this.options}};let vn=class vn extends an{constructor(p,g,y,m){super(p,on.FIND,new fn(g,y,m))}};let _n=class _n extends cn{constructor(p,g,y){if(super(p),this.filter=g,this.options=y,!this.filter)throw new ct("Invalid filter")}getFilter(){return this.filter}getOptions(){return this.options}};let mn=class mn extends an{constructor(p,g,y,m){super(p,on.COUNT,new _n(g,y,m))}};let wn=class wn extends cn{constructor(p,g,y){if(super(p),this.document=g,this.options=y,!this.document)throw new ct("Invalid document")}getDocument(){return this.document}getOptions(){return this.options}};let Sn=class Sn extends an{constructor(p,g,y,m){super(p,on.INSERT,new wn(g,y,m))}};let An=class An extends an{constructor(p){super(p,on.FILE_HASH,new un)}};let bn=class bn extends an{constructor(p,g){super(p,on.AGGREGATED,g||[])}appendExecutable(p){if(!p)throw new ct("Invalid executable");return p instanceof bn?p.getBody()&&super.getBody().push(...p.getBody()):super.getBody().push(p),this}};let In=class In extends an{constructor(p){super(p,on.FILE_UPLOAD,new un)}};let Dn=class Dn extends an{constructor(p,g){super(p,on.FILE_DOWNLOAD,new un(g))}};let Pn=class Pn extends an{constructor(p){super(p,on.FILE_PROPERTIES,new un)}};let On=class On extends cn{constructor(p,g,y,m){if(super(p),this.filter=g,this.update=y,this.options=m,!this.filter)throw new ct("Invalid filter");if(!this.update)throw new ct("Invalid update")}getFilter(){return this.filter}getUpdate(){return this.update}getOptions(){return this.options}};let En=class En extends an{constructor(p,g,y,m,v){super(p,on.UPDATE,new On(g,y,m,v))}};let Tn=class Tn{constructor(){this.timestamp=!0}setBypassDocumentValidation(p){return this.bypass_document_validation=p,this}setOrdered(p){return this.ordered=p,this}setTimestamp(p){return this.timestamp=p,this}isBypassDocumentValidation(){return this.bypass_document_validation}isOrdered(){return this.ordered}isTimestamp(){return this.timestamp}};let xn=class xn{setSkip(p){return this.skip=p,this}setLimit(p){return this.limit=p,this}getSkip(){return this.skip}getLimit(){return this.limit}};let kn=class kn{constructor(){this.timestamp=!0}setUpsert(p){return this.upsert=p,this}setBypassDocumentValidation(p){return this.bypass_document_validation=p,this}setTimestamp(p){return this.timestamp=p,this}isUpsert(){return this.bypass_document_validation}isBypassDocumentValidation(){return this.bypass_document_validation}isTimestamp(){return this.timestamp}};let Cn=class Cn extends xn{setProjection(p){return this.projection=p,this}setSort(p){return this.sort=p?p.map(p=>[p.getKey(),p.getOrder()]):void 0,this}setAllowPartialResults(p){return this.allow_partial_results=p,this}setReturnKey(p){return this.return_key=p,this}setShowRecordId(p){return this.show_record_id=p,this}setBatchSize(p){return this.batch_size=p,this}getProjection(){return this.projection}getSort(){return this.sort}isAllowPartialResults(){return this.allow_partial_results}isReturnKey(){return this.return_key}isShowRecordId(){return this.show_record_id}getBatchSize(){return this.batch_size}};let Rn=class Rn{setSkip(p){return this.skip=p,this}setLimit(p){return this.limit=p,this}setMaxTimeMS(p){return this.maxTimeMS=p,this}getSkip(){return this.skip}getLimit(){return this.limit}getMaxTimeMS(){return this.maxTimeMS}};let Nn=class Nn{constructor(p,g){this.key=p,this.order=g}getKey(){return this.key}getOrder(){return this.order}};Nn.ASCENDING=1,Nn.DESCENDING=-1;let Un=class Un extends Nn{constructor(p){super(p,Nn.ASCENDING)}};let Bn=class Bn extends Nn{constructor(p){super(p,Nn.DESCENDING)}};let Fn=class Fn{};let Ln=class Ln{constructor(p){this.contextParameters=p}static create(p){return L(this,void 0,void 0,function*(){let g=new Ln(p);return yield g.init(),g})}init(){return L(this,void 0,void 0,function*(){this.appRootId=yield this.initPrivateIdentity(this.contextParameters.appMnemonics,this.contextParameters.appDID,this.contextParameters.appStorePass),Ln.LOG.debug("Init app private identity"),this.userRootId=yield this.initPrivateIdentity(this.contextParameters.userMnemonics,this.contextParameters.userDID,this.contextParameters.userStorePass),Ln.LOG.debug("Init user private identity"),yield this.initDid(this.appRootId),yield this.initDid(this.userRootId),this.appDID=yield this.store.loadDid(this.contextParameters.appDID)})}initPrivateIdentity(p,g,y){return L(this,void 0,void 0,function*(){this.store=yield A.DIDStore.open(this.contextParameters.storePath),Ln.LOG.debug("Opens store");let g,m=A.RootIdentity.getIdFromMnemonic(p,this.contextParameters.appPhrasePass);if(Ln.LOG.debug("ID from mnemonic {} : {}",p,m),yield this.store.containsRootIdentity(m))return Ln.LOG.debug("Store constains RootIdentity"),yield this.store.loadRootIdentity(m);try{Ln.LOG.info("Creating root identity for mnemonic {}",p),g=yield A.RootIdentity.createFromMnemonic(p,this.contextParameters.appPhrasePass,this.store,y)}catch(g){throw Ln.LOG.error("Error Creating root identity for mnemonic {}. Error {}",p,JSON.stringify(g)),new st("Error Creating root identity for mnemonic",g)}return yield g.synchronize(),g.setDefaultDid(this.contextParameters.appDID),g})}initDid(p){return L(this,void 0,void 0,function*(){let g=yield this.store.listDids();if(g.length>0)return void(this.contextParameters.appDID=g[0]);Ln.LOG.debug("Init app did");let y=yield p.getDefaultDid(),m=yield y.resolve();yield this.store.storeDid(m),Ln.LOG.debug("Resolve app doc")})}getLocalDataDir(){return this.contextParameters.storePath}getAppInstanceDocument(){return this.appDID}getAuthorization(p){return L(this,void 0,void 0,function*(){try{let g=(yield(new A.JWTParserBuilder).setAllowedClockSkewSeconds(300).build().parse(p)).getBody();if(null==g)throw new j("Invalid jwt token as authorization.");Ln.LOG.debug("getAuthorization createPresentation");let y=yield this.issueDiplomaFor(A.DID.from(this.contextParameters.appDID));Ln.LOG.debug("diploma created");let m=yield this.createPresentation(y,g.getIssuer(),g.get("nonce"));return yield this.createToken(m,g.getIssuer())}catch(p){Ln.LOG.error("{} stack {}",p,p.stack)}})}getIssuer(){return L(this,void 0,void 0,function*(){Ln.LOG.debug("getIssuer");let p=yield this.store.loadDid(this.contextParameters.userDID);Ln.LOG.debug("userDocument: {}",p.toString(!0));try{return yield A.Issuer.create(p)}catch(p){return Ln.LOG.debug("error new Issuer {}",p),null}})}issueDiplomaFor(p){return L(this,void 0,void 0,function*(){Ln.LOG.debug("issueDiplomaFor");let g={};g.appDid=p.toString(),g.appInstanceDid=p.toString();let y=es();y=y.add(5,"year");let m=(yield this.getIssuer()).issueFor(p),v=yield m.id(A.DIDURL.from("#app-id-credential",p)).type("AppIdCredential").properties(g).expirationDate(y.toDate()).seal(this.getUserStorePassword());return Ln.LOG.debug("VerifiableCredential IsValid: {}",v.isValid()),v})}createPresentation(p,g,y){return L(this,void 0,void 0,function*(){Ln.LOG.debug("create Presentation");let m=yield A.VerifiablePresentation.createFor(this.getAppDid(),null,this.getDIDStore()),v=yield m.credentials(p).realm(g).nonce(y).seal(this.getAppStorePassword());return Ln.LOG.debug("VerifiablePresentation:{}",v.toString()),v})}getAppStorePassword(){return this.contextParameters.appStorePass}getUserStorePassword(){return this.contextParameters.userStorePass}getAppDocument(){return L(this,void 0,void 0,function*(){return yield this.store.loadDid(this.contextParameters.appDID)})}createToken(p,g){return L(this,void 0,void 0,function*(){let y=es(),m=y.unix(),v=y.unix(),_=y.add(3,"month").unix(),b=yield this.getAppDocument();return yield b.jwtBuilder().addHeader(A.JWTHeader.TYPE,A.JWTHeader.JWT_TYPE).addHeader("version","1.0").setSubject("DIDAuthResponse").setAudience(g).setIssuedAt(m).setExpiration(_).setNotBefore(v).claimsWithJson("presentation",p.toString(!0)).sign(this.contextParameters.appStorePass)})}getDIDStore(){return this.store}getAppDid(){return A.DID.from(this.contextParameters.appDID)}};Ln.LOG=new G("DefaultAppContextProvider");let Mn=class Mn{constructor(p,g){this.targetServiceDid=p,this.targetProviderAddress=g}getAuthorization(p,g,y){return Promise.resolve("")}getType(){return null}getParameter(p){switch(p){case"targetAddress":return this.targetProviderAddress;case"targetServiceDid":return this.targetServiceDid}return null}};let zn=class zn extends Zi{constructor(p,g){super(p,g),this.promotionService=new Wr(this)}getPromotionService(){return this.promotionService}};let Gn=class Gn{setPricingName(p){return this.pricing_using=p,this}setMaxStorage(p){return this.max_storage=p,this}setUseStorage(p){return this.use_storage=p,this}setUserDid(p){return this.user_did=p,this}getPricingName(){return this.pricing_using}getMaxStorage(){return this.max_storage}getUseStorage(){return this.use_storage}getUserDid(){return this.user_did}};let jn=class jn{setOrderId(p){return this.order_id=p,this}setReceiptId(p){return this.receipt_id=p,this}setUserDid(p){return this.user_did=p,this}setSubscription(p){return this.subscription=p,this}setPricingName(p){return this.pricing_name=p,this}setElaAmount(p){return this.ela_amount=p,this}setElaAddress(p){return this.ela_address=p,this}setPaidDid(p){return this.paid_did=p,this}getOrderId(){return this.order_id}getReceiptId(){return this.receipt_id}getUserDid(){return this.user_did}getSubscription(){return this.subscription}getPricingName(){return this.pricing_name}getElaAmount(){return this.ela_amount}getElaAddress(){return this.ela_address}getPaidDid(){return this.paid_did}};let Vn=class Vn{setPricingName(p){return this.pricing_using=p,this}setMaxStorage(p){return this.max_storage=p,this}setFileUseStorage(p){return this.file_use_storage=p,this}setDatabaseUseStorage(p){return this.db_use_storage=p,this}setUserDid(p){return this.user_did=p,this}getPricingName(){return this.pricing_using}getMaxStorage(){return this.max_storage}getFileUseStorage(){return this.file_use_storage}getDatabaseUseStorage(){return this.db_use_storage}getUserDid(){return this.user_did}};let e9=class extends x.BaseService{getVaults(p){return L(this,void 0,void 0,function*(){throw new Q})}getBackups(p){return L(this,void 0,void 0,function*(){throw new Q})}getFilledOrders(p){return L(this,void 0,void 0,function*(){throw new Q})}};U([(0,x.GET)("/provider/vaults"),(0,x.ResponseTransformer)((p,g)=>kt.handleResponseData(p,p=>p.vaults.map(p=>(new Vn).setPricingName(p.pricing_using).setMaxStorage(p.max_storage).setFileUseStorage(p.file_use_storage).setDatabaseUseStorage(p.db_use_storage).setUserDid(p.user_did)))),B(0,(0,x.Header)("Authorization")),F("design:type",Function),F("design:paramtypes",[String]),F("design:returntype",Promise)],e9.prototype,"getVaults",null),U([(0,x.GET)("/provider/backups"),(0,x.ResponseTransformer)((p,g)=>kt.handleResponseData(p,p=>p.backups.map(p=>(new Gn).setPricingName(p.pricing_using).setMaxStorage(p.max_storage).setUseStorage(p.use_storage).setUserDid(p.user_did)))),B(0,(0,x.Header)("Authorization")),F("design:type",Function),F("design:paramtypes",[String]),F("design:returntype",Promise)],e9.prototype,"getBackups",null),U([(0,x.GET)("/provider/filled_orders"),(0,x.ResponseTransformer)((p,g)=>kt.handleResponseData(p,p=>p.orders.map(p=>(new jn).setOrderId(p.order_id).setReceiptId(p.receipt_id).setUserDid(p.user_did).setSubscription(p.subscription).setPricingName(p.pricing_name).setElaAmount(p.ela_amount).setElaAddress(p.ela_address).setPaidDid(p.paid_did)))),B(0,(0,x.Header)("Authorization")),F("design:type",Function),F("design:paramtypes",[String]),F("design:returntype",Promise)],e9.prototype,"getFilledOrders",null),e9=U([(0,x.BasePath)("/api/v2")],e9);let $n=class $n extends Zi{constructor(p,g){super(p,g),this.restService=new Ct(this)}getVaults(){return L(this,void 0,void 0,function*(){return yield this.restService.callAPI(e9,p=>L(this,void 0,void 0,function*(){return yield p.getVaults((yield this.restService.getAccessToken()))}))})}getBackups(){return L(this,void 0,void 0,function*(){return yield this.restService.callAPI(e9,p=>L(this,void 0,void 0,function*(){return yield p.getBackups((yield this.restService.getAccessToken()))}))})}getFilledOrders(){return L(this,void 0,void 0,function*(){return yield this.restService.callAPI(e9,p=>L(this,void 0,void 0,function*(){return yield p.getFilledOrders((yield this.restService.getAccessToken()))}))})}};G.setDefaultLevel(G.DEBUG)},71359:function(p){"use strict";p.exports=JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')}}]);