(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[713],{34706:function(e,t,r){Promise.resolve().then(r.bind(r,92525))},92525:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return ec}});var i,n=r(57437),l=r(451),a=r(43226),s=r(2265),o=r(53932),d=r(7045);function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}var u=function(e){return s.createElement("svg",c({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36 36"},e),i||(i=s.createElement("g",{"data-name":"Component 942 \\u2013 1"},s.createElement("path",{fill:"currentColor",d:"M18 36a18 18 0 0 1-7.007-34.586 18 18 0 0 1 14.013 33.171A17.887 17.887 0 0 1 18 36zm-1.427-10.948v3.084h3.854v-3.084zM15.8 8.865l1.117 13.875h3.139L21.2 8.865h-5.4z","data-name":"Subtraction 2"}))))},x=r(20484),p=r(42937),h=r(96507),f=r(13457),m=r(3283),g=r(20791),v=r(13428),b=r(57042),y=r(65425),j=r(43381),Z=r(95600),w=r(35843),k=r(87927),S=r(41101);let $=s.createContext();var C=r(26520),I=r(25702);function E(e){return(0,I.Z)("MuiGrid",e)}let N=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],P=(0,C.Z)("MuiGrid",["root","container","item","zeroMinWidth",...[0,1,2,3,4,5,6,7,8,9,10].map(e=>`spacing-xs-${e}`),...["column-reverse","column","row-reverse","row"].map(e=>`direction-xs-${e}`),...["nowrap","wrap-reverse","wrap"].map(e=>`wrap-xs-${e}`),...N.map(e=>`grid-xs-${e}`),...N.map(e=>`grid-sm-${e}`),...N.map(e=>`grid-md-${e}`),...N.map(e=>`grid-lg-${e}`),...N.map(e=>`grid-xl-${e}`)]),M=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function T(e){let t=parseFloat(e);return`${t}${String(e).replace(String(t),"")||"px"}`}function z({breakpoints:e,values:t}){let r="";Object.keys(t).forEach(e=>{""===r&&0!==t[e]&&(r=e)});let i=Object.keys(e).sort((t,r)=>e[t]-e[r]);return i.slice(0,i.indexOf(r))}let D=(0,w.ZP)("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e,{container:i,direction:n,item:l,spacing:a,wrap:s,zeroMinWidth:o,breakpoints:d}=r,c=[];i&&(c=function(e,t,r={}){if(!e||e<=0)return[];if("string"==typeof e&&!Number.isNaN(Number(e))||"number"==typeof e)return[r[`spacing-xs-${String(e)}`]];let i=[];return t.forEach(t=>{let n=e[t];Number(n)>0&&i.push(r[`spacing-${t}-${String(n)}`])}),i}(a,d,t));let u=[];return d.forEach(e=>{let i=r[e];i&&u.push(t[`grid-${e}-${String(i)}`])}),[t.root,i&&t.container,l&&t.item,o&&t.zeroMinWidth,...c,"row"!==n&&t[`direction-xs-${String(n)}`],"wrap"!==s&&t[`wrap-xs-${String(s)}`],...u]}})(({ownerState:e})=>(0,v.Z)({boxSizing:"border-box"},e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},e.item&&{margin:0},e.zeroMinWidth&&{minWidth:0},"wrap"!==e.wrap&&{flexWrap:e.wrap}),function({theme:e,ownerState:t}){let r=(0,y.P$)({values:t.direction,breakpoints:e.breakpoints.values});return(0,y.k9)({theme:e},r,e=>{let t={flexDirection:e};return 0===e.indexOf("column")&&(t[`& > .${P.item}`]={maxWidth:"none"}),t})},function({theme:e,ownerState:t}){let{container:r,rowSpacing:i}=t,n={};if(r&&0!==i){let t;let r=(0,y.P$)({values:i,breakpoints:e.breakpoints.values});"object"==typeof r&&(t=z({breakpoints:e.breakpoints.values,values:r})),n=(0,y.k9)({theme:e},r,(r,i)=>{var n;let l=e.spacing(r);return"0px"!==l?{marginTop:`-${T(l)}`,[`& > .${P.item}`]:{paddingTop:T(l)}}:null!=(n=t)&&n.includes(i)?{}:{marginTop:0,[`& > .${P.item}`]:{paddingTop:0}}})}return n},function({theme:e,ownerState:t}){let{container:r,columnSpacing:i}=t,n={};if(r&&0!==i){let t;let r=(0,y.P$)({values:i,breakpoints:e.breakpoints.values});"object"==typeof r&&(t=z({breakpoints:e.breakpoints.values,values:r})),n=(0,y.k9)({theme:e},r,(r,i)=>{var n;let l=e.spacing(r);return"0px"!==l?{width:`calc(100% + ${T(l)})`,marginLeft:`-${T(l)}`,[`& > .${P.item}`]:{paddingLeft:T(l)}}:null!=(n=t)&&n.includes(i)?{}:{width:"100%",marginLeft:0,[`& > .${P.item}`]:{paddingLeft:0}}})}return n},function({theme:e,ownerState:t}){let r;return e.breakpoints.keys.reduce((i,n)=>{let l={};if(t[n]&&(r=t[n]),!r)return i;if(!0===r)l={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===r)l={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{let a=(0,y.P$)({values:t.columns,breakpoints:e.breakpoints.values}),s="object"==typeof a?a[n]:a;if(null==s)return i;let o=`${Math.round(r/s*1e8)/1e6}%`,d={};if(t.container&&t.item&&0!==t.columnSpacing){let r=e.spacing(t.columnSpacing);if("0px"!==r){let e=`calc(${o} + ${T(r)})`;d={flexBasis:e,maxWidth:e}}}l=(0,v.Z)({flexBasis:o,flexGrow:0,maxWidth:o},d)}return 0===e.breakpoints.values[n]?Object.assign(i,l):i[e.breakpoints.up(n)]=l,i},{})}),W=e=>{let{classes:t,container:r,direction:i,item:n,spacing:l,wrap:a,zeroMinWidth:s,breakpoints:o}=e,d=[];r&&(d=function(e,t){if(!e||e<=0)return[];if("string"==typeof e&&!Number.isNaN(Number(e))||"number"==typeof e)return[`spacing-xs-${String(e)}`];let r=[];return t.forEach(t=>{let i=e[t];if(Number(i)>0){let e=`spacing-${t}-${String(i)}`;r.push(e)}}),r}(l,o));let c=[];o.forEach(t=>{let r=e[t];r&&c.push(`grid-${t}-${String(r)}`)});let u={root:["root",r&&"container",n&&"item",s&&"zeroMinWidth",...d,"row"!==i&&`direction-xs-${String(i)}`,"wrap"!==a&&`wrap-xs-${String(a)}`,...c]};return(0,Z.Z)(u,E,t)},O=s.forwardRef(function(e,t){let r=(0,k.Z)({props:e,name:"MuiGrid"}),{breakpoints:i}=(0,S.Z)(),l=(0,j.Z)(r),{className:a,columns:o,columnSpacing:d,component:c="div",container:u=!1,direction:x="row",item:p=!1,rowSpacing:h,spacing:f=0,wrap:m="wrap",zeroMinWidth:y=!1}=l,Z=(0,g.Z)(l,M),w=h||f,C=d||f,I=s.useContext($),E=u?o||12:I,N={},P=(0,v.Z)({},Z);i.keys.forEach(e=>{null!=Z[e]&&(N[e]=Z[e],delete P[e])});let T=(0,v.Z)({},l,{columns:E,container:u,direction:x,item:p,rowSpacing:w,columnSpacing:C,wrap:m,zeroMinWidth:y,spacing:f},N,{breakpoints:i.keys}),z=W(T);return(0,n.jsx)($.Provider,{value:E,children:(0,n.jsx)(D,(0,v.Z)({ownerState:T,className:(0,b.Z)(z.root,a),as:c,ref:t},P))})});var B=r(72502),F=r(78342),V=r(77820);let R=["className"],L=e=>{let{alignItems:t,classes:r}=e;return(0,Z.Z)({root:["root","flex-start"===t&&"alignItemsFlexStart"]},F.f,r)},G=(0,w.ZP)("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,"flex-start"===r.alignItems&&t.alignItemsFlexStart]}})(({theme:e,ownerState:t})=>(0,v.Z)({minWidth:56,color:(e.vars||e).palette.action.active,flexShrink:0,display:"inline-flex"},"flex-start"===t.alignItems&&{marginTop:8})),A=s.forwardRef(function(e,t){let r=(0,k.Z)({props:e,name:"MuiListItemIcon"}),{className:i}=r,l=(0,g.Z)(r,R),a=s.useContext(V.Z),o=(0,v.Z)({},r,{alignItems:a.alignItems}),d=L(o);return(0,n.jsx)(G,(0,v.Z)({className:(0,b.Z)(d.root,i),ownerState:o,ref:t},l))});var _=r(16691),q=r.n(_),U=r(46940),H=r(12854),J=r(5676),K=r(4856),Q=r(52653),X=r(74309),Y=r(59500),ee=r(96556),et=r(59606),er=r(3883),ei=e=>{let{credential:t}=e,[r,i]=(0,s.useState)(null),[a]=(0,l.V)(o.B),d=null==a?void 0:a.get("profile"),[c,u]=(0,s.useState)(!1),[x,p]=(0,s.useState)(!1),[h,f]=(0,s.useState)(null),[m,g]=(0,s.useState)(null),[v,b]=(0,s.useState)(H.b1.EDIT),{showSuccessToast:y,showErrorToast:j}=(0,ee.p)(),Z="IdentityMenu",w=t instanceof J.E,k=()=>{i(null)},S=async e=>{if(u(!1),!e)return;let r=!1;try{r=await d.deleteProfileCredential(t.verifiableCredential.getId().toString())}catch(e){er.k.error(Z,"Delete credential error: ",e)}r?y("Entry has been deleted!"):j("Failed to delete the entry...")},$=async e=>{if(p(!1),e&&e.value&&e.type==H.b1.EDIT&&e.originCredential){let t=!1;try{t=await d.updateProfileCredential(e.originCredential,e.value).catch()}catch(e){er.k.error(Z,"Update credential error: ",e)}t?y("Entry has been updated!"):j("Failed to update the entry...")}};return(0,n.jsxs)("div",{children:[(0,n.jsx)(Q.Z,{onClick:e=>{i(e.currentTarget)},children:(0,n.jsx)(K.Z,{})}),(0,n.jsxs)(Y.ZP,{anchorEl:r,open:!!r,onClose:k,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{sx:{p:1,width:140,"& .MuiMenuItem-root":{px:1,typography:"body2",borderRadius:.75}}},children:[w&&(0,n.jsx)(X.Z,{onClick:()=>{k(),p(!0);let e=(0,et.m7)(t.verifiableCredential.getType());f(e);let r=t.verifiableCredential.getSubject().getProperty(e.key);g(r),b(v)},children:" Edit "}),(0,n.jsx)(X.Z,{sx:{color:"error.main"},onClick:()=>{u(!0),k()},children:" Delete "})]}),(0,n.jsx)(U.Z,{title:"Delete this Credential?",content:"Do you want to delete this Credential?",open:c,onClose:S}),(0,n.jsx)(H.ZP,{credentialInfo:h,defaultValue:m,type:v,open:x,originCredential:t,onClose:$})]})};let en=e=>{let{selectedCredential:t}=e,[r]=(0,l.V)(null==t?void 0:t.issuerInfo$),i=(0,p.s)(),[s]=(0,l.V)(null==t?void 0:t.isConform$);return(0,n.jsxs)("div",{className:"col-span-full xl:col-span-7 bg-white dark:bg-slate-800 shadow-lg rounded-sm border border-slate-200 dark:border-slate-700",children:[(!t||!i)&&(0,n.jsx)(x.q,{}),i&&t&&(0,n.jsxs)(h.Z,{sx:{px:2.5,pb:3},children:[(0,n.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"24px"},children:(0,n.jsx)(ei,{credential:t})}),(0,n.jsxs)(f.Z,{alignItems:"center",spacing:3,sx:{pt:5,borderRadius:2,position:"relative"},children:[(0,n.jsx)(m.Z,{sx:{ml:2,width:120,height:120},children:(0,n.jsx)(d.Z,{width:80})}),(0,n.jsxs)(h.Z,{sx:{textAlign:"left",width:"80%"},children:[(0,n.jsx)(a.Z,{gutterBottom:!0,variant:"h6",children:t.getDisplayableTitle()}),(0,n.jsx)(a.Z,{variant:"body1",sx:{color:"text.secondary"},children:t.getDisplayValue()}),(0,n.jsxs)(O,{container:!0,spacing:2,sx:{mt:1},children:[(0,n.jsx)(O,{item:!0,xs:6,children:(0,n.jsx)(a.Z,{variant:"body1",sx:{color:"text.secondary"},children:"Issuance date:"})}),(0,n.jsx)(O,{item:!0,xs:6,children:(0,n.jsx)(a.Z,{variant:"body1",sx:{color:"text.secondary"},children:t.verifiableCredential.issuanceDate.toLocaleDateString()})}),(0,n.jsx)(O,{item:!0,xs:6,children:(0,n.jsx)(a.Z,{variant:"body1",sx:{color:"text.secondary"},children:"Expiration date:"})}),(0,n.jsx)(O,{item:!0,xs:6,children:(0,n.jsx)(a.Z,{variant:"body1",sx:{color:"text.secondary"},children:t.verifiableCredential.expirationDate.toLocaleDateString()})}),t.isSensitiveCredential()&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(O,{item:!0,xs:6,children:(0,n.jsx)(a.Z,{fontSize:14,color:"#FF6347",gutterBottom:!0,children:"Sensitive"})})}),!t.selfIssued()&&(null==r?void 0:r.isPublished)&&(0,n.jsxs)(B.Z,{children:[(0,n.jsx)(A,{children:(0,n.jsx)(q(),{unoptimized:!0,src:null==r?void 0:r.avatarIcon,width:30,height:30,style:{borderRadius:"50%"},alt:"avatar"})}),(0,n.jsxs)(a.Z,{variant:"body1",sx:{color:"text.secondary"},children:["Created by ",null==r?void 0:r.name]})]}),(0,n.jsxs)(B.Z,{children:[(0,n.jsx)(A,{children:(0,n.jsx)(u,{width:30})}),s&&(0,n.jsx)(a.Z,{variant:"body1",sx:{color:"text.secondary"},children:"This credential is conform to a known type that can be shared by any application."}),!s&&(0,n.jsx)(a.Z,{variant:"body1",sx:{color:"text.secondary"},children:"This credential doesn't conform to known credential formats and can hardly be reused by many applications."})]})]})]})]})]})]})};var el=function(e){let{credential:t}=e,[r]=(0,l.V)(null==t?void 0:t.issuerInfo$);return(0,n.jsxs)(h.Z,{sx:{textAlign:"left",width:"100%"},children:[(0,n.jsx)(a.Z,{gutterBottom:!0,variant:"h6",children:t.getDisplayableTitle()}),(0,n.jsx)(a.Z,{variant:"body1",sx:{color:"text.secondary"},children:t.getDisplayValue()}),(0,n.jsxs)(O,{container:!0,spacing:2,sx:{mt:1},children:[t.isSensitiveCredential()&&(0,n.jsx)(a.Z,{fontSize:14,color:"#FF6347",children:"Sensitive"}),!t.selfIssued()&&(null==r?void 0:r.isPublished)&&(0,n.jsxs)(B.Z,{children:[(0,n.jsx)(A,{children:(0,n.jsx)(q(),{unoptimized:!0,src:null==r?void 0:r.avatarIcon,width:30,height:30,style:{borderRadius:"50%"},alt:""})}),(0,n.jsxs)(a.Z,{variant:"body1",sx:{color:"text.secondary"},children:["Created by ",null==r?void 0:r.name]})]})]})]})},ea=r(49599),es=r(54986),eo=r(35266);let ed=e=>{let{onSelected:t}=e,[r]=(0,l.V)(o.B),[i]=(0,l.V)(null==r?void 0:r.get("credentials").credentials$),d=(0,p.s)(),c=null==r?void 0:r.get("profile"),[u]=(0,l.V)(null==c?void 0:c.activeCredential$),f=e=>{c.setActiveCredential(e),t(e)};return(0,s.useEffect)(()=>{if(u)for(let e=0;e<i.length;e++){let r=i[e];u.id==r.id&&t(r)}i&&!u&&c.setActiveCredential(i[0])},[u,i,t,c]),(0,n.jsxs)("div",{className:"col-span-full xl:col-span-5 bg-white dark:bg-slate-800 shadow-lg rounded-sm border border-slate-200 dark:border-slate-700",children:[(0,n.jsx)(a.Z,{ml:2,my:3,variant:"subtitle1",children:"Credentials"}),(0,n.jsx)(es.Z,{}),(0,n.jsxs)(h.Z,{sx:{width:"100%",bgcolor:"background.paper"},children:[(!i||!d)&&(0,n.jsx)(x.q,{}),d&&i&&(0,n.jsx)(eo.Z,{component:"nav","aria-label":"main mailbox folders",children:i.map(e=>(0,n.jsxs)("div",{children:[(0,n.jsxs)(B.Z,{selected:u&&u.id===e.id,onClick:()=>f(e),children:[(0,n.jsx)(A,{children:(0,n.jsx)(ea.Z,{})}),(0,n.jsx)(el,{credential:e})]}),(0,n.jsx)(es.Z,{})]},e.id))})]})]})};var ec=()=>{let[e,t]=(0,s.useState)(null),[r]=(0,l.V)(o.B);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"col-span-full",children:[(0,n.jsx)(a.Z,{ml:2,my:3,variant:"h4",children:"All Credentials"}),(0,n.jsxs)(a.Z,{ml:2,my:3,children:["Below is the list of all your ",(0,n.jsx)("b",{children:"credentials"}),". Credentials are pieces of information about you. This information has been created either by you, or by other applications on your behalf. This full list of credentials contains credentials from your base identity profile, plus everything else."]})]}),(0,n.jsx)(ed,{onSelected:e=>{t(e)}}),(0,n.jsx)(en,{selectedCredential:e})]})}}},function(e){e.O(0,[6990,9787,9443,8218,6110,2361,8920,7679,3412,6953,7695,6540,6432,9855,7125,2971,596,1744],function(){return e(e.s=34706)}),_N_E=e.O()}]);