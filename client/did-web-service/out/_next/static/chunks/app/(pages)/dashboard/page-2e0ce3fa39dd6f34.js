(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2340],{52727:function(e){e.exports=function(e){return null==e}},90913:function(e,t,s){Promise.resolve().then(s.bind(s,46006))},22706:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RouterContext",{enumerable:!0,get:function(){return n}});let l=s(21024),r=l._(s(2265)),n=r.default.createContext(null)},46006:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return S}});var l,r,n=s(57437),i=s(12131),a=s(20484),o=s(451),d=s(42937),c=s(38693),u=s(69990),h=s(24033),x=s(2265);let f=e=>(0,n.jsxs)("div",{className:"relative bg-indigo-200 dark:bg-indigo-500 p-4 sm:p-6 rounded-sm overflow-hidden",children:[(0,n.jsx)("div",{className:"absolute right-0 top-0 -mt-4 mr-16 pointer-events-none hidden xl:block","aria-hidden":"true",children:(0,n.jsxs)("svg",{width:"319",height:"198",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,n.jsxs)("defs",{children:[(0,n.jsx)("path",{id:"welcome-a",d:"M64 0l64 128-64-20-64 20z"}),(0,n.jsx)("path",{id:"welcome-e",d:"M40 0l40 80-40-12.5L0 80z"}),(0,n.jsx)("path",{id:"welcome-g",d:"M40 0l40 80-40-12.5L0 80z"}),(0,n.jsxs)("linearGradient",{x1:"50%",y1:"0%",x2:"50%",y2:"100%",id:"welcome-b",children:[(0,n.jsx)("stop",{stopColor:"#A5B4FC",offset:"0%"}),(0,n.jsx)("stop",{stopColor:"#818CF8",offset:"100%"})]}),(0,n.jsxs)("linearGradient",{x1:"50%",y1:"24.537%",x2:"50%",y2:"100%",id:"welcome-c",children:[(0,n.jsx)("stop",{stopColor:"#4338CA",offset:"0%"}),(0,n.jsx)("stop",{stopColor:"#6366F1",stopOpacity:"0",offset:"100%"})]})]}),(0,n.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,n.jsxs)("g",{transform:"rotate(64 36.592 105.604)",children:[(0,n.jsx)("mask",{id:"welcome-d",fill:"#fff",children:(0,n.jsx)("use",{xlinkHref:"#welcome-a"})}),(0,n.jsx)("use",{fill:"url(#welcome-b)",xlinkHref:"#welcome-a"}),(0,n.jsx)("path",{fill:"url(#welcome-c)",mask:"url(#welcome-d)",d:"M64-24h80v152H64z"})]}),(0,n.jsxs)("g",{transform:"rotate(-51 91.324 -105.372)",children:[(0,n.jsx)("mask",{id:"welcome-f",fill:"#fff",children:(0,n.jsx)("use",{xlinkHref:"#welcome-e"})}),(0,n.jsx)("use",{fill:"url(#welcome-b)",xlinkHref:"#welcome-e"}),(0,n.jsx)("path",{fill:"url(#welcome-c)",mask:"url(#welcome-f)",d:"M40.333-15.147h50v95h-50z"})]}),(0,n.jsxs)("g",{transform:"rotate(44 61.546 392.623)",children:[(0,n.jsx)("mask",{id:"welcome-h",fill:"#fff",children:(0,n.jsx)("use",{xlinkHref:"#welcome-g"})}),(0,n.jsx)("use",{fill:"url(#welcome-b)",xlinkHref:"#welcome-g"}),(0,n.jsx)("path",{fill:"url(#welcome-c)",mask:"url(#welcome-h)",d:"M40.333-15.147h50v95h-50z"})]})]})]})}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("h1",{className:"text-2xl md:text-3xl text-slate-800 dark:text-slate-100 font-bold mb-1",children:"Welcome to your Identity, the Web3 way \uD83D\uDC4B"}),(0,n.jsx)("p",{className:"dark:text-indigo-200 font-light",children:"Reuse your digital identity everywhere"})]})]});var m=s(43226),j=s(52727),p=s.n(j);(l=r||(r={}))[l.Unknown=0]="Unknown",l[l.Good=1]="Good",l[l.Average=2]="Average",l[l.Bad=3]="Bad";let g=e=>{let{width:t=34,height:s=34,state:l}=e,[i,a]=(0,x.useState)(null);return(0,x.useEffect)(()=>{switch(l){case r.Unknown:a("transparent");break;case r.Good:a("green");break;case r.Average:a("orange");break;case r.Bad:a("red")}},[l]),(0,n.jsx)("div",{className:"flex",children:(0,n.jsx)("div",{className:"rounded-full",style:{width:t,height:s,backgroundColor:i}})})},w=e=>{let[t]=(0,o.V)(u.jU),[s]=(0,o.V)(null==t?void 0:t.get("email").userEmails$),[l]=(0,o.V)(null==t?void 0:t.get("security").passkeyKeys$),[a,d]=(0,x.useState)(r.Unknown),[c,f]=(0,x.useState)(null),[j,w]=(0,x.useState)(!1),b=(0,h.useRouter)();return(0,x.useEffect)(()=>{if(w(!1),p()(s)||p()(l)){d(r.Unknown),f("Checking status...");return}if(s.length>0){if(l.length>0){d(r.Good),f("Perfect, you will be able to sign in to your account with your email or with your browser");return}d(r.Good),f("All good, you will be able to sign in to your account with your email. You could also bind one or more browsers for faster access");return}if(l.length>0){d(r.Average),f("Only 1 browser bound but no email address. You will loose your account if you loose access to the browser."),w(!0);return}d(r.Bad),f("No email nor browser bound to your account yet, you won't be able to sign in to your account. Please check the security center soon."),w(!0)},[s,l]),(0,n.jsxs)("div",{className:"col-span-full xl:col-span-6 bg-white dark:bg-slate-800 shadow-lg rounded-sm border border-slate-200 dark:border-slate-700 p-3 ",children:[(0,n.jsx)("header",{className:"px-2 py-1 border-b border-slate-100 dark:border-slate-700",children:(0,n.jsx)("h2",{className:"font-semibold text-slate-800 dark:text-slate-100",children:"Account access"})}),(0,n.jsxs)("div",{className:"py-2 flex flex-row items-center gap-4",children:[(0,n.jsx)(g,{state:a}),(0,n.jsx)(m.Z,{children:c})]}),j&&(0,n.jsx)(i.c,{onClick:()=>{b.push("/account/security")},children:"Go to security center"})]})},b=e=>{let[t]=(0,o.V)(u.jU),[s]=(0,o.V)(null==t?void 0:t.get("security").passkeyKeys$),[l]=(0,o.V)(null==t?void 0:t.get("security").passwordKeys$),[i,a]=(0,x.useState)(r.Unknown),[d,c]=(0,x.useState)(null);return(0,x.useEffect)(()=>{if(p()(l)||p()(s)){a(r.Unknown),c("Checking status...");return}if(l.length>0){if(s.length>0){a(r.Good),c("Perfect, you will be able to unlock your encrypted data with your password or with your browser.");return}a(r.Good),c("All good, you will be able to unlock your encrypted data with your password. You could also bind one or more browsers for faster access");return}if(s.length>0){a(r.Average),c("Only 1 browser bound but no password. You will loose your account if you loose access to the password. Remember that the password cannot be recovered, there is no 'password lost' service.");return}a(r.Bad),c("No email nor password bound to your account yet, you don't have access to all the features that use encrypted data such as identities.")},[l,s]),(0,n.jsxs)("div",{className:"col-span-full xl:col-span-6 bg-white dark:bg-slate-800 shadow-lg rounded-sm border border-slate-200 dark:border-slate-700",children:[(0,n.jsx)("header",{className:"px-5 py-4 border-b border-slate-100 dark:border-slate-700",children:(0,n.jsx)("h2",{className:"font-semibold text-slate-800 dark:text-slate-100",children:"Encrypted content access"})}),(0,n.jsxs)("div",{className:"p-3 flex flex-row items-center gap-4",children:[(0,n.jsx)(g,{state:i}),(0,n.jsx)(m.Z,{children:d})]})]})};var v=s(53932),y=s(77358),k=s(84e3);let N=e=>{var t,s,l;let[r]=(0,o.V)(u.jU),[d]=(0,o.V)(null==r?void 0:r.get("identity").identities$),c=(0,h.useRouter)(),[f]=(0,o.V)(v.B),[m,j]=(0,x.useState)(!1),p=[...d].sort((e,t)=>{let s=new Date(e.lastUsedAt$.getValue()).getTime(),l=new Date(t.lastUsedAt$.getValue()).getTime();return l-s});p=null===(t=p)||void 0===t?void 0:t.slice(0,5);let g=e=>{e!==f?j(!0):j(!1),y.D.setActiveIdentity(e),c.push("/profile")};return(0,n.jsxs)("div",{className:"col-span-full xl:col-span-6 bg-white dark:bg-slate-800 shadow-lg rounded-sm border border-slate-200 dark:border-slate-700",children:[(0,n.jsx)("header",{className:"px-5 py-4 border-b border-slate-100 dark:border-slate-700",children:(0,n.jsx)("h2",{className:"font-semibold text-slate-800 dark:text-slate-100",children:"My Identities"})}),(0,n.jsx)("div",{className:"p-3",children:(0,n.jsx)("div",{className:"overflow-x-auto",children:(0,n.jsx)("table",{className:"table-auto w-full",style:{tableLayout:"fixed"},children:(0,n.jsx)("thead",{className:"text-xs font-semibold uppercase text-slate-400 dark:text-slate-500 bg-slate-50 dark:bg-slate-700 dark:bg-opacity-50",children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{className:"p-0 whitespace-nowrap",style:{width:"63%"},children:(0,n.jsx)("div",{className:"font-semibold text-left",children:"Identity"})}),(0,n.jsx)("th",{className:"p-2 whitespace-nowrap",style:{width:"30%"},children:(0,n.jsx)("div",{className:"font-semibold text-left",children:"last used"})})]})})})})}),(0,n.jsxs)("div",{children:[!p&&(0,n.jsx)(a.q,{}),(null===(s=p)||void 0===s?void 0:s.length)===0&&(0,n.jsxs)("div",{className:"text-center m-4 flex flex-col",children:["No identity yet.",(0,n.jsx)(i.c,{onClick:()=>{c.push("/new-identity")},className:"mt-4",children:"Create my first identity"})]}),(null===(l=p)||void 0===l?void 0:l.length)>0&&(0,n.jsx)("div",{className:"overflow-x-auto",children:(0,n.jsxs)("table",{className:"table-auto w-full",children:[(0,n.jsx)("tbody",{className:"text-sm divide-y divide-slate-100 dark:divide-slate-700",children:p.map(e=>(0,n.jsxs)("tr",{className:"hover:bg-gray-100 hover:text-black dark:hover:bg-slate-500 dark:hover:text-slate-1000 cursor-pointer",onClick:()=>g(e),children:[(0,n.jsx)("td",{className:"p-2 whitespace-nowrap",children:(0,n.jsx)("div",{className:"flex items-center",children:(0,n.jsx)("div",{className:"font-medium text-slate-800 dark:text-slate-100",children:(0,n.jsx)(k.V,{identity:e,show:m})})})}),(0,n.jsx)("td",{className:"p-2 whitespace-nowrap",children:(0,n.jsx)("div",{className:"text-left",children:e.lastUsedAt$.getValue().toLocaleDateString()})})]},e.did))}),(0,n.jsx)("tfoot",{children:(0,n.jsx)("tr",{children:(0,n.jsx)("td",{colSpan:2,className:"p-3 text-right",children:(0,n.jsx)("div",{className:"flex justify-end",children:(0,n.jsx)("button",{className:"bg-indigo-500 hover:bg-indigo-600 text-white font-bold text-xs py-1 px-2 rounded relative",onClick:()=>{c.push("/identities")},children:(0,n.jsx)("span",{children:"Show all"})})})})})})]})})]})]})},C=e=>{let[t]=(0,o.V)(u.jU),[s]=(0,o.V)(null==t?void 0:t.get("activity").activities$),l=(0,h.useRouter)();return s=s.slice(0,5),(0,n.jsxs)("div",{className:"col-span-full xl:col-span-6 bg-white dark:bg-slate-800 shadow-lg rounded-sm border border-slate-200 dark:border-slate-700",children:[(0,n.jsx)("header",{className:"px-5 py-4 border-b border-slate-100 dark:border-slate-700",children:(0,n.jsx)("h2",{className:"font-semibold text-slate-800 dark:text-slate-100",children:"Recent activity"})}),(0,n.jsx)("div",{className:"p-3",children:(0,n.jsx)("div",{className:"overflow-x-auto",children:(0,n.jsxs)("table",{className:"table-auto w-full",children:[(0,n.jsx)("thead",{className:"text-xs font-semibold uppercase text-slate-400 dark:text-slate-500 bg-slate-50 dark:bg-slate-700 dark:bg-opacity-50",children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{className:"p-2 whitespace-nowrap",children:(0,n.jsx)("div",{className:"font-semibold text-left",children:"DATE"})}),(0,n.jsx)("th",{className:"p-2 whitespace-nowrap",children:(0,n.jsx)("div",{className:"font-semibold text-left",children:"Activity"})})]})}),(0,n.jsx)("tbody",{className:"text-sm divide-y divide-slate-100 dark:divide-slate-700",children:s&&s.length>0&&s.map(e=>(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{className:"p-2 whitespace-nowrap",children:(0,n.jsx)("div",{className:"text-left",children:e.getCreatedAtStr()})}),(0,n.jsx)("td",{className:"p-2 whitespace-nowrap",children:(0,n.jsx)("div",{className:"text-left font-medium text-green-500",children:e.getDescription()})})]},e.id))}),(0,n.jsx)("tfoot",{children:(0,n.jsx)("tr",{children:(0,n.jsx)("td",{colSpan:2,className:"p-0 text-right",children:(0,n.jsx)("div",{className:"flex justify-end",children:(0,n.jsx)("button",{className:"bg-indigo-500 hover:bg-indigo-600 text-white font-bold text-xs py-1 px-2 rounded relative",onClick:()=>{l.push("/recent-activity")},children:(0,n.jsx)("span",{children:"Show all"})})})})})})]})})})]})};var S=()=>{let[e]=(0,o.V)(u.jU),t=(0,h.useRouter)(),{mounted:s}=(0,d.s)();return(0,x.useEffect)(()=>{(0,c.fK)()},[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"col-span-full",children:[(0,n.jsx)(f,{}),(0,n.jsx)("div",{className:"sm:flex sm:justify-between sm:items-center"})]}),!s&&(0,n.jsx)(a.q,{className:"col-span-full"}),s&&(0,n.jsxs)(n.Fragment,{children:[e&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(C,{}),(0,n.jsx)(N,{}),(0,n.jsx)(w,{}),(0,n.jsx)(b,{})]}),!e&&(0,n.jsxs)("div",{className:"col-span-full flex flex-col",children:["You want a real web3 identity? You've landed at the right place!",(0,n.jsx)("br",{}),"Continue with one of the following actions:",(0,n.jsxs)("div",{className:"flex flex-row gap-6 mt-4",children:[(0,n.jsx)(i.c,{onClick:()=>{t.push("/signup")},children:"Sign up"}),(0,n.jsx)(i.c,{onClick:()=>{t.push("/signin")},children:"Sign in"})]})]})]})]})}},61948:function(e,t,s){"use strict";s.d(t,{U:function(){return r}});var l=s(57437);let r=e=>{let{text:t,width:s=40,height:r=40}=e;return(0,l.jsx)("div",{className:"bg-indigo-400 p-2 rounded-sm overflow-hidden",style:{width:"".concat(s,"px"),height:"".concat(r,"px"),borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center",color:"white",fontSize:"16px"},children:t})}},38262:function(e,t,s){"use strict";s.d(t,{i:function(){return u}});var l=s(57437),r=s(7045),n=s(61948),i=s(451),a=s(3283),o=s(9177),d=s(16691),c=s.n(d);let u=e=>{let{identity:t,width:s=60,height:d=60}=e,[u]=(0,i.V)(null==t?void 0:t.get("profile").name$),[h]=(0,i.V)(null==t?void 0:t.get("profile").icon$);return(0,l.jsx)(l.Fragment,{children:h?(0,l.jsx)(a.Z,{sx:{width:s,height:d},children:h&&(0,l.jsx)(c(),{src:h,alt:"",width:s,height:d})}):(0,l.jsxs)(l.Fragment,{children:[!u&&(0,l.jsx)(r.Z,{width:s,height:d}),u&&(0,l.jsx)(n.U,{text:(0,o.OX)(u)})]})})}},84e3:function(e,t,s){"use strict";s.d(t,{V:function(){return c}});var l=s(57437),r=s(38262),n=s(451),i=s(96556),a=s(53932),o=s(48176),d=s(2265);let c=e=>{let{identity:t,show:s}=e,[c]=(0,n.V)(a.B),{showSuccessToast:u}=(0,i.p)(),[h]=(0,n.V)(t.get("profile").name$);return(0,d.useEffect)(()=>{if(s&&c==t){let e=(0,o.L)(t.did,8),s="Your current active identity is: "+h+"("+e+")";u(s)}},[s,u,h,c,t]),(0,l.jsx)("div",{children:(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,l.jsx)(r.i,{identity:t,width:40,height:40}),(0,l.jsxs)("div",{style:{width:"100px",marginLeft:"8px"},children:[(0,l.jsx)("div",{style:{fontWeight:"bold"},children:h}),(0,o.L)(t.did,8)]})]})})}},20484:function(e,t,s){"use strict";s.d(t,{q:function(){return n}});var l=s(57437),r=s(57042);s(26435);let n=e=>{let{className:t}=e;return(0,l.jsx)("div",{className:(0,r.Z)("vertical-stack-loading-card",t),children:(0,l.jsxs)("div",{className:"content",children:[(0,l.jsx)("p",{}),(0,l.jsx)("h2",{}),(0,l.jsx)("h2",{})]})})}},42937:function(e,t,s){"use strict";s.d(t,{s:function(){return r}});var l=s(2265);let r=()=>{let[e,t]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{t(!0)},[]),{mounted:e}}},96556:function(e,t,s){"use strict";s.d(t,{p:function(){return r}});var l=s(36953);function r(){let{enqueueSnackbar:e}=(0,l.Ds)();return{showSuccessToast:t=>{e(t,{variant:"success"})},showErrorToast:t=>{e(t,{variant:"error"})}}}},38693:function(e,t,s){"use strict";var l,r;s.d(t,{$Y:function(){return a},Kt:function(){return i},cX:function(){return l},fK:function(){return o}}),(r=l||(l={}))[r.OnBoardingEmailBinding=0]="OnBoardingEmailBinding",r[r.OnBoardingBrowserBinding=1]="OnBoardingBrowserBinding",r[r.EmailSignIn=2]="EmailSignIn";let n="ongoingflowoperation";function i(){return l[localStorage.getItem(n)]}function a(e){localStorage.setItem(n,l[e])}function o(){localStorage.removeItem(n)}},48176:function(e,t,s){"use strict";function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,s=e.split(":");if(s.length<3)return e;let l=s[2];if(l.length<=2*t)return e;let r="".concat(l.substr(0,t),"...").concat(l.substr(-t));return"".concat(s[0],":").concat(s[1],":").concat(r)}s.d(t,{L:function(){return l}})},26435:function(){},24033:function(e,t,s){e.exports=s(68165)}},function(e){e.O(0,[6990,3988,395,5295,1510,4440,6171,8098,6953,7998,1385,2971,596,1744],function(){return e(e.s=90913)}),_N_E=e.O()}]);