(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8037],{29675:function(e,t,i){Promise.resolve().then(i.bind(i,42723))},42723:function(e,t,i){"use strict";i.r(t);var n=i(57437),r=i(42463),a=i(23785),o=i(50543),l=i(9254),s=i(40542),c=i(73762),d=i(43226),p=i(67248),u=i(19739),h=i(78596),m=i(36079),f=i(14776),x=i(24033),v=i(2265);t.default=e=>{let{params:t}=e,i=(0,x.useSearchParams)(),b=null==i?void 0:i.get("did"),y=b&&decodeURIComponent(b),[g]=(0,s.V)(f.jU),j=null==g?void 0:g.get("identity"),[k]=(0,s.V)(null==j?void 0:j.applicationIdentities$),w=null==k?void 0:k.find(e=>e.did===y),[C]=(0,s.V)(null==w?void 0:w.credentials().credentials$),[S,A]=(0,v.useState)(null),[I,N]=(0,v.useState)(null),[T,D]=(0,v.useState)(null),[E,_]=(0,v.useState)(!1),[P,B]=(0,v.useState)(null),[O,Z]=(0,v.useState)(!1),[L,M]=(0,v.useState)(!1),{showSuccessToast:z,showErrorToast:R}=(0,u.p)(),[F,U]=(0,v.useState)(null),[V,W]=(0,v.useState)(!1),q=(0,v.useCallback)(()=>{console.log("applicationDid",y),_(!1),h._.resolveDIDDocument(y,!0).then(async e=>{B(e),_(!0),e?m.k.log("developers","App DID is on chain"):m.k.log("developers","App DID is NOT on chain")})},[y]);(0,v.useEffect)(()=>{m.k.log("developers","Checking if the application DID is on chain or not"),q()},[q]),(0,v.useEffect)(()=>{w&&w.synchronizeDIDDocument()},[y,w]),(0,v.useEffect)(()=>{S&&(N(null==S?void 0:S.getSubject().getProperty("name")),D(null==S?void 0:S.getSubject().getProperty("iconUrl")))},[S]),(0,v.useEffect)(()=>{updateAppIdentityNeedsToBePublished()},[I,T,P]),(0,v.useEffect)(()=>{A(null==w?void 0:w.credentials().getCredentialByType("ApplicationCredential"))},[w,C]);let updateLocalAppCredential=async()=>{await w.update(I,T)},publishAppIdentity=async()=>{if(!L){if(!T){R("Set app icon");return}M(!0),updateLocalAppCredential(),await w.publication().publish(),q(),M(!1)}},isAppIdentityPublished=()=>E&&null!=P,chainAppNameMatchesLocalAppName=()=>{let e=P.getCredentialByType("ApplicationCredential");return!!e&&I===e.getSubject().getProperty("name")},chainAppIconMatchesLocalAppIcon=()=>{let e=P.getCredentialByType("ApplicationCredential");return!!e&&T===e.getSubject().getProperty("iconUrl")},updateAppIdentityNeedsToBePublished=()=>{Z(!isAppIdentityPublished()||!chainAppNameMatchesLocalAppName()||!chainAppIconMatchesLocalAppIcon())},handleAppIconFileChanged=async e=>{W(!0);let t=await (0,c.L)(w,e);console.log("uploadedAvatar",t),W(!1),await w.update(I,t.avatarHiveURL)},handleExportMnemonic=async()=>{let e=await g.get("identity").exportMnemonic(w.identityRootId);e&&U(e)};return(0,n.jsxs)("div",{className:"col-span-full",children:[(0,n.jsx)(r.O,{entries:["developers","application-details"]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(d.Z,{variant:"h6",children:"Application details"}),(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)("div",{className:"flex",children:(0,n.jsx)(o.L,{credential:S,onFileUpload:handleAppIconFileChanged,updating:V})}),(0,n.jsxs)("div",{className:"flex flex-row mt-4 items-center gap-4",children:[(0,n.jsx)("div",{children:"Name"}),(0,n.jsx)("div",{children:(0,n.jsx)(p.Z,{className:"w-full",label:"Application name",onChange:e=>{var t;N(null===(t=e.currentTarget)||void 0===t?void 0:t.value),updateAppIdentityNeedsToBePublished()},defaultValue:I,autoFocus:!0,variant:"outlined",autoComplete:"off"})})]})]})]}),(0,n.jsxs)("div",{className:"flex flex-col gap-4 mt-8",children:[(0,n.jsxs)("div",{className:"flex flex-row gap-4",children:[(0,n.jsx)("div",{children:(0,n.jsx)("p",{children:"DID"})}),(0,n.jsxs)("div",{className:"inline-flex items-center",children:[(0,n.jsx)(d.Z,{variant:"body2",children:y}),(0,n.jsx)(a.qi,{text:y})]})]}),(0,n.jsxs)("div",{className:"flex flex-row gap-4",children:[(0,n.jsx)("div",{children:"App DID published?"}),(0,n.jsxs)("div",{children:[!E&&(0,n.jsx)(d.Z,{children:"Checking"}),E&&P&&(0,n.jsx)(d.Z,{children:"Yes"}),E&&!P&&(0,n.jsx)(d.Z,{children:"No"})]})]}),F?(0,n.jsxs)("div",{className:"inline-flex items-center",children:[(0,n.jsx)("div",{children:"Application DID mnemonicï¼š"+F}),(0,n.jsx)(a.qi,{text:F})]}):(0,n.jsx)(l.c,{onClick:handleExportMnemonic,children:"Application DID mnemonic"}),(0,n.jsxs)("div",{className:"mt-4",children:[E&&S&&O&&(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{children:"The local application info has been modified, please publish it for others to view your new app info."}),(0,n.jsx)(l.c,{onClick:publishAppIdentity,busy:L,children:"Publish DID"})]}),E&&S&&!O&&(0,n.jsx)("p",{children:"Up to date"})]})]})]})}},42463:function(e,t,i){"use strict";i.d(t,{O:function(){return Breadcrumbs}});var n,r,a=i(57437),o=i(61396),l=i.n(o),s=i(90952);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function security_verified_extends(){return(security_verified_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}let c=[{key:"dashboard",icon:(0,a.jsx)(function(e){return s.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),n||(n=s.createElement("path",{fill:"currentColor",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6.5 20v-9H3l9-6 9 6h-3.5v9h-3v-3.5A1.5 1.5 0 0 0 13 15h-2a1.5 1.5 0 0 0-1.5 1.5V20h-3Z"})))},{}),title:"Dashboard",path:"/dashboard"},{key:"profile",title:"Profile",path:"/profile"},{key:"account-profile",title:"Account profile",path:"/account/profile"},{key:"security-center",icon:(0,a.jsx)(function(e){return s.createElement("svg",security_verified_extends({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"},e),r||(r=s.createElement("g",{"data-name":"Layer 2"},s.createElement("path",{fill:"none",d:"M0 0h48v48H0z","data-name":"invisible box"}),s.createElement("path",{fill:"currentColor",d:"M24 2S6 7.1 6 8v18.2c0 9.2 13.3 17.3 17 19.5a1.8 1.8 0 0 0 2 0c3.8-2.1 17-10.3 17-19.5V8c0-.9-18-6-18-6Zm9.4 16.4-11 11a1.9 1.9 0 0 1-2.8 0l-4.9-4.9a2.2 2.2 0 0 1-.4-2.7 2 2 0 0 1 3.1-.2l3.6 3.6 9.6-9.6a2 2 0 0 1 2.8 2.8Z","data-name":"icons Q2"}))))},{}),title:"Security center",path:"/account/security"},{key:"bind-browser",title:"Bind browser",path:"/account/security/bind-passkey"},{key:"bind-email",title:"Bind email",path:"/account/security/bind-email"},{key:"bind-password",title:"Bind password",path:"/account/security/bind-password"},{key:"credentials-list",title:"All credentials",path:"/account/credentials/list"},{key:"delete-identity",title:"Identity deletion",path:"/delete-identity"},{key:"storage",title:"Storage",path:"/storage"},{key:"applications",title:"Applications",path:"/applications"},{key:"developers",title:"Developers",path:"/developers"},{key:"application-details",title:"Application details"}];function bcEntryToItem(e){let t=c.find(t=>t.key===e);if(!t)throw Error("Unknown breadcrumbs item ".concat(e));return t}let BreadcrumbsElement=e=>{let{item:t}=e,{icon:i,title:n,path:r}=t;return(0,a.jsxs)("div",{className:"flex flex-row items-center justify-center",children:[i&&(0,a.jsx)("div",{className:"mr-1",style:{width:18,height:18,color:"var(--primary-color)"},children:i}),r&&(0,a.jsx)(l(),{href:r,className:" bg-gray-200 px-3 py-1 rounded-lg",style:{fontSize:14},children:n}),!r&&(0,a.jsx)("div",{children:n})]})},Separator=()=>(0,a.jsx)("div",{className:"mx-2",children:"/"}),Breadcrumbs=e=>{let{entries:t}=e,i=bcEntryToItem("dashboard"),n=[i,...t.map(e=>bcEntryToItem(e))];return(0,a.jsx)("div",{className:"flex flex-row items-center w-full justify-center",children:n.map((e,t)=>(0,a.jsxs)("div",{className:"flex flex-row items-center",children:[(0,a.jsx)(BreadcrumbsElement,{item:e}),t<n.length-1&&(0,a.jsx)(Separator,{})]},t))})}},23785:function(e,t,i){"use strict";i.d(t,{Yd:function(){return y},hO:function(){return o},qi:function(){return button_CopyButton},Kz:function(){return s},UO:function(){return x}});var n=i(35843),r=i(44551);let a=(0,n.ZP)(r.Z)(e=>{let{theme:t}=e;return{background:"#000 !important",borderRadius:4,padding:"8px 18px",color:"white","&:disabled":{opacity:"0.7 !important",backgroundColor:"#343434 !important",color:"#fff !important"},"&:hover":{background:"#222 !important"},[t.breakpoints.down("md")]:{fontSize:12,padding:"6px 14px"},".MuiLoadingButton-loadingIndicator":{position:"unset",color:"white",visibility:"inherit"}}});var o=a;let l=(0,n.ZP)(r.Z)(e=>{let{theme:t,className:i}=e;return{background:"#323B45 !important",borderRadius:(null==i?void 0:i.includes("rounded"))?8:4,padding:"8px 18px",color:"white",textTransform:"capitalize","&:disabled":{opacity:"0.7 !important",backgroundColor:"#555 !important",color:"#fff !important"},"&:hover":{background:"#666e76 !important"},[t.breakpoints.down("md")]:{fontSize:12,padding:"6px 14px"},".MuiLoadingButton-loadingIndicator":{position:"unset",color:"white",visibility:"inherit"}}});var s=l,c=i(57437);i(2265);var d=i(86781),p=i(39830),u=i(52653),h=i(19739),button_CopyButton=e=>{let{text:t}=e,{showSuccessToast:i}=(0,h.p)();return(0,c.jsx)(d.CopyToClipboard,{text:t,onCopy:()=>{i("Copied to clipboard")},children:(0,c.jsx)(u.Z,{type:"button",sx:{p:"5px"},"aria-label":"link",onClick:e=>{e.preventDefault(),e.stopPropagation()},children:(0,c.jsx)(p.JO,{icon:"material-symbols:content-copy-rounded",width:"17px"})})})},m=i(49050);let f=(0,n.ZP)(m.Z)(e=>{let{theme:t}=e;return{color:"dark"===t.palette.mode?"white":"black"}});var x=f,v=i(45295);let b=(0,n.ZP)(v.Z)(e=>{let{theme:t}=e;return{borderRadius:"6.5px",overflow:"hidden","&:after":{background:"#fff",content:"''",height:155,left:-75,opacity:.2,position:"absolute",top:-50,width:50,WebkitTransition:"all 550ms cubic-bezier(0.19, 1, 0.22, 1)",transition:"all 550ms cubic-bezier(0.19, 1, 0.22, 1)",WebkitTransform:"rotate(35deg)",MsTransform:"rotate(35deg)",transform:"rotate(35deg)",zIndex:-10},"&:hover":{boxShadow:"0px 0px 7px #999999","&:after":{left:"120%",WebkitTransition:"all 550ms cubic-bezier(0.19, 1, 0.22, 1)",transition:"all 550ms cubic-bezier(0.19, 1, 0.22, 1)"}}}});var y=b},96283:function(e,t,i){"use strict";i.d(t,{J:function(){return CredentialAvatar}});var n=i(57437),r=i(40542),a=i(3283),o=i(57042),l=i(16691),s=i.n(l);let CredentialAvatar=e=>{let{credential:t,width:i=60,height:l=60,className:c}=e,[d]=(0,r.V)(null==t?void 0:t.representativeIcon$);return(0,n.jsx)(a.Z,{sx:{width:i,height:l,padding:"string"==typeof d?0:".5rem",backgroundColor:"#7575754d"},className:(0,o.Z)(c),children:"string"==typeof d?(0,n.jsx)(s(),{src:d,alt:"",width:i,height:l}):d})}},50543:function(e,t,i){"use strict";i.d(t,{L:function(){return EditableCredentialAvatar}});var n=i(57437),r=i(46028),a=i(57042),o=i(22440),l=i(96283);let EditableCredentialAvatar=e=>{let{credential:t,onFileUpload:i,width:s,height:c,updating:d=!1,disabled:p=!1}=e,onDrop=async e=>{if(!p&&(null==e?void 0:e.length)>0){let t=e[0];i(t)}},{getRootProps:u,getInputProps:h,isDragActive:m,isDragReject:f,fileRejections:x}=(0,o.uI)({multiple:!1,maxFiles:1,onDrop});return(0,n.jsxs)("div",{...!p&&u(),style:{...m&&{opacity:.72}},className:(0,a.Z)(!p&&"cursor-pointer"),children:[!p&&(0,n.jsx)("input",{...h()}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(l.J,{credential:t,width:s,height:c}),d&&(0,n.jsx)(r.a,{className:"absolute top-0 bottom-0 left-0 right-0"})]})]})}},9254:function(e,t,i){"use strict";i.d(t,{c:function(){return MainButton}});var n=i(57437),r=i(6882),a=i(49050),o=i(57042);let MainButton=e=>{let{leftIcon:t,size:i="medium",mode:l="default",onClick:s,children:c,busy:d=!1,disabled:p=!1,className:u}=e,h=(0,n.jsx)(r.Z,{size:16});return(0,n.jsx)("div",{className:(0,o.Z)("flex",u),children:(0,n.jsx)(a.Z,{className:"flex-1",startIcon:d?h:t,disabled:d||p,size:i,color:"default"===l?"primary":"error",variant:"contained",onClick:s,children:c})})}},46028:function(e,t,i){"use strict";i.d(t,{a:function(){return LoadingCircle}});var n=i(57437),r=i(57042);i(87661);let LoadingCircle=e=>{let{className:t,width:i,height:a}=e;return(0,n.jsx)("div",{className:(0,r.Z)("loading-circle",t),style:{...i&&{width:i},...a&&{height:a}},children:(0,n.jsx)("div",{className:"content",children:(0,n.jsx)("div",{className:"animated"})})})}},40542:function(e,t,i){"use strict";i.d(t,{V:function(){return useBehaviorSubject}});var n=i(2265);let useBehaviorSubject=e=>{let[t,i]=(0,n.useState)(null==e?void 0:e.getValue()),[r,a]=(0,n.useState)();return(0,n.useEffect)(()=>{if(!e){i(null);return}let t=e.subscribe({next:e=>{i(e)},error:a});return()=>t.unsubscribe()},[e]),[t]}},19739:function(e,t,i){"use strict";i.d(t,{p:function(){return useToast}});var n=i(36953);function useToast(){let{enqueueSnackbar:e}=(0,n.Ds)();return{showSuccessToast:t=>{e(t,{variant:"success"})},showErrorToast:t=>{e(t,{variant:"error"})}}}},87661:function(){},24033:function(e,t,i){e.exports=i(20290)},33018:function(e,t,i){"use strict";var n=i(61289);function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction,e.exports=function(){function shim(e,t,i,r,a,o){if(o!==n){var l=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function getShim(){return shim}shim.isRequired=shim;var e={array:shim,bigint:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,elementType:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return e.PropTypes=e,e}},74275:function(e,t,i){e.exports=i(33018)()},61289:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},function(e){e.O(0,[6990,9787,9443,8218,3988,395,8321,9152,5295,1510,1396,6953,182,2884,2699,1869,7998,1096,7248,2440,3262,2971,7864,1744],function(){return e(e.s=29675)}),_N_E=e.O()}]);