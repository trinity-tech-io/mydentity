(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9506],{25210:function(e,t,n){"use strict";n.d(t,{Z:function(){return Z}});var i=n(20791),r=n(13428),o=n(2265),a=n(57042),l=n(95600),s=n(28702),u=n(35843),c=n(87927),d=n(53308),m=n(37663),p=n(43226),g=n(26520),f=n(25702);function getLinkUtilityClass(e){return(0,f.Z)("MuiLink",e)}let h=(0,g.Z)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]);var b=n(65227),x=n(89975);let w={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},transformDeprecatedColors=e=>w[e]||e;var Link_getTextDecoration=({theme:e,ownerState:t})=>{let n=transformDeprecatedColors(t.color),i=(0,b.DW)(e,`palette.${n}`,!1)||t.color,r=(0,b.DW)(e,`palette.${n}Channel`);return"vars"in e&&r?`rgba(${r} / 0.4)`:(0,x.Fq)(i,.4)},y=n(57437);let v=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],useUtilityClasses=e=>{let{classes:t,component:n,focusVisible:i,underline:r}=e,o={root:["root",`underline${(0,s.Z)(r)}`,"button"===n&&"button",i&&"focusVisible"]};return(0,l.Z)(o,getLinkUtilityClass,t)},k=(0,u.ZP)(p.Z,{name:"MuiLink",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,t[`underline${(0,s.Z)(n.underline)}`],"button"===n.component&&t.button]}})(({theme:e,ownerState:t})=>(0,r.Z)({},"none"===t.underline&&{textDecoration:"none"},"hover"===t.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===t.underline&&(0,r.Z)({textDecoration:"underline"},"inherit"!==t.color&&{textDecorationColor:Link_getTextDecoration({theme:e,ownerState:t})},{"&:hover":{textDecorationColor:"inherit"}}),"button"===t.component&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${h.focusVisible}`]:{outline:"auto"}})),j=o.forwardRef(function(e,t){let n=(0,c.Z)({props:e,name:"MuiLink"}),{className:l,color:s="primary",component:u="a",onBlur:p,onFocus:g,TypographyClasses:f,underline:h="always",variant:b="inherit",sx:x}=n,j=(0,i.Z)(n,v),{isFocusVisibleRef:Z,onBlur:S,onFocus:B,ref:E}=(0,d.Z)(),[N,I]=o.useState(!1),C=(0,m.Z)(t,E),O=(0,r.Z)({},n,{color:s,component:u,focusVisible:N,underline:h,variant:b}),T=useUtilityClasses(O);return(0,y.jsx)(k,(0,r.Z)({color:s,className:(0,a.Z)(T.root,l),classes:f,component:u,onBlur:e=>{S(e),!1===Z.current&&I(!1),p&&p(e)},onFocus:e=>{B(e),!0===Z.current&&I(!0),g&&g(e)},ref:C,ownerState:O,variant:b,sx:[...Object.keys(w).includes(s)?[]:[{color:s}],...Array.isArray(x)?x:[x]]},j))});var Z=j},83652:function(e,t,n){"use strict";var i,r=n(90952);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}t.Z=function(e){return r.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 145 144"},e),i||(i=r.createElement("path",{fill:"currentColor",d:"M107.56 88.29c0 6.3 1.792 8.812 6.48 8.812 10.447 0 17.1-13.312 17.1-35.452 0-33.84-24.66-50.04-55.448-50.04-31.672 0-60.48 21.24-60.48 61.38 0 38.34 25.2 59.22 63.9 59.22 13.14 0 21.96-1.44 35.453-5.94l2.895 12.052c-13.32 4.328-27.555 5.58-38.528 5.58-50.76 0-77.947-27.9-77.947-70.92 0-43.38 31.507-72.9 74.887-72.9 45.18 0 69.113 27 69.113 60.12 0 28.08-8.813 49.5-36.533 49.5-12.607 0-20.88-5.04-21.96-16.207-3.24 12.42-11.88 16.207-23.587 16.207-15.66 0-28.8-12.067-28.8-36.36 0-24.48 11.527-39.6 32.227-39.6 10.98 0 17.82 4.32 20.865 11.16l5.228-9.54h15.12V88.29h.015ZM85.427 64.53c0-9.893-7.387-14.04-13.507-14.04-6.66 0-14.033 5.392-14.033 21.24 0 12.6 5.58 19.62 14.033 19.62 5.94 0 13.507-3.78 13.507-14.22v-12.6Z"})))}},25286:function(e,t,n){Promise.resolve().then(n.bind(n,58611))},58611:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return page}});var i=n(57437),r=n(24850),o=n(83652),a=n(39830),l=n(63491),s=n(24033),u=n(23785),widgets_BindEmailWithGoogle=()=>{let e=(0,s.useRouter)();return(0,i.jsx)(u.Kz,{id:"bind-ms",startIcon:(0,i.jsx)(a.JO,{icon:"logos:google-icon"}),onClick:()=>{(0,l.$Y)(l.cX.OnBoardingEmailBinding),e.push("".concat("https://staging-api.ownmydentity.com","/google"))},className:"w-full",children:"Bind email with Google"})},widgets_BindEmailWithLinkedin=()=>{let e=(0,s.useRouter)();return(0,i.jsx)(u.Kz,{id:"bind-ms",startIcon:(0,i.jsx)(a.JO,{icon:"logos:linkedin-icon"}),onClick:()=>{(0,l.$Y)(l.cX.OnBoardingEmailBinding),e.push("".concat("https://staging-api.ownmydentity.com","/linkedin"))},className:"w-full",children:"Bind email with Linkedin"})},c=n(14504),d=n(96507),m=n(88938),p=n(25210),g=n(11059),f=n(2265),h=n(40542),b=n(4778),x=n(14776),w=n(15907);let BindEmailOnly=()=>{let e=(0,f.useRef)(null),[t,n]=(0,f.useState)(w.bH.INIT),[r]=(0,h.V)(x.jU),[o,a]=(0,f.useState)(null),u=(0,s.useRouter)(),doEmailAuth=async()=>{a("");let t=e.current.value;if(""!==t){n(w.bH.SENDING),(0,l.$Y)(l.cX.OnBoardingEmailBinding);try{await (null==r?void 0:r.get("email").bindWithEmailAddress(t)),n(w.bH.RESULT)}catch(e){e instanceof b.E?u.push("/account/security?error=emailExists"):u.push("/account/security?error=unknown"),n(w.bH.INIT)}}};return(0,i.jsx)(w.Mq,{emailInputRef:e,reqState:t,doEmailAuth,errorMsg:o,actionName:"Send temporary link"})};var widgets_BindEmailWithMicrosoft=()=>{let e=(0,s.useRouter)();return(0,i.jsx)(u.Kz,{id:"bind-ms",startIcon:(0,i.jsx)(a.JO,{icon:"logos:microsoft-icon"}),onClick:()=>{(0,l.$Y)(l.cX.OnBoardingEmailBinding),e.push("".concat("https://staging-api.ownmydentity.com","/microsoft"))},className:"w-full",children:"Bind email with Microsoft"})},bindemail_EmailAuthComponent=()=>((0,f.useEffect)(()=>{(0,g.jF)()},[]),(0,i.jsxs)(d.Z,{className:"w-full md:w-1/2 max-w-xl flex flex-col justify-center items-center",children:[(0,i.jsx)(m.Z,{className:"py-4",children:(0,i.jsx)(widgets_BindEmailWithMicrosoft,{})}),(0,i.jsx)(m.Z,{className:"py-4",children:(0,i.jsx)(widgets_BindEmailWithGoogle,{})}),(0,i.jsx)(m.Z,{className:"py-4",children:(0,i.jsx)(widgets_BindEmailWithLinkedin,{})}),(0,i.jsx)("div",{className:"py-4 w-full",children:(0,i.jsx)(c.Z,{text:"or receive a magic link to get verified"})}),(0,i.jsx)(m.Z,{className:"py-4",children:(0,i.jsx)(BindEmailOnly,{})}),(0,i.jsxs)("span",{className:"text-[11px] font-extralight text-center opacity-50",children:["Binding an account means you agree to the",(0,i.jsx)("br",{}),(0,i.jsx)(p.Z,{href:"#",color:"inherit",children:(0,i.jsx)("span",{className:"font-medium",children:"Privacy Policy"})})," and ",(0,i.jsx)(p.Z,{href:"#",color:"inherit",children:(0,i.jsx)("span",{className:"font-medium",children:"Terms of Service"})}),"."]})]})),y=n(15707),page=()=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(y.Z,{title:"Bind your account to an email address",description:"Verify one of your existing email addresses and bind it to your account with a password. You can later use your email and password to sign in and unlock access to your identity."}),(0,i.jsx)("div",{className:"w-full flex justify-center py-[6%]",children:(0,i.jsx)(bindemail_EmailAuthComponent,{})}),(0,i.jsxs)("div",{className:"absolute w-full md:w-2/3 h-[65%] bottom-0 right-0 overflow-hidden z-[-1]",children:[(0,i.jsx)(r.Z,{className:"opacity-[0.15] h-full"}),(0,i.jsx)("div",{className:"absolute w-1/3 right-[-2rem] bottom-[-2rem] opacity-30",children:(0,i.jsx)(o.Z,{})})]})]})},15907:function(e,t,n){"use strict";n.d(t,{Mq:function(){return EmailFormBox},P5:function(){return EmailSignIn},bH:function(){return r}});var i,r,o=n(57437),a=n(23785),l=n(39830),s=n(73052),u=n(84081),c=n(50819),d=n(90923),m=n(35843),p=n(63491),g=n(36079),f=n(11059),h=n(2265);let b=(0,m.ZP)(u.Z)(e=>{let{theme:t}=e;return{paddingTop:"1.2rem",input:{color:"white",background:"black"},".MuiOutlinedInput-root":{fieldset:{opacity:.6,borderColor:"white"}},".MuiOutlinedInput-root.Mui-focused, .MuiOutlinedInput-root:hover:not(.Mui-disabled, .Mui-error)":{fieldset:{opacity:.8,borderColor:"white"}},".MuiOutlinedInput-root.Mui-disabled":{opacity:.5,input:{WebkitTextFillColor:"white",textFillColor:"white"},fieldset:{borderColor:"white"}},".MuiInputLabel-root, .MuiInputLabel-root.Mui-focused:not(.Mui-error)":{color:"white",fontSize:"10px",transform:"unset",WebkitTransform:"unset"},"#email-address":{fontSize:"13pt",caretColor:"white",color:"rgb(255 255 255 / 65%)"}}});(i=r||(r={}))[i.INIT=0]="INIT",i[i.SENDING=1]="SENDING",i[i.RESULT=2]="RESULT";let EmailFormBox=e=>{let{emailInputRef:t,reqState:n,doEmailAuth:i,actionName:r="Send magic link to email",errorMsg:s=null,pinCode:u}=e,m=(0,h.useRef)(null);async function onEmailSubmit(e){null==e||e.preventDefault(),t.current.blur(),await i()}return(0,o.jsxs)(o.Fragment,{children:[2!==n?(0,o.jsxs)("form",{onSubmit:onEmailSubmit,ref:m,className:"w-full my-2",children:[(0,o.jsxs)(b,{variant:"standard",className:"w-full",children:[(0,o.jsx)(c.Z,{shrink:!0,children:"Input email address"}),(0,o.jsx)(d.Z,{id:"email-address",size:"small",placeholder:"Your email address",className:"w-full",disabled:1===n,inputProps:{ref:t}})]}),(0,o.jsx)("div",{className:"py-4 mt-4 w-full",children:(0,o.jsx)(a.Kz,{id:"send-button",loading:1===n,startIcon:1!==n?(0,o.jsx)(l.JO,{icon:"material-symbols:key"}):null,onClick:i,className:"w-full mt-4",children:r})})]}):(0,o.jsxs)("div",{className:"text-sm text-center text-white",children:["Magic link sent, please check your mailbox and use the following PIN code when asked: ",u,"."]}),s&&(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{className:"text-red-600",children:s})})]})},EmailSignIn=()=>{let e=(0,h.useRef)(null),[t,n]=(0,h.useState)(0),[i,r]=(0,h.useState)(null),[a,l]=(0,h.useState)(null),doEmailAuth=async()=>{r(""),l(null),n(0);let t=e.current.value;if(""!==t){n(1),(0,p.$Y)(p.cX.EmailSignIn);try{let e=await (0,f.X)(t);l(e.pinCode),n(2)}catch(e){e instanceof s.h?r("This email address is unknown."):(g.k.error("Authentication request error:",e),r("Unknown error, please try again.")),n(0)}}};return(0,o.jsx)(EmailFormBox,{emailInputRef:e,reqState:t,doEmailAuth,errorMsg:i,pinCode:a})}},23785:function(e,t,n){"use strict";n.d(t,{Yd:function(){return w},hO:function(){return a},qi:function(){return button_CopyButton},Kz:function(){return s},UO:function(){return h}});var i=n(35843),r=n(44551);let o=(0,i.ZP)(r.Z)(e=>{let{theme:t}=e;return{background:"#000 !important",borderRadius:4,color:"white","&:disabled":{opacity:"0.7 !important",backgroundColor:"#343434 !important",color:"#fff !important"},"&:hover":{background:"#222 !important"},[t.breakpoints.down("md")]:{fontSize:12,padding:"6px 14px"},".MuiLoadingButton-loadingIndicator":{position:"unset",color:"white",visibility:"inherit"}}});var a=o;let l=(0,i.ZP)(r.Z)(e=>{let{theme:t,className:n}=e;return{background:"#323B45 !important",borderRadius:(null==n?void 0:n.includes("rounded"))?8:4,color:"white",textTransform:"capitalize",paddingLeft:12,paddingRight:12,"&:disabled":{opacity:"0.7 !important",backgroundColor:"#555 !important",color:"#fff !important"},"&:hover":{background:"#666e76 !important"},[t.breakpoints.down("md")]:{padding:"6px 14px"},".MuiLoadingButton-loadingIndicator":{position:"unset",color:"white",visibility:"inherit"}}});var s=l,u=n(57437);n(2265);var c=n(86781),d=n(39830),m=n(52653),p=n(19739),button_CopyButton=e=>{let{text:t,iconWidth:n="17px"}=e,{showSuccessToast:i}=(0,p.p)();return(0,u.jsx)(c.CopyToClipboard,{text:t,onCopy:()=>{i("Copied to clipboard")},children:(0,u.jsx)(m.Z,{type:"button",sx:{p:"5px"},"aria-label":"link",onClick:e=>{e.preventDefault(),e.stopPropagation()},color:"primary",children:(0,u.jsx)(d.JO,{icon:"material-symbols:content-copy-rounded",width:n})})})},g=n(49050);let f=(0,i.ZP)(g.Z)(e=>{let{theme:t}=e;return{color:"dark"===t.palette.mode?"white":"black"}});var h=f,b=n(45295);let x=(0,i.ZP)(b.Z)(e=>{let{theme:t}=e;return{borderRadius:"4px",overflow:"hidden","&:after":{background:"#fff",content:"''",height:155,left:-75,opacity:.2,position:"absolute",top:-50,width:50,WebkitTransition:"all 550ms cubic-bezier(0.19, 1, 0.22, 1)",transition:"all 550ms cubic-bezier(0.19, 1, 0.22, 1)",WebkitTransform:"rotate(35deg)",MsTransform:"rotate(35deg)",transform:"rotate(35deg)",zIndex:-10},"&:hover":{boxShadow:"0px 0px 7px #999999","&:after":{left:"120%",WebkitTransition:"all 550ms cubic-bezier(0.19, 1, 0.22, 1)",transition:"all 550ms cubic-bezier(0.19, 1, 0.22, 1)"}}}});var w=x},24850:function(e,t,n){"use strict";var i=n(35843);let r=(0,i.ZP)("div")(e=>{let{theme:t}=e;return{bottom:0,right:0,height:"100%",background:"linear-gradient(to bottom, rgba(255, 211, 187, 100%), rgba(255, 211, 187, 20%), transparent)",borderTopLeftRadius:"100%"}});t.Z=r},15707:function(e,t,n){"use strict";var i=n(57437),r=n(35843),o=n(43226);let a=(0,r.ZP)("div")(e=>{let{showBg:t}=e;return{marginBottom:"1.5rem",background:t?"url('/headline-banner.png') no-repeat center center / cover":"none"}});t.Z=e=>{let{title:t,description:n,showBg:r=!1}=e;return(0,i.jsxs)(a,{showBg:r,className:r?"p-4 sm:p-6 rounded-lg":"",children:[(0,i.jsx)(o.Z,{className:"w-full pb-4 sm:pb-8",variant:"h3",color:"text.primary",children:t}),(0,i.jsx)(o.Z,{className:"mt-4",variant:"body1",color:"text.primary",children:n})]})}},14504:function(e,t,n){"use strict";var i=n(57437),r=n(57042),o=n(54986),a=n(43226),l=n(35843);let s=(0,l.ZP)(o.Z)(e=>{let{theme:t}=e;return{"&:before, &:after":{borderTopColor:"#C4C4C4"}}});t.Z=e=>{let{text:t,textClassName:n=""}=e;return(0,i.jsx)(s,{children:(0,i.jsx)(a.Z,{variant:"caption",className:(0,r.Z)("px-4 font-bold text-white",n),children:t})})}},40542:function(e,t,n){"use strict";n.d(t,{V:function(){return useBehaviorSubject}});var i=n(2265);let useBehaviorSubject=e=>{let[t,n]=(0,i.useState)(null==e?void 0:e.getValue()),[r,o]=(0,i.useState)();return(0,i.useEffect)(()=>{if(!e){n(null);return}let t=e.subscribe({next:e=>{n(e)},error:o});return()=>t.unsubscribe()},[e]),[t]}},19739:function(e,t,n){"use strict";n.d(t,{p:function(){return useToast}});var i=n(36953);function useToast(){let{enqueueSnackbar:e}=(0,i.Ds)();return{showSuccessToast:t=>{e(t,{variant:"success"})},showErrorToast:t=>{e(t,{variant:"error"})}}}},63491:function(e,t,n){"use strict";n.d(t,{$Y:function(){return setOnGoingFlowOperation},Ad:function(){return clearPostSignInUrl},Kt:function(){return getOnGoingFlowOperation},cX:function(){return r},fK:function(){return clearOnGoingFlowOperation},qC:function(){return setPostSignInUrl},vX:function(){return usePostSignInFlow}});var i,r,o=n(92e3),a=n(36079);(i=r||(r={}))[i.OnBoardingEmailBinding=0]="OnBoardingEmailBinding",i[i.OnBoardingBrowserBinding=1]="OnBoardingBrowserBinding",i[i.EmailSignIn=2]="EmailSignIn";let l="ongoingflowoperation",s="postsigninurl";function getOnGoingFlowOperation(){return r[localStorage.getItem(l)]}function setOnGoingFlowOperation(e){localStorage.setItem(l,r[e])}function clearOnGoingFlowOperation(){localStorage.removeItem(l)}function setPostSignInUrl(e){a.k.log("flow","Setting post sign in url to:",e),localStorage.setItem(s,e)}function clearPostSignInUrl(){a.k.log("flow","Clearing post sign in url"),localStorage.removeItem(s)}function usePostSignInFlow(){let e=(0,o.useRouter)();return{navigateToPostSignInLandingPage(t){let n=localStorage.getItem(s);if(n)a.k.log("flow","Navigating to post sign in landing page:",n),e.replace(n),clearPostSignInUrl();else{let n=t||"/dashboard";a.k.log("flow","Navigating to post sign in landing page ".concat(n)),e.push(n)}}}}}},function(e){e.O(0,[6990,9787,9443,8218,3988,395,5295,6506,8644,1510,1711,5146,9830,378,1396,2e3,4558,2705,7056,2971,7864,1744],function(){return e(e.s=25286)}),_N_E=e.O()}]);