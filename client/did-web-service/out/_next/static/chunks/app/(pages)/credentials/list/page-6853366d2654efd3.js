(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[266],{8864:function(e,t,i){"use strict";var n=i(20791),l=i(13428),r=i(2265),s=i(57042),a=i(95600),o=i(35843),d=i(87927),c=i(78342),x=i(77820),h=i(57437);let u=["className"],v=e=>{let{alignItems:t,classes:i}=e;return(0,a.Z)({root:["root","flex-start"===t&&"alignItemsFlexStart"]},c.f,i)},p=(0,o.ZP)("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[t.root,"flex-start"===i.alignItems&&t.alignItemsFlexStart]}})(({theme:e,ownerState:t})=>(0,l.Z)({minWidth:56,color:(e.vars||e).palette.action.active,flexShrink:0,display:"inline-flex"},"flex-start"===t.alignItems&&{marginTop:8})),j=r.forwardRef(function(e,t){let i=(0,d.Z)({props:e,name:"MuiListItemIcon"}),{className:a}=i,o=(0,n.Z)(i,u),c=r.useContext(x.Z),j=(0,l.Z)({},i,{alignItems:c.alignItems}),m=v(j);return(0,h.jsx)(p,(0,l.Z)({className:(0,s.Z)(m.root,a),ownerState:j,ref:t},o))});t.Z=j},15018:function(e,t,i){Promise.resolve().then(i.bind(i,22278))},22278:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return R}});var n,l=i(57437),r=i(23322),s=i(43226),a=i(2265);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var d=function(e){return a.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36 36"},e),n||(n=a.createElement("g",{"data-name":"Component 942 \\u2013 1"},a.createElement("path",{fill:"currentColor",d:"M18 36a18 18 0 0 1-7.007-34.586 18 18 0 0 1 14.013 33.171A17.887 17.887 0 0 1 18 36zm-1.427-10.948v3.084h3.854v-3.084zM15.8 8.865l1.117 13.875h3.139L21.2 8.865h-5.4z","data-name":"Subtraction 2"}))))},c=i(77795),x=i(20484),h=i(451),u=i(42937),v=i(96507),p=i(13457),j=i(28874),m=i(72502),f=i(8864),g=i(53932),y=i(16691),b=i.n(y),Z=i(3283);let C=e=>{var t,i;let{application:n}=e,[r]=(0,h.V)(null==n?void 0:null===(t=n.interactingApplication)||void 0===t?void 0:t.name$),[s]=(0,h.V)(null==n?void 0:null===(i=n.interactingApplication)||void 0===i?void 0:i.icon$);return(0,l.jsxs)("div",{className:"flex flex-row gap-4 mb-4 items-center",children:[(0,l.jsx)(Z.Z,{sx:{width:40,height:40},children:s&&(0,l.jsx)(b(),{src:s,alt:"",width:40,height:40})}),(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("div",{className:"font-bold",children:r}),(0,l.jsx)("div",{children:n.interactingApplication.did})]})]})};var w=i(46940),I=i(12854),S=i(5676),k=i(4856),P=i(52653),E=i(74309),T=i(59500),V=i(96556),D=i(59606),N=i(3883),A=e=>{let{credential:t}=e,[i,n]=(0,a.useState)(null),[r]=(0,h.V)(g.B),s=null==r?void 0:r.get("profile"),[o,d]=(0,a.useState)(!1),[c,x]=(0,a.useState)(!1),[u,v]=(0,a.useState)(null),[p,j]=(0,a.useState)(null),[m,f]=(0,a.useState)(I.b1.EDIT),{showSuccessToast:y,showErrorToast:b}=(0,V.p)(),Z="IdentityMenu",C=t instanceof S.E,A=()=>{n(null)},F=async e=>{if(d(!1),!e)return;let i=!1;try{i=await r.get("credentials").deleteCredential(t)}catch(e){N.k.error(Z,"Delete credential error: ",e)}i?y("Entry has been deleted!"):b("Failed to delete the entry...")},z=async e=>{if(x(!1),e&&e.value&&e.type==I.b1.EDIT&&e.originCredential){let t=null;try{t=await s.updateProfileCredential(e.originCredential,e.value).catch()}catch(e){N.k.error(Z,"Update credential error: ",e)}let i=null!==t;i?(y("Entry has been updated!"),s.setActiveCredential(t)):b("Failed to update the entry...")}};return(0,l.jsxs)("div",{children:[(0,l.jsx)(P.Z,{onClick:e=>{n(e.currentTarget)},children:(0,l.jsx)(k.Z,{})}),(0,l.jsxs)(T.ZP,{anchorEl:i,open:!!i,onClose:A,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{sx:{p:1,width:140,"& .MuiMenuItem-root":{px:1,typography:"body2",borderRadius:.75}}},children:[C&&(0,l.jsx)(E.Z,{onClick:()=>{A(),x(!0);let e=(0,D.m7)(t.verifiableCredential.getType());v(e);let i=t.verifiableCredential.getSubject().getProperty(e.key);j(i),f(m)},children:" Edit "}),(0,l.jsx)(E.Z,{sx:{color:"error.main"},onClick:()=>{d(!0),A()},children:" Delete "})]}),(0,l.jsx)(w.Z,{title:"Delete this Credential?",content:"Do you want to delete this Credential?",open:o,onClose:F}),(0,l.jsx)(I.ZP,{credentialInfo:u,defaultValue:p,type:m,open:c,originCredential:t,onClose:z})]})};let F=()=>{let e=(0,u.s)(),[t]=(0,h.V)(g.B),i=null==t?void 0:t.get("profile"),[n]=(0,h.V)(null==i?void 0:i.activeCredential$),[r]=(0,h.V)(null==n?void 0:n.issuerInfo$),[a]=(0,h.V)(null==n?void 0:n.isConform$),[o]=(0,h.V)(null==n?void 0:n.requestingApplications$);return(0,l.jsxs)("div",{className:"col-span-full xl:col-span-7 bg-white dark:bg-slate-800 shadow-lg rounded-sm border border-slate-200 dark:border-slate-700",children:[(!n||!e)&&(0,l.jsx)(x.q,{}),e&&n&&(0,l.jsxs)(v.Z,{sx:{px:2.5,pb:3},children:[(0,l.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"24px"},children:(0,l.jsx)(A,{credential:n})}),(0,l.jsxs)(p.Z,{alignItems:"center",spacing:3,sx:{pt:5,borderRadius:2,position:"relative"},children:[(0,l.jsx)(c.J,{credential:n,width:120,height:120}),(0,l.jsxs)(v.Z,{sx:{textAlign:"left",width:"80%"},children:[(0,l.jsx)(s.Z,{gutterBottom:!0,variant:"h6",children:n.getDisplayableTitle()}),(0,l.jsx)(s.Z,{variant:"body1",sx:{color:"text.secondary"},children:n.getDisplayValue()}),(0,l.jsxs)(j.ZP,{container:!0,spacing:2,sx:{mt:1},children:[(0,l.jsx)(j.ZP,{item:!0,xs:6,children:(0,l.jsx)(s.Z,{variant:"body1",sx:{color:"text.secondary"},children:"Issuance date:"})}),(0,l.jsx)(j.ZP,{item:!0,xs:6,children:(0,l.jsx)(s.Z,{variant:"body1",sx:{color:"text.secondary"},children:n.verifiableCredential.issuanceDate.toLocaleDateString()})}),(0,l.jsx)(j.ZP,{item:!0,xs:6,children:(0,l.jsx)(s.Z,{variant:"body1",sx:{color:"text.secondary"},children:"Expiration date:"})}),(0,l.jsx)(j.ZP,{item:!0,xs:6,children:(0,l.jsx)(s.Z,{variant:"body1",sx:{color:"text.secondary"},children:n.verifiableCredential.expirationDate.toLocaleDateString()})}),n.isSensitiveCredential()&&(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(j.ZP,{item:!0,xs:6,children:(0,l.jsx)(s.Z,{fontSize:14,color:"#FF6347",gutterBottom:!0,children:"Sensitive"})})}),!n.selfIssued()&&(null==r?void 0:r.isPublished)&&(0,l.jsxs)(m.Z,{sx:{marginTop:2},children:[(0,l.jsx)(f.Z,{children:(0,l.jsx)(b(),{unoptimized:!0,src:null==r?void 0:r.avatarIcon,width:30,height:30,style:{borderRadius:"50%"},alt:"avatar"})}),(0,l.jsxs)(s.Z,{variant:"body1",sx:{color:"text.secondary"},children:["Created by ",null==r?void 0:r.name]})]}),(0,l.jsxs)(m.Z,{sx:{marginTop:2},children:[(0,l.jsx)(f.Z,{children:(0,l.jsx)(d,{width:30})}),a&&(0,l.jsx)(s.Z,{variant:"body1",sx:{color:"text.secondary"},children:"This credential is conform to a known type that can be shared by any application."}),!a&&(0,l.jsx)(s.Z,{variant:"body1",sx:{color:"text.secondary"},children:"This credential doesn't conform to known credential formats and can hardly be reused by many applications."})]}),(null==o?void 0:o.length)>0&&(0,l.jsxs)(j.ZP,{item:!0,children:[(0,l.jsx)(s.Z,{variant:"h6",children:"Shared with apps"}),(0,l.jsx)(s.Z,{children:"The following apps got access to this credential:"}),null==o?void 0:o.map((e,t)=>(0,l.jsx)("div",{className:"my-4",children:(0,l.jsx)(C,{application:e})},t))]})]})]})]})]})]})};var z=i(70555),O=i(54986),$=i(35266);let B=()=>{let[e]=(0,h.V)(g.B),[t]=(0,h.V)(null==e?void 0:e.get("credentials").credentials$),i=(0,u.s)(),n=null==e?void 0:e.get("profile"),[r]=(0,h.V)(null==n?void 0:n.activeCredential$),o=e=>{n.setActiveCredential(e)};return(0,a.useEffect)(()=>{t&&!r&&n.setActiveCredential(t[0])},[r,t,n]),(0,l.jsxs)("div",{className:"col-span-full xl:col-span-5 bg-white dark:bg-slate-800 shadow-lg rounded-sm border border-slate-200 dark:border-slate-700",children:[(0,l.jsx)(s.Z,{ml:2,my:3,variant:"subtitle1",children:"Credentials"}),(0,l.jsx)(O.Z,{}),(0,l.jsxs)(v.Z,{sx:{width:"100%",bgcolor:"background.paper"},children:[(!t||!i)&&(0,l.jsx)(x.q,{}),i&&t&&(0,l.jsx)($.Z,{component:"nav","aria-label":"main mailbox folders",children:t.map(e=>(0,l.jsxs)("div",{children:[(0,l.jsxs)(m.Z,{selected:r&&r.id===e.id,onClick:()=>o(e),style:{display:"flex",alignItems:"center"},children:[(0,l.jsx)("div",{style:{marginRight:10},children:(0,l.jsx)(c.J,{credential:e,width:60,height:60})}),(0,l.jsx)(z.Z,{credential:e})]}),(0,l.jsx)(O.Z,{})]},e.id))})]})]})};var R=()=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"col-span-full",children:[(0,l.jsx)(r.O,{entries:["credentials-list"]}),(0,l.jsx)(s.Z,{ml:2,my:3,variant:"h4",children:"All Credentials"}),(0,l.jsxs)(s.Z,{ml:2,my:3,children:["Below is the list of all your ",(0,l.jsx)("b",{children:"credentials"}),". Credentials are pieces of information about you. This information has been created either by you, or by other applications on your behalf. This full list of credentials contains credentials from your base identity profile, plus everything else."]})]}),(0,l.jsx)(B,{}),(0,l.jsx)(F,{})]})},70555:function(e,t,i){"use strict";var n=i(57437),l=i(451),r=i(96507),s=i(43226),a=i(28874),o=i(72502),d=i(8864),c=i(16691),x=i.n(c);t.Z=function(e){let{credential:t}=e,[i]=(0,l.V)(null==t?void 0:t.issuerInfo$);return(0,n.jsxs)(r.Z,{sx:{textAlign:"left",width:"100%"},children:[(0,n.jsx)(s.Z,{gutterBottom:!0,variant:"h6",children:t.getDisplayableTitle()}),(0,n.jsx)(s.Z,{variant:"body1",sx:{color:"text.secondary"},children:t.getDisplayValue()}),(0,n.jsxs)(a.ZP,{container:!0,spacing:2,sx:{mt:1},children:[t.isSensitiveCredential()&&(0,n.jsx)(s.Z,{fontSize:14,color:"#FF6347",children:"Sensitive"}),!t.selfIssued()&&(null==i?void 0:i.isPublished)&&(0,n.jsxs)(o.Z,{children:[(0,n.jsx)(d.Z,{children:(0,n.jsx)(x(),{unoptimized:!0,src:null==i?void 0:i.avatarIcon,width:30,height:30,style:{borderRadius:"50%"},alt:""})}),(0,n.jsxs)(s.Z,{variant:"body1",sx:{color:"text.secondary"},children:["Created by ",null==i?void 0:i.name]})]})]})]})}}},function(e){e.O(0,[6990,3988,395,5295,1510,4440,6171,8098,6953,1396,7998,8262,2809,8874,246,1385,2955,2971,596,1744],function(){return e(e.s=15018)}),_N_E=e.O()}]);