(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3777],{2899:function(e,t,r){"use strict";var l=r(26314);t.Z=void 0;var n=l(r(80984)),i=r(57437),s=(0,n.default)((0,i.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext");t.Z=s},64101:function(e,t,r){"use strict";var l=r(26314);t.Z=void 0;var n=l(r(80984)),i=r(57437),s=(0,n.default)((0,i.jsx)("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"}),"Security");t.Z=s},49605:function(e,t,r){"use strict";var l=r(26314);t.Z=void 0;var n=l(r(80984)),i=r(57437),s=(0,n.default)((0,i.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility");t.Z=s},4193:function(e,t,r){"use strict";var l=r(26314);t.Z=void 0;var n=l(r(80984)),i=r(57437),s=(0,n.default)((0,i.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff");t.Z=s},88938:function(e,t,r){"use strict";r.d(t,{Z:function(){return j}});var l=r(20791),n=r(13428),i=r(2265),s=r(57042),a=r(61380),o=r(25702),d=r(95600),c=r(48153),u=r(39190),h=r(84775),p=r(57437);let x=["className","component","disableGutters","fixed","maxWidth","classes"],m=(0,h.Z)(),f=(0,u.Z)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,t[`maxWidth${(0,a.Z)(String(r.maxWidth))}`],r.fixed&&t.fixed,r.disableGutters&&t.disableGutters]}}),useThemePropsDefault=e=>(0,c.Z)({props:e,name:"MuiContainer",defaultTheme:m}),useUtilityClasses=(e,t)=>{let{classes:r,fixed:l,disableGutters:n,maxWidth:i}=e,s={root:["root",i&&`maxWidth${(0,a.Z)(String(i))}`,l&&"fixed",n&&"disableGutters"]};return(0,d.Z)(s,e=>(0,o.Z)(t,e),r)};var v=r(28702),g=r(35843),b=r(87927);let Z=function(e={}){let{createStyledComponent:t=f,useThemeProps:r=useThemePropsDefault,componentName:a="MuiContainer"}=e,o=t(({theme:e,ownerState:t})=>(0,n.Z)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!t.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}}),({theme:e,ownerState:t})=>t.fixed&&Object.keys(e.breakpoints.values).reduce((t,r)=>{let l=e.breakpoints.values[r];return 0!==l&&(t[e.breakpoints.up(r)]={maxWidth:`${l}${e.breakpoints.unit}`}),t},{}),({theme:e,ownerState:t})=>(0,n.Z)({},"xs"===t.maxWidth&&{[e.breakpoints.up("xs")]:{maxWidth:Math.max(e.breakpoints.values.xs,444)}},t.maxWidth&&"xs"!==t.maxWidth&&{[e.breakpoints.up(t.maxWidth)]:{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`}})),d=i.forwardRef(function(e,t){let i=r(e),{className:d,component:c="div",disableGutters:u=!1,fixed:h=!1,maxWidth:m="lg"}=i,f=(0,l.Z)(i,x),v=(0,n.Z)({},i,{component:c,disableGutters:u,fixed:h,maxWidth:m}),g=useUtilityClasses(v,a);return(0,p.jsx)(o,(0,n.Z)({as:c,ownerState:v,className:(0,s.Z)(g.root,d),ref:t},f))});return d}({createStyledComponent:(0,g.ZP)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,t[`maxWidth${(0,v.Z)(String(r.maxWidth))}`],r.fixed&&t.fixed,r.disableGutters&&t.disableGutters]}}),useThemeProps:e=>(0,b.Z)({props:e,name:"MuiContainer"})});var j=Z},64173:function(e,t,r){"use strict";r.d(t,{Z:function(){return v}});var l=r(20791),n=r(13428),i=r(2265),s=r(57042),a=r(95600),o=r(35843),d=r(87927),c=r(43226),u=r(26520),h=r(25702);function getDialogContentTextUtilityClass(e){return(0,h.Z)("MuiDialogContentText",e)}(0,u.Z)("MuiDialogContentText",["root"]);var p=r(57437);let x=["children","className"],useUtilityClasses=e=>{let{classes:t}=e,r=(0,a.Z)({root:["root"]},getDialogContentTextUtilityClass,t);return(0,n.Z)({},t,r)},m=(0,o.ZP)(c.Z,{shouldForwardProp:e=>(0,o.FO)(e)||"classes"===e,name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({}),f=i.forwardRef(function(e,t){let r=(0,d.Z)({props:e,name:"MuiDialogContentText"}),{className:i}=r,a=(0,l.Z)(r,x),o=useUtilityClasses(a);return(0,p.jsx)(m,(0,n.Z)({component:"p",variant:"body1",color:"text.secondary",ref:t,ownerState:a,className:(0,s.Z)(o.root,i)},r,{classes:o}))});var v=f},73701:function(e,t,r){"use strict";r.d(t,{Z:function(){return g}});var l=r(20791),n=r(13428),i=r(2265),s=r(57042),a=r(95600),o=r(65969),d=r(87927),c=r(35843),u=r(26520),h=r(25702);function getTableUtilityClass(e){return(0,h.Z)("MuiTable",e)}(0,u.Z)("MuiTable",["root","stickyHeader"]);var p=r(57437);let x=["className","component","padding","size","stickyHeader"],useUtilityClasses=e=>{let{classes:t,stickyHeader:r}=e;return(0,a.Z)({root:["root",r&&"stickyHeader"]},getTableUtilityClass,t)},m=(0,c.ZP)("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,r.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>(0,n.Z)({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":(0,n.Z)({},e.typography.body2,{padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},t.stickyHeader&&{borderCollapse:"separate"})),f="table",v=i.forwardRef(function(e,t){let r=(0,d.Z)({props:e,name:"MuiTable"}),{className:a,component:c=f,padding:u="normal",size:h="medium",stickyHeader:v=!1}=r,g=(0,l.Z)(r,x),b=(0,n.Z)({},r,{component:c,padding:u,size:h,stickyHeader:v}),Z=useUtilityClasses(b),j=i.useMemo(()=>({padding:u,size:h,stickyHeader:v}),[u,h,v]);return(0,p.jsx)(o.Z.Provider,{value:j,children:(0,p.jsx)(m,(0,n.Z)({as:c,role:c===f?null:"table",ref:t,className:(0,s.Z)(Z.root,a),ownerState:b},g))})});var g=v},39279:function(e,t,r){"use strict";r.d(t,{Z:function(){return b}});var l=r(13428),n=r(20791),i=r(2265),s=r(57042),a=r(95600),o=r(28232),d=r(87927),c=r(35843),u=r(26520),h=r(25702);function getTableBodyUtilityClass(e){return(0,h.Z)("MuiTableBody",e)}(0,u.Z)("MuiTableBody",["root"]);var p=r(57437);let x=["className","component"],useUtilityClasses=e=>{let{classes:t}=e;return(0,a.Z)({root:["root"]},getTableBodyUtilityClass,t)},m=(0,c.ZP)("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),f={variant:"body"},v="tbody",g=i.forwardRef(function(e,t){let r=(0,d.Z)({props:e,name:"MuiTableBody"}),{className:i,component:a=v}=r,c=(0,n.Z)(r,x),u=(0,l.Z)({},r,{component:a}),h=useUtilityClasses(u);return(0,p.jsx)(o.Z.Provider,{value:f,children:(0,p.jsx)(m,(0,l.Z)({className:(0,s.Z)(h.root,i),as:a,ref:t,role:a===v?null:"rowgroup",ownerState:u},c))})});var b=g},66988:function(e,t,r){"use strict";r.d(t,{Z:function(){return b}});var l=r(13428),n=r(20791),i=r(2265),s=r(57042),a=r(95600),o=r(28232),d=r(87927),c=r(35843),u=r(26520),h=r(25702);function getTableHeadUtilityClass(e){return(0,h.Z)("MuiTableHead",e)}(0,u.Z)("MuiTableHead",["root"]);var p=r(57437);let x=["className","component"],useUtilityClasses=e=>{let{classes:t}=e;return(0,a.Z)({root:["root"]},getTableHeadUtilityClass,t)},m=(0,c.ZP)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),f={variant:"head"},v="thead",g=i.forwardRef(function(e,t){let r=(0,d.Z)({props:e,name:"MuiTableHead"}),{className:i,component:a=v}=r,c=(0,n.Z)(r,x),u=(0,l.Z)({},r,{component:a}),h=useUtilityClasses(u);return(0,p.jsx)(o.Z.Provider,{value:f,children:(0,p.jsx)(m,(0,l.Z)({as:a,className:(0,s.Z)(h.root,i),ref:t,role:a===v?null:"rowgroup",ownerState:u},c))})});var b=g},81922:function(e,t,r){var l=r(33074);e.exports=function(e,t){var r=[];return l(e,function(e,l,n){t(e,l,n)&&r.push(e)}),r}},77434:function(e,t,r){var l=r(14822),n=r(81922),i=r(57322),s=r(12068);e.exports=function(e,t){return(s(e)?l:n)(e,i(t,3))}},40649:function(e,t,r){Promise.resolve().then(r.bind(r,56126))},56126:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return page}});var l,n,i=r(57437),s=r(2265),a=r(92e3),o=r(61396),d=r.n(o),c=r(77434),u=r.n(c),h=r(2899),p=r(58991),x=r(96507),m=r(13457),f=r(43226),v=r(81679),g=r(30666),b=r(98489),Z=r(88938),j=r(59500),y=r(74309),C=r(26371),k=r(23785),w=r(66267),N=r(1460),M=r(83129),P=r(19959),T=r(92820),S=r(12861),U=r(15707),D=r(96479),R=r(29439),F=r(70906),I=r(40542),z=r(97716),V=r(19739),A=r(59898),E=r(57958),L=r(36079),W=r(50543);(l=n||(n={})).NAME="name",l.VALUE="value";var H=r(52653),O=r(4856),K=r(96283),_=r(66615),credential_CredentialTableRow=function(e){let{credential:t,handleOpenMenu:r}=e,[l]=(0,I.V)(E.Bx),n=null==l?void 0:l.profile();(0,s.useState)(null);let o=(0,a.useRouter)(),handleCellClick=e=>{n.setActiveCredential(e),o.push("/credentials/list")};return(0,i.jsx)(P.m,{props:{hover:!0},onClick:()=>handleCellClick(t),className:"h-[3rem] cursor-pointer",avatar:(0,i.jsx)(K.J,{credential:t,width:36,height:36}),rowCells:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(g.Z,{children:t.getDisplayableTitle()}),(0,i.jsx)(g.Z,{align:"center",children:t.getDisplayValue()}),(0,i.jsx)(g.Z,{align:"center",children:(null==l?void 0:l.did)==t.getIssuer()?"Myself":(0,_.L)(t.getIssuer())}),(0,i.jsx)(g.Z,{align:"center",children:(0,i.jsx)(H.Z,{size:"small",color:"inherit",onClick:e=>{e.stopPropagation(),e.preventDefault(),r(e,t)},children:(0,i.jsx)(O.Z,{})})})]})})},B=r(83338),$=r(14776),page=()=>{var e,t;let r="ProfilePage",[l]=(0,I.V)(E.Bx),[o]=(0,I.V)($.jU),[c]=(0,I.V)(null==o?void 0:o.get("identity").regularIdentities$),H=null==l?void 0:l.credentials(),O=null==l?void 0:l.profile(),[K]=(0,I.V)(null==O?void 0:O.name$),[_]=(0,I.V)(null==O?void 0:O.profileCredentials$),{mounted:J}=(0,z.s)(),G=(0,a.useRouter)(),[q]=(0,I.V)(null==O?void 0:O.avatarCredential$),{unlockerIsIdle:X,unlockerIsCancelled:Y}=(0,F.NX)(),[Q,ee]=(0,s.useState)(null),[et,er]=(0,s.useState)(!1),[el,en]=(0,s.useState)(null),[ei,es]=(0,s.useState)(""),{showSuccessToast:ea,showErrorToast:eo}=(0,V.p)(),[ed,ec]=(0,s.useState)(null),[eu,eh]=(0,s.useState)(0),[ep,ex]=(0,s.useState)("asc"),[em,ef]=(0,s.useState)(n.NAME),[ev,eg]=(0,s.useState)(""),[eb,eZ]=(0,s.useState)(5),[ej,ey]=(0,s.useState)(!1),[eC,ek]=(0,s.useState)(!1),ew=l&&"https://eid.elastos.io/did?did=".concat(encodeURIComponent(l.did),"&is_did=true"),showFeedbackToast=(e,t,r)=>{e?ea(t):eo(r)},handleEditCredentialDialogClose=async e=>{if(er(!1),e&&e.value&&e.type==T.b1.EDIT&&e.originCredential){let t=!1;try{t=!!await O.updateProfileCredential(e.originCredential,e.value)}catch(e){L.k.error(r,"Update credential error",e)}showFeedbackToast(t,"Entry has been updated!","Failed to update the entry...")}},handleOpenMenu=(e,t)=>{ec(e.currentTarget),ee(t)},handleCloseMenu=()=>{ec(null)},handleAvatarFileChanged=async e=>{ek(!0),await O.upsertIdentityAvatar(e),ek(!1)};function descendingComparator(e,t,r){switch(r){case"name":return t.getDisplayableTitle().localeCompare(e.getDisplayableTitle());case"value":{var l,n;let r=(null===(l=e.getDisplayValue())||void 0===l?void 0:l.label)?e.getDisplayValue().label:e.getDisplayValue(),i=(null===(n=t.getDisplayValue())||void 0===n?void 0:n.label)?t.getDisplayValue().label:t.getDisplayValue();return null==i?void 0:i.localeCompare(r)}}}let eN=function(e,t,r){let l=null==e?void 0:e.filter(e=>{let t=e.getFragment();return"avatar"!==t}),n=null==l?void 0:l.map((e,t)=>[e,t]);return(null==n||n.sort((e,r)=>{let l=t(e[0],r[0]);return 0!==l?l:e[1]-r[1]}),r)?u()(l,e=>-1!==e.verifiableCredential.getId().getFragment().toLowerCase().indexOf(r.toLowerCase())):null==n?void 0:n.map(e=>e[0])}(_,"desc"===ep?(e,t)=>descendingComparator(e,t,em):(e,t)=>-descendingComparator(e,t,em),ev),eM=!(null==eN?void 0:eN.length)&&!!ev,handleCloseDialog=async e=>{if(ey(!1),!e)return;let t=!1;try{t=await H.deleteCredential(Q)}catch(e){L.k.error(r,e)}showFeedbackToast(t,"Entry has been deleted","Failed to delete the entry...")};return(0,i.jsxs)("div",{className:"col-span-full",children:[(0,i.jsx)(U.Z,{title:"My Profile",description:"Each profile item in the list below represents a distinct credential securely stored within your digital identity. These credentials can be shared with apps, subject to your consent. Your unique signature accompanies each credential, assuring its origin and integrity when shared.",showBg:!0}),(0,i.jsx)(x.Z,{component:"form",sx:{"& .MuiTextField-root":{m:1,width:"25ch"}},noValidate:!0,autoComplete:"off",className:"mb-4",children:(0,i.jsxs)(m.Z,{direction:"row",children:[(0,i.jsx)("div",{className:"flex flex-1 items-center",children:!X||J&&c?(0,i.jsx)(i.Fragment,{children:l&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(W.L,{credential:q,width:80,height:80,onFileUpload:handleAvatarFileChanged,updating:eC,disabled:!_}),(0,i.jsxs)("div",{className:"flex flex-col ml-4",children:[(0,i.jsx)("div",{className:"flex pb-2",children:(0,i.jsx)(x.Z,{className:"rounded-md bg-[#9291A5] text-[8pt] px-3 py-0.5 inline-block",children:"ACTIVE IDENTITY"})}),(0,i.jsx)(f.Z,{variant:"h4",children:K||"Unnamed identity"}),(0,i.jsxs)("div",{className:"inline-flex items-center",children:[(0,i.jsx)(f.Z,{variant:"body2",children:null==l?void 0:null===(e=l.did)||void 0===e?void 0:e.toString()}),(0,i.jsx)(k.qi,{text:null==l?void 0:null===(t=l.did)||void 0===t?void 0:t.toString()})]})]})]})}):(0,i.jsx)(D._H,{})}),(0,i.jsxs)("div",{className:"ml-4 flex flex-col justify-center items-end gap-1",children:[(0,i.jsxs)("div",{className:"flex",children:[(0,i.jsx)(S.Z,{id:"credential-search",size:"small",placeholder:"Search",className:"mr-4 rounded",onChange:e=>{eh(0),eg(e.target.value)},startAdornment:(0,i.jsx)(v.Z,{position:"start",children:(0,i.jsx)(p.Z,{})})}),(0,i.jsx)(B.Z,{identity:l})]}),(0,i.jsx)("div",{className:"flex flex-1 gap-1 items-end",children:(0,i.jsxs)("div",{className:"inline-flex",children:[(0,i.jsx)(k.UO,{size:"small",endIcon:(0,i.jsx)(h.Z,{}),onClick:()=>{G.push("/identities")},children:"Show all identities"}),!!ew&&(0,i.jsx)(d(),{target:"_blank",href:ew,passHref:!0,children:(0,i.jsx)(k.UO,{size:"small",endIcon:(0,i.jsx)(h.Z,{}),children:"View on blockchain explorer"})})]})})]})]})}),(0,i.jsx)(M.Z,{title:(0,i.jsxs)("div",{className:"inline-flex items-center",children:[(0,i.jsx)(w.C,{children:(0,i.jsx)("div",{className:"w-4 h-4 flex justify-center",children:(0,i.jsx)(C.Z,{})})}),(0,i.jsx)("span",{className:"pl-2",children:"Credentials"})]}),showAllAction:()=>{G.push("/credentials/list")},children:(0,i.jsx)("div",{className:"mb-1",children:(0,i.jsx)(P.J,{headCells:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(g.Z,{children:"PROFILE ITEM"}),(0,i.jsx)(g.Z,{align:"center",children:"DETAIL"}),(0,i.jsx)(g.Z,{align:"center",children:"ISSUED BY"}),(0,i.jsx)(g.Z,{sx:{width:0}})]}),bodyRows:J&&c&&(!l||eN)?(0,i.jsx)(i.Fragment,{children:l&&eN.length?null==eN?void 0:eN.slice(eu*eb,eu*eb+eb).map(e=>(0,i.jsx)(credential_CredentialTableRow,{credential:e,handleOpenMenu:handleOpenMenu},e.id)):(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(b.Z,{children:(0,i.jsx)(g.Z,{component:"th",colSpan:6,align:"center",children:eM?(0,i.jsxs)(f.Z,{variant:"body1",children:["No results found for \xa0",(0,i.jsxs)("strong",{children:['"',ev,'"']}),".",(0,i.jsx)("br",{})," Try checking for typos or using complete words."]}):(0,i.jsx)(f.Z,{variant:"body1",children:"No credential found"})})})})}):[,,,].fill(0).map((e,t)=>(0,i.jsx)(D.IT,{colSpan:4},t))})})}),(0,i.jsx)(Z.Z,{children:Y&&(!_||!J)&&(0,i.jsx)(R.d,{className:"mt-4"})}),(0,i.jsxs)(j.ZP,{open:!!ed,anchorEl:ed,onClose:handleCloseMenu,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{sx:{p:1,width:140,"& .MuiMenuItem-root":{px:1,typography:"body2",borderRadius:.75}}},children:[(0,i.jsx)(y.Z,{onClick:()=>{handleCloseMenu(),er(!0);let e=(0,A.m7)(Q.verifiableCredential.getType());en(e),es(Q.verifiableCredential.getSubject().getProperty(e.key))},children:"Edit"}),(0,i.jsx)(y.Z,{sx:{color:"error.main"},onClick:()=>{handleCloseMenu(),ey(!0)},children:"Delete"})]}),(0,i.jsx)(N.Z,{title:"Delete this Credential?",content:"Do you want to delete this Credential?",open:ej,onClose:handleCloseDialog}),(0,i.jsx)(T.ZP,{credentialInfo:el,defaultValue:ei,type:T.b1.EDIT,open:et,originCredential:Q,onClose:handleEditCredentialDialogClose})]})}},80072:function(e,t,r){"use strict";var l=r(57437),n=r(2265),i=r(35843),s=r(71711),a=r(52653),o=r(81679),d=r(49605),c=r(4193),u=r(57042);let h=(0,i.ZP)(s.Z)(e=>{let{theme:t}=e;return{input:{color:"white",marginTop:{xs:16,sm:20},[t.breakpoints.down("sm")]:{marginTop:16},[t.breakpoints.up("sm")]:{marginTop:20}}}}),p=(0,i.ZP)(a.Z)(e=>{let{theme:t}=e;return{color:"white"}});t.Z=e=>{let{outerProps:t={},inputProps:r={}}=e,[i,s]=n.useState(!1);return(0,l.jsx)(h,{...t,type:i?"input":"password",className:(0,u.Z)("password-input",!i&&"redacted"),inputProps:{maxLength:100,...r},startAdornment:(0,l.jsx)(o.Z,{position:"start",className:"absolute"}),endAdornment:(0,l.jsx)(o.Z,{position:"end",children:(0,l.jsx)(p,{size:"small","aria-label":"toggle password visibility",onClick:()=>s(e=>!e),onMouseDown:e=>{e.preventDefault()},children:i?(0,l.jsx)(c.Z,{sx:{fontSize:{xs:20,sm:24}}}):(0,l.jsx)(d.Z,{sx:{fontSize:{xs:20,sm:24}}})})})})}},50543:function(e,t,r){"use strict";r.d(t,{L:function(){return EditableCredentialAvatar}});var l=r(57437),n=r(4528),i=r(57042),s=r(22440),a=r(96283);let EditableCredentialAvatar=e=>{let{credential:t,onFileUpload:r,width:o,height:d,updating:c=!1,disabled:u=!1}=e,onDrop=async e=>{if(!u&&(null==e?void 0:e.length)>0){let t=e[0];r(t)}},{getRootProps:h,getInputProps:p,isDragActive:x,isDragReject:m,fileRejections:f}=(0,s.uI)({multiple:!1,maxFiles:1,onDrop});return(0,l.jsxs)("div",{...!u&&h(),style:{...x&&{opacity:.72}},className:(0,i.Z)(!u&&"cursor-pointer"),children:[!u&&(0,l.jsx)("input",{...p()}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(a.J,{credential:t,width:o,height:d}),c&&(0,l.jsx)(n.a,{className:"absolute top-0 bottom-0 left-0 right-0"})]})]})}},49017:function(e,t,r){"use strict";var l=r(35843),n=r(84081);let i=(0,l.ZP)(n.Z)(e=>{let{theme:t}=e;return{".MuiInput-root":{marginTop:0,"&:before, &:after":{opacity:.18,borderColor:"white"}},".MuiInputBase-root.MuiInput-root:hover:not(.Mui-disabled, .Mui-error)":{"&:before, &:after":{opacity:.18,borderColor:"white"}},".MuiInput-root.Mui-focused":{"&:before, &:after":{opacity:.3}},".MuiInputLabel-root, .MuiInputLabel-root.Mui-focused:not(.Mui-error)":{color:"white",fontSize:"10px",transform:"unset",WebkitTransform:"unset"},"#holder-name":{fontWeight:600,fontSize:"15pt",textAlign:"center",caretColor:"white",color:"rgb(255 255 255 / 65%)"},".password-input.redacted":{fontFamily:"Redacted Script"},".MuiFormHelperText-root":{marginLeft:0,display:"none"},".MuiFormHelperText-root.Mui-error, .MuiFormHelperText-root.visible":{display:"block"}}});t.Z=i},1460:function(e,t,r){"use strict";var l=r(57437),n=r(44551),i=r(49050),s=r(22079),a=r(42834),o=r(26337),d=r(64173),c=r(91797),u=r(2265);t.Z=e=>{let{title:t,content:r,open:h,onClose:p}=e,[x,m]=(0,u.useState)(!1);(0,u.useEffect)(()=>{m(!1)},[h]);let handleDisAgree=()=>{p(!1)};return(0,l.jsxs)(s.Z,{open:h,onClose:handleDisAgree,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,l.jsx)(c.Z,{id:"alert-dialog-title",children:t}),(0,l.jsx)(o.Z,{children:(0,l.jsx)(d.Z,{id:"alert-dialog-description",children:r})}),(0,l.jsxs)(a.Z,{children:[(0,l.jsx)(i.Z,{variant:"outlined",onClick:handleDisAgree,children:"Disagree"}),(0,l.jsx)(n.Z,{color:"info",variant:"contained",loading:x,onClick:()=>{m(!0),p(!0)},autoFocus:!0,children:"Agree"})]})]})}},83129:function(e,t,r){"use strict";var l=r(57437),n=r(2899),i=r(15133),s=r(96507),a=r(43226),o=r(88469),d=r(35843),c=r(23785);let u=(0,d.ZP)(i.Z)(e=>{let{theme:t}=e;return{border:"1px solid #FFFFFF55",borderRadius:"0.5rem",background:"#1D1D1D",position:"relative","&:before":{opacity:.1,content:"''",position:"absolute",width:"100%",height:"200%",background:"linear-gradient(to bottom, rgba(163, 163, 163, 60%), rgba(255, 255, 255, 15%), transparent)",transform:"rotate(-30deg)",transformOrigin:"top left",top:0,right:"-40%"}}});t.Z=e=>{let{title:t,children:r,className:i="",showAllAction:d=()=>{},able2ShowAll:h=!0}=e;return(0,l.jsxs)(u,{className:i,elevation:0,children:[(0,l.jsxs)(s.Z,{className:"py-4 px-6 flex",children:[(0,l.jsx)(a.Z,{className:"flex-1",variant:"h6",fontWeight:600,children:t}),h&&(0,l.jsx)(c.UO,{size:"small",endIcon:(0,l.jsx)(n.Z,{}),onClick:d,children:"Show all"})]}),(0,l.jsx)(o.Z,{className:"relative z-10",sx:{px:3,pt:1},children:r})]})}},19959:function(e,t,r){"use strict";r.d(t,{J:function(){return DetailTable},m:function(){return DetailTableRow}});var l=r(57437),n=r(98489),i=r(30666),s=r(73701),a=r(66988),o=r(39279);let DetailTableRow=e=>{let{avatar:t,rowCells:r,className:s="",props:a={},onClick:o=()=>{}}=e;return(0,l.jsxs)(n.Z,{...a,className:s,onClick:o,children:[(0,l.jsx)(i.Z,{padding:"none",sx:{width:0},children:t}),r]})},DetailTable=e=>{let{headCells:t,bodyRows:r}=e;return(0,l.jsxs)(s.Z,{size:"small",sx:{th:{border:0},thead:{background:"linear-gradient(to right, transparent, #4e4e4eb3 25%, #555555b3 50%, #4e4e4eb3 75%, transparent)",th:{px:1,fontSize:15,fontWeight:"600"},"th:last-child":{textAlign:"right"}},tbody:{td:{px:1,py:0},"td:first-child":{border:0,pl:0,pr:1},"td:last-child":{textAlign:"right",pr:0},"tr:last-child":{td:{border:0}}}},children:[(0,l.jsx)(a.Z,{children:(0,l.jsxs)(n.Z,{children:[(0,l.jsx)(i.Z,{sx:{width:0}}),t]})}),(0,l.jsx)(o.Z,{children:r})]})}},9254:function(e,t,r){"use strict";r.d(t,{c:function(){return MainButton}});var l=r(57437),n=r(6882),i=r(49050),s=r(57042);let MainButton=e=>{let{leftIcon:t,size:r="medium",mode:a="default",onClick:o,children:d,busy:c=!1,disabled:u=!1,className:h}=e,p=(0,l.jsx)(n.Z,{size:16});return(0,l.jsx)("div",{className:(0,s.Z)("flex",h),children:(0,l.jsx)(i.Z,{className:"flex-1",startIcon:c?p:t,disabled:c||u,size:r,color:"default"===a?"primary":"error",variant:"contained",onClick:o,children:d})})}},4528:function(e,t,r){"use strict";r.d(t,{a:function(){return LoadingCircle_LoadingCircle}});var l=r(57437),n=r(57042);let LoadingCircle_LoadingCircle=e=>{let{className:t,width:r,height:i}=e;return(0,l.jsx)("div",{className:(0,n.Z)("loading-circle",t),style:{...r&&{width:r},...i&&{height:i}},children:(0,l.jsx)("div",{className:"content",children:(0,l.jsx)("div",{className:"animated"})})})}},29439:function(e,t,r){"use strict";r.d(t,{d:function(){return UnlockRetrier}});var l=r(57437),n=r(9254),i=r(57042),s=r(70906);let UnlockRetrier=e=>{let{className:t}=e,{retryUnlock:r}=(0,s.lJ)();return(0,l.jsxs)("div",{className:(0,i.Z)("flex flex-row items-center gap-2",t),children:[(0,l.jsx)("div",{children:"This content could not be unlocked, please retry"}),(0,l.jsx)(n.c,{onClick:()=>{r()},children:"Unlock personal data"})]})}},70906:function(e,t,r){"use strict";r.d(t,{au:function(){return UnlockKeyPromptContextProvider},lJ:function(){return useUnlockKeyPrompt},NX:function(){return useUnlockPromptState}});var l=r(57437),n=r(39513),i=r(66267),s=r(14504),a=r(40542),o=r(95815),d=r(94025),c=r(5253),u=r(64101),h=r(56176),p=r(22079),x=r(43226),m=r(96507),f=r(35843),v=r(7482),g=r(36079),b=r(50707),Z=r(14776),j=r(2265),y=r(39830),C=r(23785);let PasskeyPrompt=e=>{let{onConfirm:t,disabled:r}=e,[n]=(0,a.V)(Z.jU),i=null==n?void 0:n.get("security"),onSubmit=async()=>{let e=await i.unlockPasskeyLocally();t(e)};return(0,l.jsx)(C.Kz,{id:"bind-ms",className:"w-11/12 sm:w-4/5",startIcon:(0,l.jsx)(y.JO,{icon:"material-symbols:passkey"}),disabled:r,onClick:onSubmit,children:"Unlock with passkey"})};var k=r(50819),w=r(49017),N=r(80072);let PasswordPrompt=e=>{let{onConfirm:t,disabled:r}=e,[n,i]=(0,j.useState)(""),s=(0,j.useRef)(null),submitPassword=e=>{if(e.preventDefault(),!s.current.value){s.current.focus();return}t(s.current.value)};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("form",{onSubmit:submitPassword,children:(0,l.jsxs)(w.Z,{fullWidth:!0,children:[(0,l.jsx)(k.Z,{htmlFor:"pw",children:"PASSWORD"}),(0,l.jsx)(N.Z,{outerProps:{autoFocus:!0,disabled:r,onChange:e=>{i(e.target.value)}},inputProps:{ref:s}})]})}),(0,l.jsx)("div",{className:"p-2 pt-3 sm:pt-4 pb-0 text-center",children:(0,l.jsx)(C.Kz,{id:"bind-ms",className:"w-11/12 sm:w-4/5",disabled:r||!n.length,onClick:submitPassword,children:"Continue"})})]})};var M=r(51894),P=r(53946);let T=(0,j.createContext)({actions:null,setActions:null});function UnlockKeyPromptContextProvider(e){let[t,r]=(0,j.useState)(null);return(0,l.jsxs)(T.Provider,{value:{actions:t,setActions:r},children:[e.children,(0,l.jsx)(UnlockKeyPrompt,{})]})}let S=j.forwardRef(function(e,t){return(0,l.jsx)(h.Z,{ref:t,...e})}),U=(0,f.ZP)("div")(e=>{let{theme:t}=e;return{background:"linear-gradient(to right, #242424, #333 50%, transparent)"}}),UnlockKeyPrompt=()=>{let{actions:e,setActions:t}=(0,j.useContext)(T),[r]=(0,a.V)(Z.jU),o=null==r?void 0:r.get("security"),[d]=(0,a.V)(null==o?void 0:o.passwordKeys$),[h]=(0,a.V)(null==o?void 0:o.passkeyKeys$),{promptMasterKeyUnlock:f}=useUnlockKeyPrompt(),hideDialog=()=>{t(null)};return(0,j.useEffect)(()=>{let e=P.lw.subscribe(e=>{e&&!e.handled&&(e.handled=!0,callWithUnlockHandler(e,f))});return()=>e.unsubscribe()},[f]),(0,l.jsx)(p.Z,{open:!!e,disablePortal:!0,onClose:()=>{var t;null===(t=e.onUnlockKey)||void 0===t||t.call(e,null),hideDialog()},TransitionComponent:S,PaperProps:{sx:{backgroundImage:"none"}},children:(0,l.jsxs)("div",{className:"p-4 sm:p-6",children:[(0,l.jsxs)(U,{className:"flex items-center gap-x-2 px-4 py-2",children:[(0,l.jsx)(i.C,{children:(0,l.jsx)(u.Z,{fontSize:"small"})}),(0,l.jsx)(x.Z,{variant:"h6",className:"ml-4",children:"Screen content is locked!"})]}),(0,l.jsx)(x.Z,{variant:"body1",className:"px-4 py-2",children:"Enter password or authenticate passkey to unlock the screen."}),(0,l.jsx)(n.CA,{className:"relative w-full mt-4 md:pb-2",children:(0,l.jsx)("div",{className:"absolute inset-0 p-2",children:(0,l.jsx)("div",{className:"dashed-body w-full h-full rounded-2xl p-1.5 flex items-center",children:(0,l.jsx)(m.Z,{className:"w-full",sx:{px:{xs:1.5,sm:3},py:{xs:0,sm:4}},children:(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)(PasswordPrompt,{onConfirm:t=>{var r;null===(r=e.onUnlockKey)||void 0===r||r.call(e,{type:c.J.PASSWORD,keyId:"unused-for-now-for-passwords",key:t}),hideDialog()},disabled:(null==d?void 0:d.length)==0}),(0,l.jsxs)("div",{className:"p-2 pt-0 text-center",children:[(0,l.jsx)(m.Z,{sx:{py:{xs:1,sm:2}},children:(0,l.jsx)(s.Z,{text:"or browser authentication"})}),(0,l.jsx)(PasskeyPrompt,{onConfirm:t=>{var r;null===(r=e.onUnlockKey)||void 0===r||r.call(e,t),hideDialog()},disabled:(null==h?void 0:h.length)==0})]})]})})})})})]})})};function useUnlockPromptState(){let[e]=(0,a.V)(P.Mn),[t,r]=(0,j.useState)(!0),[l,n]=(0,j.useState)(!1);return(0,j.useEffect)(()=>{switch(e){case P.xb.Idle:r(!0),n(!1);break;case P.xb.UnlockCancelled:r(!1),n(!0)}},[e]),{unlockerIsIdle:t,unlockerIsCancelled:l}}let useUnlockKeyPrompt=()=>{let{setActions:e}=(0,j.useContext)(T),[t]=(0,a.V)(Z.jU);return{promptMasterKeyUnlock:()=>new Promise(t=>{e({onUnlockKey:t})}),retryUnlock:()=>(0,M.H)(()=>t.get("security").checkRemoteUnlockStatus())}};async function callWithUnlockHandler(e,t){try{let t=await e.method();e.resolve(t)}catch(r){if(r instanceof o._){if((0,b.z)(r)){g.k.warn("security","This method call requires unlock authorization from the user. Prompting");let r=await t();if(r){await (0,v.wo)(r);let t=await (0,M.H)(e.method,e.silentCancellation,e.defaultValue,!1);e.resolve(t)}else P.Mn.next(P.xb.UnlockCancelled),g.k.warn("security","Unlock operation cancelled by user"),e.reject(o._.newClientError(d.XF.UnlockKeyCancelled,"CANCELLED"))}else e.reject(r)}else g.k.error("security","Unhandled callWithUnlock() non app exception (will get stuck):",r)}}},14504:function(e,t,r){"use strict";var l=r(57437),n=r(57042),i=r(54986),s=r(43226),a=r(35843);let o=(0,a.ZP)(i.Z)(e=>{let{theme:t}=e;return{"&:before, &:after":{borderTopColor:"#C4C4C4"}}});t.Z=e=>{let{text:t,textClassName:r=""}=e;return(0,l.jsx)(o,{children:(0,l.jsx)(s.Z,{variant:"caption",className:(0,n.Z)("px-4 font-bold text-white",r),children:t})})}},66615:function(e,t,r){"use strict";function shortenDID(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,r=e.split(":");if(r.length<3)return e;let l=r[2];if(l.length<=2*t)return e;let n="".concat(l.substr(0,t),"...").concat(l.substr(-t));return"".concat(r[0],":").concat(r[1],":").concat(n)}r.d(t,{L:function(){return shortenDID}})}},function(e){e.O(0,[6990,9787,9443,8218,3988,395,8321,3824,6642,1228,5295,1396,1510,2e3,6953,2178,2736,4558,7407,6691,1869,6133,1621,9034,6563,1831,4004,2440,3262,5455,2971,7864,1744],function(){return e(e.s=40649)}),_N_E=e.O()}]);