(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3777,1943],{8424:function(e,t,n){"use strict";n.d(t,{d:function(){return ClickAwayListener}});var r=n(2265),l=n(95137),i=n(78136),s=n(96278),a=n(57437);function mapEventPropToEvent(e){return e.substring(2).toLowerCase()}function ClickAwayListener(e){let{children:t,disableReactTree:n=!1,mouseEvent:o="onClick",onClickAway:d,touchEvent:c="onTouchEnd"}=e,u=r.useRef(!1),p=r.useRef(null),x=r.useRef(!1),h=r.useRef(!1);r.useEffect(()=>(setTimeout(()=>{x.current=!0},0),()=>{x.current=!1}),[]);let m=(0,l.Z)(t.ref,p),f=(0,i.Z)(e=>{let t=h.current;h.current=!1;let r=(0,s.Z)(p.current);if(x.current&&p.current&&(!("clientX"in e)||!(r.documentElement.clientWidth<e.clientX)&&!(r.documentElement.clientHeight<e.clientY))){if(u.current){u.current=!1;return}(e.composedPath?e.composedPath().indexOf(p.current)>-1:!r.documentElement.contains(e.target)||p.current.contains(e.target))||!n&&t||d(e)}}),createHandleSynthetic=e=>n=>{h.current=!0;let r=t.props[e];r&&r(n)},v={ref:m};return!1!==c&&(v[c]=createHandleSynthetic(c)),r.useEffect(()=>{if(!1!==c){let e=mapEventPropToEvent(c),t=(0,s.Z)(p.current),handleTouchMove=()=>{u.current=!0};return t.addEventListener(e,f),t.addEventListener("touchmove",handleTouchMove),()=>{t.removeEventListener(e,f),t.removeEventListener("touchmove",handleTouchMove)}}},[f,c]),!1!==o&&(v[o]=createHandleSynthetic(o)),r.useEffect(()=>{if(!1!==o){let e=mapEventPropToEvent(o),t=(0,s.Z)(p.current);return t.addEventListener(e,f),()=>{t.removeEventListener(e,f)}}},[f,o]),(0,a.jsx)(r.Fragment,{children:r.cloneElement(t,v)})}},4856:function(e,t,n){"use strict";var r=n(26314);t.Z=void 0;var l=r(n(80984)),i=n(57437),s=(0,l.default)((0,i.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert");t.Z=s},2899:function(e,t,n){"use strict";var r=n(26314);t.Z=void 0;var l=r(n(80984)),i=n(57437),s=(0,l.default)((0,i.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext");t.Z=s},64101:function(e,t,n){"use strict";var r=n(26314);t.Z=void 0;var l=r(n(80984)),i=n(57437),s=(0,l.default)((0,i.jsx)("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"}),"Security");t.Z=s},88938:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(20791),l=n(13428),i=n(2265),s=n(57042),a=n(61380),o=n(25702),d=n(95600),c=n(48153),u=n(39190),p=n(84775),x=n(57437);let h=["className","component","disableGutters","fixed","maxWidth","classes"],m=(0,p.Z)(),f=(0,u.Z)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,t[`maxWidth${(0,a.Z)(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemePropsDefault=e=>(0,c.Z)({props:e,name:"MuiContainer",defaultTheme:m}),useUtilityClasses=(e,t)=>{let{classes:n,fixed:r,disableGutters:l,maxWidth:i}=e,s={root:["root",i&&`maxWidth${(0,a.Z)(String(i))}`,r&&"fixed",l&&"disableGutters"]};return(0,d.Z)(s,e=>(0,o.Z)(t,e),n)};var v=n(28702),g=n(35843),Z=n(87927);let b=function(e={}){let{createStyledComponent:t=f,useThemeProps:n=useThemePropsDefault,componentName:a="MuiContainer"}=e,o=t(({theme:e,ownerState:t})=>(0,l.Z)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!t.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}}),({theme:e,ownerState:t})=>t.fixed&&Object.keys(e.breakpoints.values).reduce((t,n)=>{let r=e.breakpoints.values[n];return 0!==r&&(t[e.breakpoints.up(n)]={maxWidth:`${r}${e.breakpoints.unit}`}),t},{}),({theme:e,ownerState:t})=>(0,l.Z)({},"xs"===t.maxWidth&&{[e.breakpoints.up("xs")]:{maxWidth:Math.max(e.breakpoints.values.xs,444)}},t.maxWidth&&"xs"!==t.maxWidth&&{[e.breakpoints.up(t.maxWidth)]:{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`}})),d=i.forwardRef(function(e,t){let i=n(e),{className:d,component:c="div",disableGutters:u=!1,fixed:p=!1,maxWidth:m="lg"}=i,f=(0,r.Z)(i,h),v=(0,l.Z)({},i,{component:c,disableGutters:u,fixed:p,maxWidth:m}),g=useUtilityClasses(v,a);return(0,x.jsx)(o,(0,l.Z)({as:c,ownerState:v,className:(0,s.Z)(g.root,d),ref:t},f))});return d}({createStyledComponent:(0,g.ZP)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,t[`maxWidth${(0,v.Z)(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:e=>(0,Z.Z)({props:e,name:"MuiContainer"})});var y=b},42834:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(20791),l=n(13428),i=n(2265),s=n(57042),a=n(95600),o=n(35843),d=n(87927),c=n(26520),u=n(25702);function getDialogActionsUtilityClass(e){return(0,u.Z)("MuiDialogActions",e)}(0,c.Z)("MuiDialogActions",["root","spacing"]);var p=n(57437);let x=["className","disableSpacing"],useUtilityClasses=e=>{let{classes:t,disableSpacing:n}=e;return(0,a.Z)({root:["root",!n&&"spacing"]},getDialogActionsUtilityClass,t)},h=(0,o.ZP)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})(({ownerState:e})=>(0,l.Z)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!e.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),m=i.forwardRef(function(e,t){let n=(0,d.Z)({props:e,name:"MuiDialogActions"}),{className:i,disableSpacing:a=!1}=n,o=(0,r.Z)(n,x),c=(0,l.Z)({},n,{disableSpacing:a}),u=useUtilityClasses(c);return(0,p.jsx)(h,(0,l.Z)({className:(0,s.Z)(u.root,i),ownerState:c,ref:t},o))});var f=m},26337:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(20791),l=n(13428),i=n(2265),s=n(57042),a=n(95600),o=n(35843),d=n(87927),c=n(26520),u=n(25702);function getDialogContentUtilityClass(e){return(0,u.Z)("MuiDialogContent",e)}(0,c.Z)("MuiDialogContent",["root","dividers"]);var p=n(92273),x=n(57437);let h=["className","dividers"],useUtilityClasses=e=>{let{classes:t,dividers:n}=e;return(0,a.Z)({root:["root",n&&"dividers"]},getDialogContentUtilityClass,t)},m=(0,o.ZP)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})(({theme:e,ownerState:t})=>(0,l.Z)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},t.dividers?{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}:{[`.${p.Z.root} + &`]:{paddingTop:0}})),f=i.forwardRef(function(e,t){let n=(0,d.Z)({props:e,name:"MuiDialogContent"}),{className:i,dividers:a=!1}=n,o=(0,r.Z)(n,h),c=(0,l.Z)({},n,{dividers:a}),u=useUtilityClasses(c);return(0,x.jsx)(m,(0,l.Z)({className:(0,s.Z)(u.root,i),ownerState:c,ref:t},o))});var v=f},64173:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(20791),l=n(13428),i=n(2265),s=n(57042),a=n(95600),o=n(35843),d=n(87927),c=n(43226),u=n(26520),p=n(25702);function getDialogContentTextUtilityClass(e){return(0,p.Z)("MuiDialogContentText",e)}(0,u.Z)("MuiDialogContentText",["root"]);var x=n(57437);let h=["children","className"],useUtilityClasses=e=>{let{classes:t}=e,n=(0,a.Z)({root:["root"]},getDialogContentTextUtilityClass,t);return(0,l.Z)({},t,n)},m=(0,o.ZP)(c.Z,{shouldForwardProp:e=>(0,o.FO)(e)||"classes"===e,name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({}),f=i.forwardRef(function(e,t){let n=(0,d.Z)({props:e,name:"MuiDialogContentText"}),{className:i}=n,a=(0,r.Z)(n,h),o=useUtilityClasses(a);return(0,x.jsx)(m,(0,l.Z)({component:"p",variant:"body1",color:"text.secondary",ref:t,ownerState:a,className:(0,s.Z)(o.root,i)},n,{classes:o}))});var v=f},91797:function(e,t,n){"use strict";var r=n(13428),l=n(20791),i=n(2265),s=n(57042),a=n(95600),o=n(43226),d=n(35843),c=n(87927),u=n(92273),p=n(57245),x=n(57437);let h=["className","id"],useUtilityClasses=e=>{let{classes:t}=e;return(0,a.Z)({root:["root"]},u.a,t)},m=(0,d.ZP)(o.Z,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),f=i.forwardRef(function(e,t){let n=(0,c.Z)({props:e,name:"MuiDialogTitle"}),{className:a,id:o}=n,d=(0,l.Z)(n,h),u=useUtilityClasses(n),{titleId:f=o}=i.useContext(p.Z);return(0,x.jsx)(m,(0,r.Z)({component:"h2",className:(0,s.Z)(u.root,a),ownerState:n,ref:t,variant:"h6",id:null!=o?o:f},d))});t.Z=f},92273:function(e,t,n){"use strict";n.d(t,{a:function(){return getDialogTitleUtilityClass}});var r=n(26520),l=n(25702);function getDialogTitleUtilityClass(e){return(0,l.Z)("MuiDialogTitle",e)}let i=(0,r.Z)("MuiDialogTitle",["root"]);t.Z=i},73701:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(20791),l=n(13428),i=n(2265),s=n(57042),a=n(95600),o=n(65969),d=n(87927),c=n(35843),u=n(26520),p=n(25702);function getTableUtilityClass(e){return(0,p.Z)("MuiTable",e)}(0,u.Z)("MuiTable",["root","stickyHeader"]);var x=n(57437);let h=["className","component","padding","size","stickyHeader"],useUtilityClasses=e=>{let{classes:t,stickyHeader:n}=e;return(0,a.Z)({root:["root",n&&"stickyHeader"]},getTableUtilityClass,t)},m=(0,c.ZP)("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,n.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>(0,l.Z)({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":(0,l.Z)({},e.typography.body2,{padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},t.stickyHeader&&{borderCollapse:"separate"})),f="table",v=i.forwardRef(function(e,t){let n=(0,d.Z)({props:e,name:"MuiTable"}),{className:a,component:c=f,padding:u="normal",size:p="medium",stickyHeader:v=!1}=n,g=(0,r.Z)(n,h),Z=(0,l.Z)({},n,{component:c,padding:u,size:p,stickyHeader:v}),b=useUtilityClasses(Z),y=i.useMemo(()=>({padding:u,size:p,stickyHeader:v}),[u,p,v]);return(0,x.jsx)(o.Z.Provider,{value:y,children:(0,x.jsx)(m,(0,l.Z)({as:c,role:c===f?null:"table",ref:t,className:(0,s.Z)(b.root,a),ownerState:Z},g))})});var g=v},39279:function(e,t,n){"use strict";n.d(t,{Z:function(){return Z}});var r=n(13428),l=n(20791),i=n(2265),s=n(57042),a=n(95600),o=n(28232),d=n(87927),c=n(35843),u=n(26520),p=n(25702);function getTableBodyUtilityClass(e){return(0,p.Z)("MuiTableBody",e)}(0,u.Z)("MuiTableBody",["root"]);var x=n(57437);let h=["className","component"],useUtilityClasses=e=>{let{classes:t}=e;return(0,a.Z)({root:["root"]},getTableBodyUtilityClass,t)},m=(0,c.ZP)("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),f={variant:"body"},v="tbody",g=i.forwardRef(function(e,t){let n=(0,d.Z)({props:e,name:"MuiTableBody"}),{className:i,component:a=v}=n,c=(0,l.Z)(n,h),u=(0,r.Z)({},n,{component:a}),p=useUtilityClasses(u);return(0,x.jsx)(o.Z.Provider,{value:f,children:(0,x.jsx)(m,(0,r.Z)({className:(0,s.Z)(p.root,i),as:a,ref:t,role:a===v?null:"rowgroup",ownerState:u},c))})});var Z=g},66988:function(e,t,n){"use strict";n.d(t,{Z:function(){return Z}});var r=n(13428),l=n(20791),i=n(2265),s=n(57042),a=n(95600),o=n(28232),d=n(87927),c=n(35843),u=n(26520),p=n(25702);function getTableHeadUtilityClass(e){return(0,p.Z)("MuiTableHead",e)}(0,u.Z)("MuiTableHead",["root"]);var x=n(57437);let h=["className","component"],useUtilityClasses=e=>{let{classes:t}=e;return(0,a.Z)({root:["root"]},getTableHeadUtilityClass,t)},m=(0,c.ZP)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),f={variant:"head"},v="thead",g=i.forwardRef(function(e,t){let n=(0,d.Z)({props:e,name:"MuiTableHead"}),{className:i,component:a=v}=n,c=(0,l.Z)(n,h),u=(0,r.Z)({},n,{component:a}),p=useUtilityClasses(u);return(0,x.jsx)(o.Z.Provider,{value:f,children:(0,x.jsx)(m,(0,r.Z)({as:a,className:(0,s.Z)(p.root,i),ref:t,role:a===v?null:"rowgroup",ownerState:u},c))})});var Z=g},81922:function(e,t,n){var r=n(33074);e.exports=function(e,t){var n=[];return r(e,function(e,r,l){t(e,r,l)&&n.push(e)}),n}},77434:function(e,t,n){var r=n(14822),l=n(81922),i=n(57322),s=n(12068);e.exports=function(e,t){return(s(e)?r:l)(e,i(t,3))}},29391:function(e,t,n){Promise.resolve().then(n.bind(n,56126))},56126:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return page}});var r,l,i=n(57437),s=n(26371),a=n(23785),o=n(2265),d=n(92e3),c=n(30666),u=n(52653),p=n(74309),x=n(4856),h=n(19959),m=n(96283),f=n(66615),v=n(57958),g=n(40542),Z=n(98488),credential_CredentialTableRow=function(e){let{credential:t,onOpenMenu:n,onMenuClickAway:r,onClickEdit:l,onClickDelete:s}=e,[a]=(0,g.V)(v.Bx),b=null==a?void 0:a.profile(),[y,C]=(0,o.useState)(null),j=(0,d.useRouter)(),handleCellClick=e=>{b.setActiveCredential(e),j.push("/credentials/list")},handleClickMenu=e=>{var t;switch(e.stopPropagation(),e.preventDefault(),handleCloseMenu(),null===(t=e.currentTarget)||void 0===t?void 0:t.getAttribute("value")){case"edit":l();break;case"delete":s()}},handleCloseMenu=()=>{C(null)};return(0,i.jsx)(h.m,{props:{hover:!0},onClick:()=>handleCellClick(t),className:"h-[3rem] cursor-pointer",avatar:(0,i.jsx)(m.J,{credential:t,width:36,height:36}),rowCells:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.Z,{children:t.getDisplayableTitle()}),(0,i.jsx)(c.Z,{align:"center",children:t.getDisplayValue()}),(0,i.jsx)(c.Z,{align:"center",children:(null==a?void 0:a.did)==t.getIssuer()?"Myself":(0,f.L)(t.getIssuer())}),(0,i.jsxs)(c.Z,{align:"center",children:[(0,i.jsx)(u.Z,{size:"small",color:"inherit",onClick:e=>{e.stopPropagation(),e.preventDefault(),C(e.currentTarget),n(t)},children:(0,i.jsx)(x.Z,{})}),(0,i.jsxs)(Z.Z,{popperProps:{open:!!y,anchorEl:y,placement:"bottom-end"},handleClickAway:()=>{r(),handleCloseMenu()},children:[(0,i.jsx)(p.Z,{value:"edit",onClick:handleClickMenu,children:"Edit"}),(0,i.jsx)(p.Z,{value:"delete",sx:{color:"error.main"},onClick:handleClickMenu,children:"Delete"})]})]})]})})},b=n(78491),y=n(66267),C=n(1460),j=n(83129),k=n(92820),w=n(12861),T=n(15707),D=n(29166),M=n(29439),N=n(70906),P=n(97716),U=n(2899),S=n(58991),E=n(13457),R=n(43226),A=n(96507),I=n(81679),F=n(98489),L=n(88938),V=n(19739),z=n(59898),H=n(36079),W=n(14776),B=n(77434),O=n.n(B),K=n(61396),$=n.n(K),_=n(63510);(r=l||(l={})).NAME="name",r.VALUE="value";let DIDTextBox=e=>{let{did:t,sx:n}=e;return(0,i.jsxs)(E.Z,{direction:"row",alignItems:"center",sx:n,children:[(0,i.jsx)(R.Z,{variant:"body2",className:"break-all",children:t}),(0,i.jsx)(a.qi,{text:t})]})};var page=()=>{var e,t;let n="ProfilePage",[r]=(0,g.V)(v.Bx),[u]=(0,g.V)(W.jU),[p]=(0,g.V)(null==u?void 0:u.get("identity").regularIdentities$),x=null==r?void 0:r.credentials(),m=null==r?void 0:r.profile(),[f]=(0,g.V)(null==m?void 0:m.name$),[Z]=(0,g.V)(null==m?void 0:m.profileCredentials$),{mounted:B}=(0,P.s)(),K=(0,d.useRouter)(),[J]=(0,g.V)(null==m?void 0:m.avatarCredential$),{unlockerIsIdle:G,unlockerIsCancelled:X}=(0,N.NX)(),[Y,q]=(0,o.useState)(null),[Q,ee]=(0,o.useState)(!1),[et,en]=(0,o.useState)(null),[er,el]=(0,o.useState)(""),{showSuccessToast:ei,showErrorToast:es}=(0,V.p)(),[ea,eo]=(0,o.useState)(0),[ed,ec]=(0,o.useState)("asc"),[eu,ep]=(0,o.useState)(l.NAME),[ex,eh]=(0,o.useState)(""),[em,ef]=(0,o.useState)(5),[ev,eg]=(0,o.useState)(!1),[eZ,eb]=(0,o.useState)(!1),ey=r&&"https://eid.elastos.io/did?did=".concat(encodeURIComponent(r.did),"&is_did=true"),showFeedbackToast=(e,t,n)=>{e?ei(t):es(n)},handleEditCredentialDialogClose=async e=>{if(ee(!1),e&&e.value&&e.type==k.b1.EDIT&&e.originCredential){let t=!1;try{t=!!await m.updateProfileCredential(e.originCredential,e.value)}catch(e){H.k.error(n,"Update credential error",e)}showFeedbackToast(t,"Entry has been updated!","Failed to update the entry...")}},onOpenMenu=e=>{q(e)},onMenuClickAway=()=>{q(null)},handleAvatarFileChanged=async e=>{eb(!0),await m.upsertIdentityAvatar(e),eb(!1)};function descendingComparator(e,t,n){switch(n){case"name":return t.getDisplayableTitle().localeCompare(e.getDisplayableTitle());case"value":{var r,l;let n=(null===(r=e.getDisplayValue())||void 0===r?void 0:r.label)?e.getDisplayValue().label:e.getDisplayValue(),i=(null===(l=t.getDisplayValue())||void 0===l?void 0:l.label)?t.getDisplayValue().label:t.getDisplayValue();return null==i?void 0:i.localeCompare(n)}}}let eC=function(e,t,n){let r=null==e?void 0:e.filter(e=>{let t=e.getFragment();return"avatar"!==t}),l=null==r?void 0:r.map((e,t)=>[e,t]);return(null==l||l.sort((e,n)=>{let r=t(e[0],n[0]);return 0!==r?r:e[1]-n[1]}),n)?O()(r,e=>-1!==e.verifiableCredential.getId().getFragment().toLowerCase().indexOf(n.toLowerCase())):null==l?void 0:l.map(e=>e[0])}(Z,"desc"===ed?(e,t)=>descendingComparator(e,t,eu):(e,t)=>-descendingComparator(e,t,eu),ex),ej=!(null==eC?void 0:eC.length)&&!!ex,onClickDeleteCredential=()=>{eg(!0)},onClickEditCredential=()=>{ee(!0);let e=(0,z.m7)(Y.verifiableCredential.getType());en(e),el(Y.verifiableCredential.getSubject().getProperty(e.key))},handleCloseDialog=async e=>{if(eg(!1),!e)return;let t=!1;try{t=await x.deleteCredential(Y)}catch(e){H.k.error(n,e)}showFeedbackToast(t,"Entry has been deleted","Failed to delete the entry...")};return(0,i.jsxs)("div",{className:"col-span-full",children:[(0,i.jsx)(T.Z,{title:"My Profile",description:"Each profile item in the list below represents a distinct credential securely stored within your digital identity. These credentials can be shared with apps, subject to your consent. Your unique signature accompanies each credential, assuring its origin and integrity when shared.",showBg:!0}),(0,i.jsx)(A.Z,{component:"form",sx:{"& .MuiTextField-root":{m:1,width:"25ch"}},noValidate:!0,autoComplete:"off",className:"mb-4",children:(0,i.jsxs)(E.Z,{direction:{xs:"column",md:"row"},spacing:2,children:[(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsx)("div",{className:"flex items-center",children:!G||B&&p?(0,i.jsx)(i.Fragment,{children:r&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(b.L,{credential:J,width:80,height:80,onFileUpload:handleAvatarFileChanged,updating:eZ,disabled:!Z}),(0,i.jsxs)("div",{className:"flex flex-col ml-4",children:[(0,i.jsx)("div",{className:"flex pb-2",children:(0,i.jsx)(A.Z,{className:"rounded-sm bg-[#9291A5] flex",sx:{px:1.5,py:.25},children:(0,i.jsx)(R.Z,{variant:"caption",fontSize:"7pt",children:"ACTIVE IDENTITY"})})}),(0,i.jsx)(R.Z,{variant:"h4",children:f||"Unnamed identity"}),(0,i.jsx)(DIDTextBox,{did:null==r?void 0:null===(e=r.did)||void 0===e?void 0:e.toString(),sx:{display:{xs:"none",sm:"flex"}}})]})]})}):(0,i.jsx)(D._H,{})}),(0,i.jsx)(DIDTextBox,{did:null==r?void 0:null===(t=r.did)||void 0===t?void 0:t.toString(),sx:{display:{xs:"flex",sm:"none"}}})]}),(0,i.jsxs)("div",{className:"flex flex-col justify-center items-end gap-1",children:[(0,i.jsxs)(E.Z,{className:"w-full",direction:{xs:"column",sm:"row"},spacing:{xs:1,sm:2},children:[(0,i.jsx)(w.Z,{id:"credential-search",size:"small",placeholder:"Search",className:"mr-4 rounded",onChange:e=>{eo(0),eh(e.target.value)},startAdornment:(0,i.jsx)(I.Z,{position:"start",children:(0,i.jsx)(S.Z,{})})}),(0,i.jsx)(_.Z,{identity:r})]}),(0,i.jsx)("div",{className:"flex flex-1 gap-1 items-end",children:(0,i.jsxs)("div",{className:"inline-flex",children:[(0,i.jsx)(a.UO,{size:"small",endIcon:(0,i.jsx)(U.Z,{}),onClick:()=>{K.push("/identities")},children:"Show all identities"}),!!ey&&(0,i.jsx)($(),{target:"_blank",href:ey,passHref:!0,children:(0,i.jsx)(a.UO,{size:"small",endIcon:(0,i.jsx)(U.Z,{}),children:"View on blockchain explorer"})})]})})]})]})}),(0,i.jsx)(j.Z,{title:(0,i.jsxs)("div",{className:"inline-flex items-center",children:[(0,i.jsx)(y.C,{children:(0,i.jsx)("div",{className:"w-4 h-4 flex justify-center",children:(0,i.jsx)(s.Z,{})})}),(0,i.jsx)("span",{className:"pl-2",children:"Credentials"})]}),showAllAction:()=>{K.push("/credentials/list")},children:(0,i.jsx)(h.J,{headCells:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.Z,{children:"PROFILE ITEM"}),(0,i.jsx)(c.Z,{align:"center",children:"DETAIL"}),(0,i.jsx)(c.Z,{align:"center",children:"ISSUED BY"}),(0,i.jsx)(c.Z,{sx:{width:0}})]}),bodyRows:B&&p&&(!r||eC)?(0,i.jsx)(i.Fragment,{children:r&&eC.length?null==eC?void 0:eC.slice(ea*em,ea*em+em).map(e=>(0,i.jsx)(credential_CredentialTableRow,{credential:e,onOpenMenu:onOpenMenu,onMenuClickAway:onMenuClickAway,onClickEdit:onClickEditCredential,onClickDelete:onClickDeleteCredential},e.id)):(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(F.Z,{children:(0,i.jsx)(c.Z,{component:"th",colSpan:6,align:"center",children:ej?(0,i.jsxs)(R.Z,{variant:"body1",children:["No results found for \xa0",(0,i.jsxs)("strong",{children:['"',ex,'"']}),".",(0,i.jsx)("br",{})," Try checking for typos or using complete words."]}):(0,i.jsx)(R.Z,{variant:"body1",children:'No profile credential found. View all your credentials from "All credentials".'})})})})}):[,,,].fill(0).map((e,t)=>(0,i.jsx)(D.IT,{colSpan:4},t))})}),(0,i.jsx)(L.Z,{children:X&&(!Z||!B)&&(0,i.jsx)(M.d,{className:"mt-4"})}),(0,i.jsx)(C.Z,{title:"Delete this Credential?",content:"Do you want to delete this Credential?",open:ev,onClose:handleCloseDialog}),(0,i.jsx)(k.ZP,{credentialInfo:et,defaultValue:er,type:k.b1.EDIT,open:Q,originCredential:Y,onClose:handleEditCredentialDialogClose})]})}},80072:function(e,t,n){"use strict";var r=n(57437),l=n(2265),i=n(35843),s=n(71711),a=n(52653),o=n(81679),d=n(49605),c=n(4193),u=n(57042);let p=(0,i.ZP)(s.Z)(e=>{let{theme:t}=e;return{input:{color:"white",marginTop:{xs:16,sm:20},[t.breakpoints.down("sm")]:{marginTop:16},[t.breakpoints.up("sm")]:{marginTop:20}}}}),x=(0,i.ZP)(a.Z)(e=>{let{theme:t}=e;return{color:"white"}});t.Z=e=>{let{outerProps:t={},inputProps:n={}}=e,[i,s]=l.useState(!1);return(0,r.jsx)(p,{...t,type:i?"input":"password",className:(0,u.Z)("password-input",!i&&"redacted"),inputProps:{maxLength:100,...n},startAdornment:(0,r.jsx)(o.Z,{position:"start",className:"absolute"}),endAdornment:(0,r.jsx)(o.Z,{position:"end",children:(0,r.jsx)(x,{size:"small","aria-label":"toggle password visibility",onClick:()=>s(e=>!e),onMouseDown:e=>{e.preventDefault()},children:i?(0,r.jsx)(c.Z,{sx:{fontSize:{xs:20,sm:24}}}):(0,r.jsx)(d.Z,{sx:{fontSize:{xs:20,sm:24}}})})})})}},78491:function(e,t,n){"use strict";n.d(t,{L:function(){return EditableCredentialAvatar}});var r=n(57437),l=n(57042);let LoadingCircle_LoadingCircle=e=>{let{className:t,width:n,height:i}=e;return(0,r.jsx)("div",{className:(0,l.Z)("loading-circle",t),style:{...n&&{width:n},...i&&{height:i}},children:(0,r.jsx)("div",{className:"content",children:(0,r.jsx)("div",{className:"animated"})})})};var i=n(22440),s=n(96283);let EditableCredentialAvatar=e=>{let{credential:t,onFileUpload:n,width:a,height:o,updating:d=!1,disabled:c=!1}=e,onDrop=async e=>{if(!c&&(null==e?void 0:e.length)>0){let t=e[0];n(t)}},{getRootProps:u,getInputProps:p,isDragActive:x,isDragReject:h,fileRejections:m}=(0,i.uI)({multiple:!1,maxFiles:1,onDrop});return(0,r.jsxs)("div",{...!c&&u(),style:{...x&&{opacity:.72}},className:(0,l.Z)(!c&&"cursor-pointer"),children:[!c&&(0,r.jsx)("input",{...p()}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(s.J,{credential:t,width:a,height:o}),d&&(0,r.jsx)(LoadingCircle_LoadingCircle,{className:"absolute top-0 bottom-0 left-0 right-0"})]})]})}},49017:function(e,t,n){"use strict";var r=n(35843),l=n(84081);let i=(0,r.ZP)(l.Z)(e=>{let{theme:t}=e;return{".MuiInput-root":{marginTop:0,"&:before, &:after":{opacity:.18,borderColor:"dark"==t.palette.mode?"white":t.palette.primary.main}},".MuiInputBase-root.MuiInput-root:hover:not(.Mui-disabled, .Mui-error)":{"&:before, &:after":{opacity:.18,borderColor:"dark"==t.palette.mode?"white":t.palette.primary.main}},".MuiInput-root.Mui-focused":{"&:before, &:after":{opacity:.3}},".MuiInputLabel-root, .MuiInputLabel-root.Mui-focused:not(.Mui-error)":{color:"white",fontSize:"10px",transform:"unset",WebkitTransform:"unset"},"#holder-name":{fontWeight:600,fontSize:"15pt",textAlign:"center",caretColor:"white",color:"rgb(255 255 255 / 65%)"},".password-input.redacted":{fontFamily:"Redacted Script"},".MuiFormHelperText-root":{marginLeft:0,display:"none"},".MuiFormHelperText-root.Mui-error, .MuiFormHelperText-root.visible":{display:"block"}}});t.Z=i},83129:function(e,t,n){"use strict";var r=n(57437),l=n(2899),i=n(15133),s=n(96507),a=n(43226),o=n(35843),d=n(23785);let c=(0,o.ZP)(i.Z)(e=>{let{theme:t}=e;return{border:"1px solid #FFFFFF55",borderRadius:"0.5rem",background:"#1D1D1D",position:"relative","&:before":{opacity:.1,content:"''",position:"absolute",width:"100%",height:"200%",background:"linear-gradient(to bottom, rgba(163, 163, 163, 60%), rgba(255, 255, 255, 15%), transparent)",transform:"rotate(-30deg)",transformOrigin:"top left",top:0,right:"-40%"}}});t.Z=e=>{let{title:t,children:n,className:i="",able2ShowAll:o=!0,topRightSection:u=null,sx:p={},showAllAction:x=()=>{}}=e;return(0,r.jsxs)(c,{className:i,elevation:0,sx:p,children:[(0,r.jsxs)(s.Z,{className:"flex card-header",sx:{px:{xs:1.5,sm:3},py:{xs:1.5,sm:2}},children:[(0,r.jsx)(a.Z,{className:"flex-1",variant:"h6",fontWeight:600,children:t}),o?(0,r.jsx)(d.UO,{size:"small",endIcon:(0,r.jsx)(l.Z,{}),onClick:x,children:"Show all"}):u]}),(0,r.jsx)(s.Z,{className:"relative z-10",sx:{px:{xs:1.5,sm:3},pt:{xs:.5,sm:1},pb:{xs:1.5,sm:2}},children:n})]})}},19959:function(e,t,n){"use strict";n.d(t,{J:function(){return DetailTable},m:function(){return DetailTableRow}});var r=n(57437),l=n(98489),i=n(30666),s=n(73701),a=n(66988),o=n(39279);let DetailTableRow=e=>{let{avatar:t,rowCells:n,className:s="",props:a={},onClick:o=()=>{}}=e;return(0,r.jsxs)(l.Z,{...a,className:s,onClick:o,children:[(0,r.jsx)(i.Z,{padding:"none",sx:{width:0},children:t}),n]})},DetailTable=e=>{let{headCells:t,bodyRows:n}=e;return(0,r.jsxs)(s.Z,{size:"small",sx:{th:{border:0},thead:{background:"linear-gradient(to right, transparent, #4e4e4eb3 25%, #555555b3 50%, #4e4e4eb3 75%, transparent)",th:{px:1,fontSize:{xs:12,sm:15},lineHeight:{xs:"1.2rem",sm:"1.5rem"},fontWeight:"600"},"th:last-child":{textAlign:"right"}},tbody:{td:{px:1,py:0,wordBreak:"break-all"},"td:first-child":{border:0,pl:0,pr:1},"td:last-child":{textAlign:"right",pr:0},"tr:last-child":{td:{border:0}}}},children:[(0,r.jsx)(a.Z,{children:(0,r.jsxs)(l.Z,{children:[(0,r.jsx)(i.Z,{sx:{width:0}}),t]})}),(0,r.jsx)(o.Z,{children:n})]})}},9254:function(e,t,n){"use strict";n.d(t,{c:function(){return MainButton}});var r=n(57437),l=n(6882),i=n(49050),s=n(57042);let MainButton=e=>{let{leftIcon:t,size:n="medium",mode:a="default",onClick:o,children:d,busy:c=!1,disabled:u=!1,className:p}=e,x=(0,r.jsx)(l.Z,{size:16});return(0,r.jsx)("div",{className:(0,s.Z)("flex",p),children:(0,r.jsx)(i.Z,{className:"flex-1",startIcon:c?x:t,disabled:c||u,size:n,color:"default"===a?"primary":"error",variant:"contained",onClick:o,children:d})})}},29439:function(e,t,n){"use strict";n.d(t,{d:function(){return UnlockRetrier}});var r=n(57437),l=n(9254),i=n(57042),s=n(70906);let UnlockRetrier=e=>{let{className:t}=e,{retryUnlock:n}=(0,s.lJ)();return(0,r.jsxs)("div",{className:(0,i.Z)("flex flex-row items-center gap-2",t),children:[(0,r.jsx)("div",{children:"This content could not be unlocked, please retry"}),(0,r.jsx)(l.c,{onClick:()=>{n()},children:"Unlock personal data"})]})}},70906:function(e,t,n){"use strict";n.d(t,{au:function(){return UnlockKeyPromptContextProvider},lJ:function(){return useUnlockKeyPrompt},NX:function(){return useUnlockPromptState}});var r=n(57437),l=n(99267),i=n(66267),s=n(14504),a=n(40542),o=n(95815),d=n(94025),c=n(5253),u=n(64101),p=n(56176),x=n(22079),h=n(43226),m=n(96507),f=n(35843),v=n(7482),g=n(36079),Z=n(50707),b=n(14776),y=n(2265),C=n(39830),j=n(23785);let PasskeyPrompt=e=>{let{onConfirm:t,disabled:n}=e,[l]=(0,a.V)(b.jU),i=null==l?void 0:l.get("security"),onSubmit=async()=>{let e=await i.unlockPasskeyLocally();t(e)};return(0,r.jsx)(j.Kz,{id:"bind-ms",className:"w-11/12 sm:w-4/5",startIcon:(0,r.jsx)(C.JO,{icon:"material-symbols:passkey"}),disabled:n,onClick:onSubmit,children:"Unlock with passkey"})};var k=n(50819),w=n(49017),T=n(80072);let PasswordPrompt=e=>{let{onConfirm:t,disabled:n}=e,[l,i]=(0,y.useState)(""),s=(0,y.useRef)(null),submitPassword=e=>{if(e.preventDefault(),!s.current.value){s.current.focus();return}t(s.current.value)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("form",{onSubmit:submitPassword,children:(0,r.jsxs)(w.Z,{fullWidth:!0,children:[(0,r.jsx)(k.Z,{htmlFor:"pw",children:"PASSWORD"}),(0,r.jsx)(T.Z,{outerProps:{autoFocus:!0,disabled:n,onChange:e=>{i(e.target.value)}},inputProps:{ref:s}})]})}),(0,r.jsx)("div",{className:"p-2 pt-3 sm:pt-4 pb-0 text-center",children:(0,r.jsx)(j.Kz,{id:"bind-ms",className:"w-11/12 sm:w-4/5",disabled:n||!l.length,onClick:submitPassword,children:"Continue"})})]})};var D=n(51894),M=n(53946);let N=(0,y.createContext)({actions:null,setActions:null});function UnlockKeyPromptContextProvider(e){let[t,n]=(0,y.useState)(null);return(0,r.jsxs)(N.Provider,{value:{actions:t,setActions:n},children:[e.children,(0,r.jsx)(UnlockKeyPrompt,{})]})}let P=y.forwardRef(function(e,t){return(0,r.jsx)(p.Z,{ref:t,...e})}),U=(0,f.ZP)("div")(e=>{let{theme:t}=e;return{background:"linear-gradient(to right, #242424, #333 50%, transparent)"}}),UnlockKeyPrompt=()=>{let{actions:e,setActions:t}=(0,y.useContext)(N),[n]=(0,a.V)(b.jU),o=null==n?void 0:n.get("security"),[d]=(0,a.V)(null==o?void 0:o.passwordKeys$),[p]=(0,a.V)(null==o?void 0:o.passkeyKeys$),{promptMasterKeyUnlock:f}=useUnlockKeyPrompt(),hideDialog=()=>{t(null)};return(0,y.useEffect)(()=>{let e=M.lw.subscribe(e=>{e&&!e.handled&&(e.handled=!0,callWithUnlockHandler(e,f))});return()=>e.unsubscribe()},[f]),(0,r.jsx)(x.Z,{open:!!e,disablePortal:!0,onClose:()=>{var t;null===(t=e.onUnlockKey)||void 0===t||t.call(e,null),hideDialog()},TransitionComponent:P,PaperProps:{sx:{backgroundImage:"none"}},children:(0,r.jsxs)("div",{className:"p-4 sm:p-6",children:[(0,r.jsxs)(U,{className:"flex items-center gap-x-2 px-4 py-2",children:[(0,r.jsx)(i.C,{children:(0,r.jsx)(u.Z,{fontSize:"small"})}),(0,r.jsx)(h.Z,{variant:"h6",className:"ml-4",children:"Screen content is locked!"})]}),(0,r.jsx)(h.Z,{variant:"body1",className:"px-4 py-2",children:"Enter password or authenticate passkey to unlock the screen."}),(0,r.jsx)(l.CA,{className:"relative w-full mt-4 md:pb-2",children:(0,r.jsx)("div",{className:"absolute inset-0 p-2",children:(0,r.jsx)("div",{className:"dashed-body w-full h-full rounded-2xl p-1.5 flex items-center",children:(0,r.jsx)(m.Z,{className:"w-full",sx:{px:{xs:1.5,sm:3},py:{xs:0,sm:4}},children:(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)(PasswordPrompt,{onConfirm:t=>{var n;null===(n=e.onUnlockKey)||void 0===n||n.call(e,{type:c.J.PASSWORD,keyId:"unused-for-now-for-passwords",key:t}),hideDialog()},disabled:(null==d?void 0:d.length)==0}),(0,r.jsxs)("div",{className:"p-2 pt-0 text-center",children:[(0,r.jsx)(m.Z,{sx:{py:{xs:1,sm:2}},children:(0,r.jsx)(s.Z,{text:"or browser authentication"})}),(0,r.jsx)(PasskeyPrompt,{onConfirm:t=>{var n;null===(n=e.onUnlockKey)||void 0===n||n.call(e,t),hideDialog()},disabled:(null==p?void 0:p.length)==0})]})]})})})})})]})})};function useUnlockPromptState(){let[e]=(0,a.V)(M.Mn),[t,n]=(0,y.useState)(!0),[r,l]=(0,y.useState)(!1);return(0,y.useEffect)(()=>{switch(e){case M.xb.Idle:n(!0),l(!1);break;case M.xb.UnlockCancelled:n(!1),l(!0)}},[e]),{unlockerIsIdle:t,unlockerIsCancelled:r}}let useUnlockKeyPrompt=()=>{let{setActions:e}=(0,y.useContext)(N),[t]=(0,a.V)(b.jU);return{promptMasterKeyUnlock:()=>new Promise(t=>{e({onUnlockKey:t})}),retryUnlock:()=>(0,D.H)(()=>t.get("security").checkRemoteUnlockStatus())}};async function callWithUnlockHandler(e,t){try{let t=await e.method();e.resolve(t)}catch(n){if(n instanceof o._){if((0,Z.z)(n)){g.k.warn("security","This method call requires unlock authorization from the user. Prompting");let n=await t();if(n){await (0,v.wo)(n);let t=await (0,D.H)(e.method,e.silentCancellation,e.defaultValue,!1);e.resolve(t)}else M.Mn.next(M.xb.UnlockCancelled),g.k.warn("security","Unlock operation cancelled by user"),e.reject(o._.newClientError(d.XF.UnlockKeyCancelled,"CANCELLED"))}else e.reject(n)}else g.k.error("security","Unhandled callWithUnlock() non app exception (will get stuck):",n)}}},14504:function(e,t,n){"use strict";var r=n(57437),l=n(57042),i=n(54986),s=n(43226),a=n(35843);let o=(0,a.ZP)(i.Z)(e=>{let{theme:t}=e;return{"&:before, &:after":{borderTopColor:"#C4C4C4"}}});t.Z=e=>{let{text:t,textClassName:n=""}=e;return(0,r.jsx)(o,{children:(0,r.jsx)(s.Z,{variant:"caption",className:(0,l.Z)("px-4 font-bold text-white",n),children:t})})}},66615:function(e,t,n){"use strict";function shortenDID(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=e.split(":");if(n.length<3)return e;let r=n[2];if(r.length<=2*t)return e;let l="".concat(r.substr(0,t),"...").concat(r.substr(-t));return"".concat(n[0],":").concat(n[1],":").concat(l)}n.d(t,{L:function(){return shortenDID}})}},function(e){e.O(0,[6990,9787,9443,8218,3988,3861,6506,8644,9490,9830,1711,1510,6953,378,5951,1396,2e3,8599,3474,3451,1662,8874,1869,6691,3989,4671,265,9008,3378,7056,3662,2971,7864,1744],function(){return e(e.s=29391)}),_N_E=e.O()}]);