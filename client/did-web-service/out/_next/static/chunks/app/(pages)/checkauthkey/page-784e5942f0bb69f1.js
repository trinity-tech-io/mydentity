(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7083],{94802:function(e,t,r){Promise.resolve().then(r.bind(r,29121))},29121:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return v}});var i=r(57437),n=r(29281),a=r(43226),s=r(16421),u=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;let c=[];for(let e=0;e<256;++e)c.push((e+256).toString(16).slice(1));var l=function(e,t=0){let r=function(e,t=0){return c[e[t+0]]+c[e[t+1]]+c[e[t+2]]+c[e[t+3]]+"-"+c[e[t+4]]+c[e[t+5]]+"-"+c[e[t+6]]+c[e[t+7]]+"-"+c[e[t+8]]+c[e[t+9]]+"-"+c[e[t+10]]+c[e[t+11]]+c[e[t+12]]+c[e[t+13]]+c[e[t+14]]+c[e[t+15]]}(e,t);if(!("string"==typeof r&&u.test(r)))throw TypeError("Stringified UUID is invalid");return r},o=r(67133).Buffer,f=void 0!==o?e=>o.from(e,"base64"):e=>Uint8Array.from(atob(e),e=>e.charCodeAt(0)),h=r(24033),d=r(2265),p=r(19162),m=r(47101),y=r(63863),v=()=>{let e=(0,h.useSearchParams)(),t=e.get("key"),r=t?l(f(t.replace(/-/g,"+").replace(/_/g,"/")+"==")):null,[u,c]=(0,d.useState)(!1),[o,v]=(0,d.useState)(!1),b=(0,h.useRouter)();return(0,d.useEffect)(()=>{r&&((0,s.jF)()?(v(!0),y.lu.checkRawEmailBind(r).then(e=>{e?m.L.createActivity({type:n.T.BIND_EMAIL,userEmailProvider:p.M.RAW}).then(e=>{b.push("/account/security")}).catch(e=>{b.push("/account/security")}):c(!0)})):(0,s.kv)(r).then(e=>{e?m.L.createActivity({type:n.T.USER_SIGN_IN,userEmailProvider:p.M.RAW}).then(e=>{b.push("/dashboard")}).catch(e=>{b.push("/dashboard")}):c(!0)}))},[r,b]),(0,i.jsxs)("div",{className:"m-20 w-full",children:[!u&&(0,i.jsxs)(a.Z,{variant:"h4",className:"w-full text-center",children:[o?"Bind email":"Sign In","..."]}),u&&(0,i.jsxs)(a.Z,{variant:"h6",className:"w-full text-center",children:["Sorry, unable to ",o?"bind your email":"sign you in",". Your magic link is possibly expired."]})]})}},24033:function(e,t,r){e.exports=r(68165)}},function(e){e.O(0,[6990,3988,395,5295,1510,4440,6171,8098,1385,2971,596,1744],function(){return e(e.s=94802)}),_N_E=e.O()}]);