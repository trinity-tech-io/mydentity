(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1112],{29872:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(20791),a=n(13428),o=n(2265),i=n(57042),s=n(95600),l=n(89975),u=n(35843),styles_getOverlayAlpha=e=>((e<1?5.11916*e**2:4.5*Math.log(e+1)+2)/100).toFixed(2),d=n(87927),c=n(26520),v=n(25702);function getPaperUtilityClass(e){return(0,v.Z)("MuiPaper",e)}(0,c.Z)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var g=n(57437);let f=["className","component","elevation","square","variant"],useUtilityClasses=e=>{let{square:t,elevation:n,variant:r,classes:a}=e,o={root:["root",r,!t&&"rounded","elevation"===r&&`elevation${n}`]};return(0,s.Z)(o,getPaperUtilityClass,a)},p=(0,u.ZP)("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t[`elevation${n.elevation}`]]}})(({theme:e,ownerState:t})=>{var n;return(0,a.Z)({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},"outlined"===t.variant&&{border:`1px solid ${(e.vars||e).palette.divider}`},"elevation"===t.variant&&(0,a.Z)({boxShadow:(e.vars||e).shadows[t.elevation]},!e.vars&&"dark"===e.palette.mode&&{backgroundImage:`linear-gradient(${(0,l.Fq)("#fff",styles_getOverlayAlpha(t.elevation))}, ${(0,l.Fq)("#fff",styles_getOverlayAlpha(t.elevation))})`},e.vars&&{backgroundImage:null==(n=e.vars.overlays)?void 0:n[t.elevation]}))}),w=o.forwardRef(function(e,t){let n=(0,d.Z)({props:e,name:"MuiPaper"}),{className:o,component:s="div",elevation:l=1,square:u=!1,variant:c="elevation"}=n,v=(0,r.Z)(n,f),w=(0,a.Z)({},n,{component:s,elevation:l,square:u,variant:c}),h=useUtilityClasses(w);return(0,g.jsx)(p,(0,a.Z)({as:s,ownerState:w,className:(0,i.Z)(h.root,o),ref:t},v))});var h=w},28041:function(e,t,n){Promise.resolve().then(n.bind(n,45843))},45843:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return page}});var r=n(57437),a=n(9254),o=n(40542),i=n(66563),s=n(19739),l=n(14776),u=n(24033),d=n(2265);let MasterPasswordInput=e=>{let{onValidConfirmation:t,title:n}=e,[c]=(0,o.V)(l.jU);null==c||c.get("security");let[v,g]=(0,d.useState)(!1),[f,p]=(0,d.useState)(!1),{showSuccessToast:w}=(0,s.p)();(0,u.useRouter)();let h=(0,d.createRef)(),m=(0,d.createRef)(),bindPassword=async()=>{let e=h.current.value;p(!0),await t(e),p(!1)},refreshPasswordValidity=()=>{let e=h.current.value,t=m.current.value;g(e.length>0&&e===t)};return(0,r.jsxs)("div",{className:"flex flex-row mt-4 gap-2",children:[(0,r.jsx)(i.Z,{label:"New password",inputRef:h,variant:"outlined",size:"small",onChangeCapture:refreshPasswordValidity}),(0,r.jsx)(i.Z,{label:"Confirm password",inputRef:m,variant:"outlined",size:"small",onChangeCapture:refreshPasswordValidity}),(0,r.jsx)(a.c,{onClick:bindPassword,busy:f,disabled:!v,children:n})]})};var c=n(97716),v=n(43226),g=n(63491),page=()=>{let{mounted:e}=(0,c.s)(),[t]=(0,o.V)(l.jU),n=null==t?void 0:t.get("security"),{showSuccessToast:a}=(0,s.p)();(0,u.useRouter)();let{navigateToPostSignInLandingPage:i}=(0,g.vX)(),bindPassword=async e=>{let t=await n.bindPassword(e);t&&(a("Master password successfully created"),setTimeout(()=>{i()},2e3))};return(0,r.jsxs)("div",{className:"col-span-full",children:[(0,r.jsx)(v.Z,{variant:"h4",children:"Your master password"}),(0,r.jsxs)("p",{children:["You're almost there. You now need a master password that will be used to lock your identities content. ",(0,r.jsx)("br",{}),"Quick takeaways:"]}),(0,r.jsxs)("ul",{className:"mt-6",children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("b",{children:"Our service doesn't store your password"})," in clear, and cannot do anything over your data without your consent."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("b",{children:"Don't loose your password"}),", there is no way to recover it."]})]}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),e&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(v.Z,{variant:"h5",children:"Bind a master password"}),(0,r.jsx)(MasterPasswordInput,{onValidConfirmation:bindPassword,title:"Create master password"})]})]})}},9254:function(e,t,n){"use strict";n.d(t,{c:function(){return MainButton}});var r=n(57437),a=n(6882),o=n(49050),i=n(57042);let MainButton=e=>{let{leftIcon:t,size:n="medium",mode:s="default",onClick:l,children:u,busy:d=!1,disabled:c=!1,className:v}=e,g=(0,r.jsx)(a.Z,{size:16});return(0,r.jsx)("div",{className:(0,i.Z)("flex",v),children:(0,r.jsx)(o.Z,{className:"flex-1",startIcon:d?g:t,disabled:d||c,size:n,color:"default"===s?"primary":"error",variant:"contained",onClick:l,children:u})})}},40542:function(e,t,n){"use strict";n.d(t,{V:function(){return useBehaviorSubject}});var r=n(2265);let useBehaviorSubject=e=>{let[t,n]=(0,r.useState)(null==e?void 0:e.getValue()),[a,o]=(0,r.useState)();return(0,r.useEffect)(()=>{if(!e){n(null);return}let t=e.subscribe({next:e=>{n(e)},error:o});return()=>t.unsubscribe()},[e]),[t]}},97716:function(e,t,n){"use strict";n.d(t,{s:function(){return useMounted}});var r=n(2265);let useMounted=()=>{let[e,t]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{t(!0)},[]),{mounted:e}}},19739:function(e,t,n){"use strict";n.d(t,{p:function(){return useToast}});var r=n(36953);function useToast(){let{enqueueSnackbar:e}=(0,r.Ds)();return{showSuccessToast:t=>{e(t,{variant:"success"})},showErrorToast:t=>{e(t,{variant:"error"})}}}},63491:function(e,t,n){"use strict";n.d(t,{$Y:function(){return setOnGoingFlowOperation},Ad:function(){return clearPostSignInUrl},Kt:function(){return getOnGoingFlowOperation},cX:function(){return a},fK:function(){return clearOnGoingFlowOperation},qC:function(){return setPostSignInUrl},vX:function(){return usePostSignInFlow}});var r,a,o=n(92e3),i=n(36079);(r=a||(a={}))[r.OnBoardingEmailBinding=0]="OnBoardingEmailBinding",r[r.OnBoardingBrowserBinding=1]="OnBoardingBrowserBinding",r[r.EmailSignIn=2]="EmailSignIn";let s="ongoingflowoperation",l="postsigninurl";function getOnGoingFlowOperation(){return a[localStorage.getItem(s)]}function setOnGoingFlowOperation(e){localStorage.setItem(s,a[e])}function clearOnGoingFlowOperation(){localStorage.removeItem(s)}function setPostSignInUrl(e){i.k.log("flow","Setting post sign in url to:",e),localStorage.setItem(l,e)}function clearPostSignInUrl(){i.k.log("flow","Clearing post sign in url"),localStorage.removeItem(l)}function usePostSignInFlow(){let e=(0,o.useRouter)();return{navigateToPostSignInLandingPage(t){let n=localStorage.getItem(l);if(n)i.k.log("flow","Navigating to post sign in landing page:",n),e.replace(n),clearPostSignInUrl();else{let n=t||"/dashboard";i.k.log("flow","Navigating to post sign in landing page ".concat(n)),e.push(n)}}}}}},function(e){e.O(0,[6990,9787,9443,8218,3988,395,5295,6506,8644,1510,1711,5146,1396,5054,2e3,4558,4881,1869,6563,7056,2971,7864,1744],function(){return e(e.s=28041)}),_N_E=e.O()}]);