(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3777,9513],{2899:function(e,t,r){"use strict";var i=r(26314);t.Z=void 0;var n=i(r(80984)),a=r(57437),l=(0,n.default)((0,a.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext");t.Z=l},64101:function(e,t,r){"use strict";var i=r(26314);t.Z=void 0;var n=i(r(80984)),a=r(57437),l=(0,n.default)((0,a.jsx)("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"}),"Security");t.Z=l},49605:function(e,t,r){"use strict";var i=r(26314);t.Z=void 0;var n=i(r(80984)),a=r(57437),l=(0,n.default)((0,a.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility");t.Z=l},4193:function(e,t,r){"use strict";var i=r(26314);t.Z=void 0;var n=i(r(80984)),a=r(57437),l=(0,n.default)((0,a.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff");t.Z=l},88938:function(e,t,r){"use strict";r.d(t,{Z:function(){return j}});var i=r(20791),n=r(13428),a=r(2265),l=r(57042),o=r(61380),s=r(25702),d=r(95600),c=r(48153),u=r(39190),p=r(84775),h=r(57437);let x=["className","component","disableGutters","fixed","maxWidth","classes"],f=(0,p.Z)(),m=(0,u.Z)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,t[`maxWidth${(0,o.Z)(String(r.maxWidth))}`],r.fixed&&t.fixed,r.disableGutters&&t.disableGutters]}}),useThemePropsDefault=e=>(0,c.Z)({props:e,name:"MuiContainer",defaultTheme:f}),useUtilityClasses=(e,t)=>{let{classes:r,fixed:i,disableGutters:n,maxWidth:a}=e,l={root:["root",a&&`maxWidth${(0,o.Z)(String(a))}`,i&&"fixed",n&&"disableGutters"]};return(0,d.Z)(l,e=>(0,s.Z)(t,e),r)};var b=r(28702),g=r(35843),v=r(87927);let y=function(e={}){let{createStyledComponent:t=m,useThemeProps:r=useThemePropsDefault,componentName:o="MuiContainer"}=e,s=t(({theme:e,ownerState:t})=>(0,n.Z)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!t.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}}),({theme:e,ownerState:t})=>t.fixed&&Object.keys(e.breakpoints.values).reduce((t,r)=>{let i=e.breakpoints.values[r];return 0!==i&&(t[e.breakpoints.up(r)]={maxWidth:`${i}${e.breakpoints.unit}`}),t},{}),({theme:e,ownerState:t})=>(0,n.Z)({},"xs"===t.maxWidth&&{[e.breakpoints.up("xs")]:{maxWidth:Math.max(e.breakpoints.values.xs,444)}},t.maxWidth&&"xs"!==t.maxWidth&&{[e.breakpoints.up(t.maxWidth)]:{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`}})),d=a.forwardRef(function(e,t){let a=r(e),{className:d,component:c="div",disableGutters:u=!1,fixed:p=!1,maxWidth:f="lg"}=a,m=(0,i.Z)(a,x),b=(0,n.Z)({},a,{component:c,disableGutters:u,fixed:p,maxWidth:f}),g=useUtilityClasses(b,o);return(0,h.jsx)(s,(0,n.Z)({as:c,ownerState:b,className:(0,l.Z)(g.root,d),ref:t},m))});return d}({createStyledComponent:(0,g.ZP)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,t[`maxWidth${(0,b.Z)(String(r.maxWidth))}`],r.fixed&&t.fixed,r.disableGutters&&t.disableGutters]}}),useThemeProps:e=>(0,v.Z)({props:e,name:"MuiContainer"})});var j=y},64173:function(e,t,r){"use strict";r.d(t,{Z:function(){return b}});var i=r(20791),n=r(13428),a=r(2265),l=r(57042),o=r(95600),s=r(35843),d=r(87927),c=r(43226),u=r(26520),p=r(25702);function getDialogContentTextUtilityClass(e){return(0,p.Z)("MuiDialogContentText",e)}(0,u.Z)("MuiDialogContentText",["root"]);var h=r(57437);let x=["children","className"],useUtilityClasses=e=>{let{classes:t}=e,r=(0,o.Z)({root:["root"]},getDialogContentTextUtilityClass,t);return(0,n.Z)({},t,r)},f=(0,s.ZP)(c.Z,{shouldForwardProp:e=>(0,s.FO)(e)||"classes"===e,name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({}),m=a.forwardRef(function(e,t){let r=(0,d.Z)({props:e,name:"MuiDialogContentText"}),{className:a}=r,o=(0,i.Z)(r,x),s=useUtilityClasses(o);return(0,h.jsx)(f,(0,n.Z)({component:"p",variant:"body1",color:"text.secondary",ref:t,ownerState:o,className:(0,l.Z)(s.root,a)},r,{classes:s}))});var b=m},73701:function(e,t,r){"use strict";r.d(t,{Z:function(){return g}});var i=r(20791),n=r(13428),a=r(2265),l=r(57042),o=r(95600),s=r(65969),d=r(87927),c=r(35843),u=r(26520),p=r(25702);function getTableUtilityClass(e){return(0,p.Z)("MuiTable",e)}(0,u.Z)("MuiTable",["root","stickyHeader"]);var h=r(57437);let x=["className","component","padding","size","stickyHeader"],useUtilityClasses=e=>{let{classes:t,stickyHeader:r}=e;return(0,o.Z)({root:["root",r&&"stickyHeader"]},getTableUtilityClass,t)},f=(0,c.ZP)("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,r.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>(0,n.Z)({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":(0,n.Z)({},e.typography.body2,{padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},t.stickyHeader&&{borderCollapse:"separate"})),m="table",b=a.forwardRef(function(e,t){let r=(0,d.Z)({props:e,name:"MuiTable"}),{className:o,component:c=m,padding:u="normal",size:p="medium",stickyHeader:b=!1}=r,g=(0,i.Z)(r,x),v=(0,n.Z)({},r,{component:c,padding:u,size:p,stickyHeader:b}),y=useUtilityClasses(v),j=a.useMemo(()=>({padding:u,size:p,stickyHeader:b}),[u,p,b]);return(0,h.jsx)(s.Z.Provider,{value:j,children:(0,h.jsx)(f,(0,n.Z)({as:c,role:c===m?null:"table",ref:t,className:(0,l.Z)(y.root,o),ownerState:v},g))})});var g=b},39279:function(e,t,r){"use strict";r.d(t,{Z:function(){return v}});var i=r(13428),n=r(20791),a=r(2265),l=r(57042),o=r(95600),s=r(28232),d=r(87927),c=r(35843),u=r(26520),p=r(25702);function getTableBodyUtilityClass(e){return(0,p.Z)("MuiTableBody",e)}(0,u.Z)("MuiTableBody",["root"]);var h=r(57437);let x=["className","component"],useUtilityClasses=e=>{let{classes:t}=e;return(0,o.Z)({root:["root"]},getTableBodyUtilityClass,t)},f=(0,c.ZP)("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),m={variant:"body"},b="tbody",g=a.forwardRef(function(e,t){let r=(0,d.Z)({props:e,name:"MuiTableBody"}),{className:a,component:o=b}=r,c=(0,n.Z)(r,x),u=(0,i.Z)({},r,{component:o}),p=useUtilityClasses(u);return(0,h.jsx)(s.Z.Provider,{value:m,children:(0,h.jsx)(f,(0,i.Z)({className:(0,l.Z)(p.root,a),as:o,ref:t,role:o===b?null:"rowgroup",ownerState:u},c))})});var v=g},66988:function(e,t,r){"use strict";r.d(t,{Z:function(){return v}});var i=r(13428),n=r(20791),a=r(2265),l=r(57042),o=r(95600),s=r(28232),d=r(87927),c=r(35843),u=r(26520),p=r(25702);function getTableHeadUtilityClass(e){return(0,p.Z)("MuiTableHead",e)}(0,u.Z)("MuiTableHead",["root"]);var h=r(57437);let x=["className","component"],useUtilityClasses=e=>{let{classes:t}=e;return(0,o.Z)({root:["root"]},getTableHeadUtilityClass,t)},f=(0,c.ZP)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),m={variant:"head"},b="thead",g=a.forwardRef(function(e,t){let r=(0,d.Z)({props:e,name:"MuiTableHead"}),{className:a,component:o=b}=r,c=(0,n.Z)(r,x),u=(0,i.Z)({},r,{component:o}),p=useUtilityClasses(u);return(0,h.jsx)(s.Z.Provider,{value:m,children:(0,h.jsx)(f,(0,i.Z)({as:o,className:(0,l.Z)(p.root,a),ref:t,role:o===b?null:"rowgroup",ownerState:u},c))})});var v=g},81922:function(e,t,r){var i=r(33074);e.exports=function(e,t){var r=[];return i(e,function(e,i,n){t(e,i,n)&&r.push(e)}),r}},77434:function(e,t,r){var i=r(14822),n=r(81922),a=r(57322),l=r(12068);e.exports=function(e,t){return(l(e)?i:n)(e,a(t,3))}},40649:function(e,t,r){Promise.resolve().then(r.bind(r,56126))},56126:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return page}});var i,n,a=r(57437),l=r(2265),o=r(92e3),s=r(61396),d=r.n(s),c=r(77434),u=r.n(c),p=r(2899),h=r(58991),x=r(96507),f=r(13457),m=r(43226),b=r(81679),g=r(30666),v=r(98489),y=r(88938),j=r(59500),Z=r(74309),w=r(26371),C=r(23785),k=r(66267),N=r(78723),P=r(83129),T=r(19959),M=r(92820),S=r(12861),U=r(15707),D=r(96479),_=r(29439),O=r(70906),R=r(40542),E=r(97716),I=r(19739),z=r(59898),F=r(57958),A=r(36079),W=r(50543);(i=n||(n={})).NAME="name",i.VALUE="value";var V=r(52653),L=r(4856),H=r(96283),B=r(66615),credential_CredentialTableRow=function(e){let{credential:t,handleOpenMenu:r}=e,[i]=(0,R.V)(F.Bx),n=null==i?void 0:i.profile();(0,l.useState)(null);let s=(0,o.useRouter)(),handleCellClick=e=>{n.setActiveCredential(e),s.push("/credentials/list")};return(0,a.jsx)(T.m,{props:{hover:!0},onClick:()=>handleCellClick(t),className:"h-[3rem] cursor-pointer",avatar:(0,a.jsx)(H.J,{credential:t,width:36,height:36}),rowCells:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g.Z,{children:t.getDisplayableTitle()}),(0,a.jsx)(g.Z,{align:"center",children:t.getDisplayValue()}),(0,a.jsx)(g.Z,{align:"center",children:(null==i?void 0:i.did)==t.getIssuer()?"Myself":(0,B.L)(t.getIssuer())}),(0,a.jsx)(g.Z,{align:"center",children:(0,a.jsx)(V.Z,{size:"small",color:"inherit",onClick:e=>{e.stopPropagation(),e.preventDefault(),r(e,t)},children:(0,a.jsx)(L.Z,{})})})]})})},K=r(83338),page=()=>{var e,t;let r="ProfilePage",[i]=(0,R.V)(F.Bx),s=null==i?void 0:i.credentials(),c=null==i?void 0:i.profile(),[V]=(0,R.V)(null==c?void 0:c.name$),[L]=(0,R.V)(null==c?void 0:c.profileCredentials$),{mounted:H}=(0,E.s)(),B=(0,o.useRouter)(),[$]=(0,R.V)(null==c?void 0:c.avatarCredential$),{unlockerIsIdle:G,unlockerIsCancelled:J}=(0,O.NX)(),[Y,q]=(0,l.useState)(null),[X,Q]=(0,l.useState)(!1),[ee,et]=(0,l.useState)(null),[er,ei]=(0,l.useState)(""),{showSuccessToast:en,showErrorToast:ea}=(0,I.p)(),[el,eo]=(0,l.useState)(null),[es,ed]=(0,l.useState)(0),[ec,eu]=(0,l.useState)("asc"),[ep,eh]=(0,l.useState)(n.NAME),[ex,ef]=(0,l.useState)(""),[em,eb]=(0,l.useState)(5),[eg,ev]=(0,l.useState)(!1),[ey,ej]=(0,l.useState)(!1),eZ=i&&"https://eid.elastos.io/did?did=".concat(encodeURIComponent(i.did),"&is_did=true"),showFeedbackToast=(e,t,r)=>{e?en(t):ea(r)},handleEditCredentialDialogClose=async e=>{if(Q(!1),e&&e.value&&e.type==M.b1.EDIT&&e.originCredential){let t=!1;try{t=!!await c.updateProfileCredential(e.originCredential,e.value)}catch(e){A.k.error(r,"Update credential error",e)}showFeedbackToast(t,"Entry has been updated!","Failed to update the entry...")}},handleOpenMenu=(e,t)=>{eo(e.currentTarget),q(t)},handleCloseMenu=()=>{eo(null)},handleAvatarFileChanged=async e=>{ej(!0),await c.upsertIdentityAvatar(e),ej(!1)};function descendingComparator(e,t,r){switch(r){case"name":return t.getDisplayableTitle().localeCompare(e.getDisplayableTitle());case"value":{var i,n;let r=(null===(i=e.getDisplayValue())||void 0===i?void 0:i.label)?e.getDisplayValue().label:e.getDisplayValue(),a=(null===(n=t.getDisplayValue())||void 0===n?void 0:n.label)?t.getDisplayValue().label:t.getDisplayValue();return null==a?void 0:a.localeCompare(r)}}}let ew=function(e,t,r){let i=null==e?void 0:e.filter(e=>{let t=e.getFragment();return"avatar"!==t}),n=null==i?void 0:i.map((e,t)=>[e,t]);return(null==n||n.sort((e,r)=>{let i=t(e[0],r[0]);return 0!==i?i:e[1]-r[1]}),r)?u()(i,e=>-1!==e.verifiableCredential.getId().getFragment().toLowerCase().indexOf(r.toLowerCase())):null==n?void 0:n.map(e=>e[0])}(L,"desc"===ec?(e,t)=>descendingComparator(e,t,ep):(e,t)=>-descendingComparator(e,t,ep),ex),eC=!(null==ew?void 0:ew.length)&&!!ex,handleCloseDialog=async e=>{if(ev(!1),!e)return;let t=!1;try{t=await s.deleteCredential(Y)}catch(e){A.k.error(r,e)}showFeedbackToast(t,"Entry has been deleted","Failed to delete the entry...")};return(0,a.jsxs)("div",{className:"col-span-full",children:[(0,a.jsx)(U.Z,{title:"My Profile",description:"Each profile item in the list below represents a distinct credential securely stored within your digital identity. These credentials can be shared with apps, subject to your consent. Your unique signature accompanies each credential, assuring its origin and integrity when shared.",showBg:!0}),(0,a.jsx)(x.Z,{component:"form",sx:{"& .MuiTextField-root":{m:1,width:"25ch"}},noValidate:!0,autoComplete:"off",className:"mb-4",children:(0,a.jsxs)(f.Z,{direction:"row",children:[(0,a.jsx)("div",{className:"flex flex-1 items-center",children:!G||H&&i?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(W.L,{credential:$,width:80,height:80,onFileUpload:handleAvatarFileChanged,updating:ey,disabled:!L}),(0,a.jsxs)("div",{className:"flex flex-col ml-4",children:[(0,a.jsx)("div",{className:"flex pb-2",children:(0,a.jsx)(x.Z,{className:"rounded-md bg-[#9291A5] text-[8pt] px-3 py-0.5 inline-block",children:"ACTIVE IDENTITY"})}),(0,a.jsx)(m.Z,{variant:"h4",children:V||"Unnamed identity"}),(0,a.jsxs)("div",{className:"inline-flex items-center",children:[(0,a.jsx)(m.Z,{variant:"body2",children:null==i?void 0:null===(e=i.did)||void 0===e?void 0:e.toString()}),(0,a.jsx)(C.qi,{text:null==i?void 0:null===(t=i.did)||void 0===t?void 0:t.toString()})]})]})]}):(0,a.jsx)(D._H,{})}),(0,a.jsxs)("div",{className:"ml-4 flex flex-col justify-center items-end gap-1",children:[(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(S.Z,{id:"credential-search",size:"small",placeholder:"Search",className:"mr-4 rounded",onChange:e=>{ed(0),ef(e.target.value)},startAdornment:(0,a.jsx)(b.Z,{position:"start",children:(0,a.jsx)(h.Z,{})})}),(0,a.jsx)(K.Z,{identity:i})]}),(0,a.jsx)("div",{className:"flex flex-1 gap-1 items-end",children:(0,a.jsxs)("div",{className:"inline-flex",children:[(0,a.jsx)(C.UO,{size:"small",endIcon:(0,a.jsx)(p.Z,{}),onClick:()=>{B.push("/identities")},children:"Show all identities"}),!!eZ&&(0,a.jsx)(d(),{target:"_blank",href:eZ,passHref:!0,children:(0,a.jsx)(C.UO,{size:"small",endIcon:(0,a.jsx)(p.Z,{}),children:"View on blockchain explorer"})})]})})]})]})}),(0,a.jsx)(P.Z,{title:(0,a.jsxs)("div",{className:"inline-flex items-center",children:[(0,a.jsx)(k.C,{children:(0,a.jsx)("div",{className:"w-4 h-4 flex justify-center",children:(0,a.jsx)(w.Z,{})})}),(0,a.jsx)("span",{className:"pl-2",children:"Credentials"})]}),showAllAction:()=>{},children:(0,a.jsx)("div",{className:"mb-1",children:(0,a.jsx)(T.J,{headCells:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g.Z,{children:"PROFILE ITEM"}),(0,a.jsx)(g.Z,{align:"center",children:"DETAIL"}),(0,a.jsx)(g.Z,{align:"center",children:"ISSUED BY"}),(0,a.jsx)(g.Z,{sx:{width:0}})]}),bodyRows:H&&ew?(0,a.jsx)(a.Fragment,{children:ew.length?null==ew?void 0:ew.slice(es*em,es*em+em).map(e=>(0,a.jsx)(credential_CredentialTableRow,{credential:e,handleOpenMenu:handleOpenMenu},e.id)):(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(v.Z,{children:(0,a.jsx)(g.Z,{component:"th",colSpan:6,align:"center",children:eC?(0,a.jsxs)(m.Z,{variant:"body1",children:["No results found for \xa0",(0,a.jsxs)("strong",{children:['"',ex,'"']}),".",(0,a.jsx)("br",{})," Try checking for typos or using complete words."]}):(0,a.jsx)(m.Z,{variant:"body1",children:"No credential found"})})})})}):[,,,].fill(0).map((e,t)=>(0,a.jsx)(D.IT,{colSpan:4},t))})})}),(0,a.jsx)(y.Z,{children:J&&(!L||!H)&&(0,a.jsx)(_.d,{className:"mt-4"})}),(0,a.jsxs)(j.ZP,{open:!!el,anchorEl:el,onClose:handleCloseMenu,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{sx:{p:1,width:140,"& .MuiMenuItem-root":{px:1,typography:"body2",borderRadius:.75}}},children:[(0,a.jsx)(Z.Z,{onClick:()=>{handleCloseMenu(),Q(!0);let e=(0,z.m7)(Y.verifiableCredential.getType());et(e),ei(Y.verifiableCredential.getSubject().getProperty(e.key))},children:"Edit"}),(0,a.jsx)(Z.Z,{sx:{color:"error.main"},onClick:()=>{handleCloseMenu(),ev(!0)},children:"Delete"})]}),(0,a.jsx)(N.Z,{title:"Delete this Credential?",content:"Do you want to delete this Credential?",open:eg,onClose:handleCloseDialog}),(0,a.jsx)(M.ZP,{credentialInfo:ee,defaultValue:er,type:M.b1.EDIT,open:X,originCredential:Y,onClose:handleEditCredentialDialogClose})]})}},80072:function(e,t,r){"use strict";var i=r(57437),n=r(2265),a=r(35843),l=r(71711),o=r(52653),s=r(81679),d=r(49605),c=r(4193),u=r(57042);let p=(0,a.ZP)(l.Z)(e=>{let{theme:t}=e;return{input:{color:"white",marginTop:20}}}),h=(0,a.ZP)(o.Z)(e=>{let{theme:t}=e;return{color:"white"}});t.Z=e=>{let{outerProps:t={},inputProps:r={}}=e,[a,l]=n.useState(!1);return(0,i.jsx)(p,{...t,type:a?"input":"password",className:(0,u.Z)("password-input",!a&&"redacted"),inputProps:{maxLength:100,...r},startAdornment:(0,i.jsx)(s.Z,{position:"start",className:"absolute"}),endAdornment:(0,i.jsx)(s.Z,{position:"end",children:(0,i.jsx)(h,{"aria-label":"toggle password visibility",onClick:()=>l(e=>!e),onMouseDown:e=>{e.preventDefault()},children:a?(0,i.jsx)(c.Z,{}):(0,i.jsx)(d.Z,{})})})})}},23785:function(e,t,r){"use strict";r.d(t,{Yd:function(){return v},hO:function(){return l},qi:function(){return button_CopyButton},Kz:function(){return s},UO:function(){return m}});var i=r(35843),n=r(44551);let a=(0,i.ZP)(n.Z)(e=>{let{theme:t}=e;return{background:"#000 !important",borderRadius:4,padding:"8px 18px",color:"white","&:disabled":{opacity:"0.7 !important",backgroundColor:"#343434 !important",color:"#fff !important"},"&:hover":{background:"#222 !important"},[t.breakpoints.down("md")]:{fontSize:12,padding:"6px 14px"},".MuiLoadingButton-loadingIndicator":{position:"unset",color:"white",visibility:"inherit"}}});var l=a;let o=(0,i.ZP)(n.Z)(e=>{let{theme:t,className:r}=e;return{background:"#323B45 !important",borderRadius:(null==r?void 0:r.includes("rounded"))?8:4,padding:"8px 18px",color:"white",textTransform:"capitalize","&:disabled":{opacity:"0.7 !important",backgroundColor:"#555 !important",color:"#fff !important"},"&:hover":{background:"#666e76 !important"},[t.breakpoints.down("md")]:{fontSize:12,padding:"6px 14px"},".MuiLoadingButton-loadingIndicator":{position:"unset",color:"white",visibility:"inherit"}}});var s=o,d=r(57437);r(2265);var c=r(86781),u=r(39830),p=r(52653),h=r(19739),button_CopyButton=e=>{let{text:t,iconWidth:r="17px"}=e,{showSuccessToast:i}=(0,h.p)();return(0,d.jsx)(c.CopyToClipboard,{text:t,onCopy:()=>{i("Copied to clipboard")},children:(0,d.jsx)(p.Z,{type:"button",sx:{p:"5px"},"aria-label":"link",onClick:e=>{e.preventDefault(),e.stopPropagation()},children:(0,d.jsx)(u.JO,{icon:"material-symbols:content-copy-rounded",width:r})})})},x=r(49050);let f=(0,i.ZP)(x.Z)(e=>{let{theme:t}=e;return{color:"dark"===t.palette.mode?"white":"black"}});var m=f,b=r(45295);let g=(0,i.ZP)(b.Z)(e=>{let{theme:t}=e;return{borderRadius:"6.5px",overflow:"hidden","&:after":{background:"#fff",content:"''",height:155,left:-75,opacity:.2,position:"absolute",top:-50,width:50,WebkitTransition:"all 550ms cubic-bezier(0.19, 1, 0.22, 1)",transition:"all 550ms cubic-bezier(0.19, 1, 0.22, 1)",WebkitTransform:"rotate(35deg)",MsTransform:"rotate(35deg)",transform:"rotate(35deg)",zIndex:-10},"&:hover":{boxShadow:"0px 0px 7px #999999","&:after":{left:"120%",WebkitTransition:"all 550ms cubic-bezier(0.19, 1, 0.22, 1)",transition:"all 550ms cubic-bezier(0.19, 1, 0.22, 1)"}}}});var v=g},39513:function(e,t,r){"use strict";r.d(t,{CA:function(){return v},SN:function(){return g},Gt:function(){return card_LandingCard},TJ:function(){return card_PortraitCard}});var i,n,a,l,o,s=r(57437),d=r(96507),c=r(54986),u=r(35843),p=r(57042),h=r(90952);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}var chip=function(e){return h.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:50,height:38,fill:"none"},e),i||(i=h.createElement("g",{stroke:"#fff",strokeWidth:1.4,opacity:.7},h.createElement("rect",{width:48.144,height:36.348,x:.7,y:.7,fill:"#fff",fillOpacity:.26,rx:6.55}),h.createElement("path",{d:"M.774 11.612h12.632a3.625 3.625 0 0 1 3.625 3.625v5.471m0 16.296v-7.2m0 0v-9.096m0 9.096H.774m16.257-9.096H.774M48.77 11.612H33.288m0 0v9.096m0-9.096V.774m0 36.23v-7.2m0 0v-9.096m0 9.096H48.77m-15.482-9.096H48.77"}))))};function wave_logo_extends(){return(wave_logo_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}var wave_logo=function(e){return h.createElement("svg",wave_logo_extends({xmlns:"http://www.w3.org/2000/svg",width:32,height:40,fill:"none"},e),n||(n=h.createElement("path",{fill:"url(#wave-logo_svg__a)",fillRule:"evenodd",d:"m2.317 26.858-.007.009-.006.008c-.343.486-1.11.628-1.711.204-.481-.34-.626-1.096-.216-1.694.61-.778 1.054-1.689 1.346-2.579.303-.926.444-1.979.439-3.011-.006-1.033-.158-2.084-.471-3.007-.301-.887-.755-1.792-1.374-2.564-.415-.594-.279-1.352.198-1.697.596-.43 1.366-.296 1.714.186l.006.009.006.008c.771 1.016 1.403 2.145 1.78 3.253.398 1.303.651 2.563.658 3.798.007 1.3-.117 2.53-.594 3.742-.52 1.32-1.023 2.33-1.768 3.335Zm5.571 2.413.015-.021.014-.022a17.795 17.795 0 0 0-.1-18.925c-.376-.596-.207-1.302.427-1.76.426-.308 1.226-.199 1.7.437 1.96 3.11 3.144 6.87 3.165 10.756.021 4.02-1.122 7.658-3.05 10.79-.446.614-1.13.786-1.718.438-.639-.467-.756-1.264-.453-1.693Zm9.998-24.379.016.034.02.031c2.656 4.33 4.132 9.325 4.16 14.732.03 5.404-1.392 10.412-4 14.768-.4.643-1.074.824-1.758.506-.623-.406-.79-1.078-.465-1.758 2.217-3.938 3.596-8.578 3.57-13.502-.026-4.902-1.308-9.535-3.718-13.474-.327-.672-.165-1.342.45-1.752.743-.355 1.466-.095 1.724.415ZM25.75.772l.011.022.013.022c3.219 5.564 5.11 11.924 5.146 18.826.037 6.894-1.782 13.268-4.936 18.862-.4.635-1.072.813-1.753.496-.62-.405-.789-1.074-.467-1.751 3.037-5.185 4.673-11.19 4.639-17.594-.034-6.42-1.878-12.403-4.823-17.536-.369-.75-.109-1.483.406-1.744.756-.383 1.5-.123 1.764.397Z",clipRule:"evenodd"})),a||(a=h.createElement("defs",null,h.createElement("linearGradient",{id:"wave-logo_svg__a",x1:15.408,x2:15.616,y1:.242,y2:39.203,gradientUnits:"userSpaceOnUse"},h.createElement("stop",{stopColor:"#fff",stopOpacity:.73}),h.createElement("stop",{offset:1,stopColor:"#fff"})))))};function circle_extends(){return(circle_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}var circle=function(e){return h.createElement("svg",circle_extends({xmlns:"http://www.w3.org/2000/svg",width:349,height:354,fill:"none"},e),l||(l=h.createElement("path",{fill:"url(#circle_svg__a)",fillOpacity:.2,d:"M38.09 18.611C-74.07 67.46-125.398 197.992-76.55 310.152c48.848 112.159 179.382 163.487 291.541 114.639 112.159-48.848 163.488-179.381 114.64-291.54-48.848-112.16-179.382-163.488-291.54-114.64Zm144.437 331.64A140.216 140.216 0 0 1-2.009 277.687a140.212 140.212 0 1 1 184.536 72.564Z"})),o||(o=h.createElement("defs",null,h.createElement("linearGradient",{id:"circle_svg__a",x1:38.09,x2:214.991,y1:18.611,y2:424.791,gradientUnits:"userSpaceOnUse"},h.createElement("stop",{stopColor:"#fff"}),h.createElement("stop",{offset:.421,stopColor:"#fff",stopOpacity:0}),h.createElement("stop",{offset:1,stopColor:"#fff",stopOpacity:0})))))},x=r(23785);let f=(0,u.ZP)(d.Z)(e=>{let{theme:t}=e;return{borderRadius:"6.329% / 10%",boxShadow:"inset 0 0 0 1.5px #FFFFFF4C",overflow:"hidden","&:after":{paddingTop:"63.29%",display:"block",content:"''"},".body":{position:"absolute",top:0,bottom:0,right:0,left:0},".noise-bg":{background:"url('/noise1.png') repeat center center"},".circle-bottom-box":{left:"37%",top:"62%",transform:"rotate(335deg)"},hr:{borderColor:"rgb(250 250 250 / 0.2)"}}});var card_LandingCard=e=>{let{className:t="",waveIconVisible:r=!0,position:i="relative",dividerVisible:n=!0,topRightSection:a=null,chipClickable:l=!1,handleClickChip:o=e=>{},children:d,footer:u}=e;return(0,s.jsx)(f,{className:(0,p.Z)("inline-block drop-shadow-[0_4px_4px_rgba(0,0,0,0.25)]",t,i),children:(0,s.jsxs)("div",{className:"body noise-bg px-[5%] py-[5%]",children:[(0,s.jsx)("div",{className:"absolute w-4/6 top-[1.5px] left-[1.5px]",children:(0,s.jsx)(circle,{width:"100%",height:"100%",viewBox:"0 0 349 354"})}),(0,s.jsx)("div",{className:"absolute w-full circle-bottom-box",children:(0,s.jsx)(circle,{width:"100%",height:"100%",viewBox:"0 0 349 354"})}),(0,s.jsxs)("div",{className:" flex flex-col h-full",children:[(0,s.jsxs)("div",{className:"flex h-[14%] mb-7",children:[l?(0,s.jsx)(x.Yd,{onClick:o,children:(0,s.jsx)("div",{className:"h-full chip-item",children:(0,s.jsx)(chip,{width:"100%",height:"100%",viewBox:"0 0 50 38"})})}):(0,s.jsx)("div",{className:"h-full chip-item",children:(0,s.jsx)(chip,{width:"100%",height:"100%",viewBox:"0 0 50 38"})}),(0,s.jsx)("div",{className:"flex-1"}),r?(0,s.jsx)("div",{className:"h-full",children:(0,s.jsx)(wave_logo,{width:"100%",height:"100%",viewBox:"0 0 32 40"})}):a]}),(0,s.jsx)("div",{className:"flex flex-1 items-end",children:d}),n&&(0,s.jsx)(c.Z,{}),(0,s.jsx)("div",{className:"h-[15%] flex items-end",children:u})]})]})})},m=r(15133);let b=(0,u.ZP)(m.Z)(e=>{let{theme:t}=e;return{maxWidth:300,minWidth:180,backgroundColor:"black",borderRadius:"1.5rem","&:after":{paddingTop:"158%",display:"block",content:"''"},".noise-bg":{background:"url('./noise2.png') repeat center center"},".body":{position:"absolute",top:0,bottom:0,right:0,left:0,"&:before, &:after":{opacity:.2,content:"''",position:"absolute",width:"70%",height:"100%",background:"linear-gradient(to bottom, rgba(255, 255, 255, 100%), rgba(255, 255, 255, 25%), transparent)",transform:"rotate(-50deg)",zIndex:-1},"&:before":{top:"-40%",left:0},"&:after":{top:"-20%",left:"-10%",transform:"rotate(-47deg)"},".ellipse":{bottom:"20%",width:"100%",height:"42%",background:"linear-gradient(to bottom, rgba(255, 211, 187, 100%), rgba(255, 211, 187, 40%), transparent)",borderTopLeftRadius:"100%"}}}});var card_PortraitCard=e=>{let{content:t,footer:r,logo:i}=e;return(0,s.jsx)(b,{className:"inline-block w-[45%] xl:w-[40%] md:w-[25%] h-full border-white border-opacity-30 border-2 rounded-3xl relative drop-shadow-[0_4px_4px_rgba(0,0,0,0.25)]",children:(0,s.jsxs)("div",{className:"body noise-bg",children:[(0,s.jsx)("div",{className:"absolute opacity-20 ellipse"}),(0,s.jsxs)("div",{className:"px-4 py-6 md:px-6 md:py-8 h-full flex flex-col",children:[(0,s.jsxs)("div",{className:"flex pb-4 md:pb-7",children:[(0,s.jsx)("div",{className:"flex-1 relative",children:i}),(0,s.jsx)("div",{className:"h-6 md:h-9",children:(0,s.jsx)(chip,{width:"100%",height:"100%",viewBox:"0 0 50 38"})})]}),(0,s.jsx)("div",{className:"flex flex-1",children:(0,s.jsx)("div",{className:"text-left",children:t})}),(0,s.jsx)("div",{className:"flex justify-center",children:r})]})]})})};let g=(0,u.ZP)(d.Z)(e=>{let{theme:t}=e;return{minWidth:180,perspective:600,borderRadius:"1.5rem","&:after":{paddingTop:"73%",display:"block",content:"''"},".card":{position:"relative",width:"100%",height:"100%",cursor:"pointer",transformStyle:"preserve-3d",transformOrigin:"center right",transition:"transform 0.5s",".card-face":{position:"absolute",width:"100%",height:"100%",backfaceVisibility:"hidden"},".back":{transform:"rotateY(180deg)"}},".card.is-flipped":{transform:"translateX(-100%) rotateY(-180deg)"}}}),v=(0,u.ZP)(m.Z)(e=>{let{theme:t}=e;return{minWidth:180,cursor:"initial",backgroundImage:"url('/dark-leather.png')",backgroundColor:"black",borderRadius:"1.5rem",overflow:"visible","&:after":{paddingTop:"73%",display:"block",content:"''"},".dashed-body":{border:"2px dashed rgb(50 38 38)"},".compartment, .compartment-top":{backgroundImage:"url('/dark-leather.png')",backgroundColor:"black",width:"100%"},".compartment-top":{height:"18%","--mask1":"radial-gradient(circle at 50% -20%, transparent 25%, black 25.5%)",WebkitMaskImage:"var(--mask1)",maskImage:"var(--mask1)"},"@keyframes fadeOut":{"0%":{visibility:"visible"},"55%":{visibility:"visible"},"56%, 100%":{visibility:"hidden"}},".fade-out":{animation:"fadeOut 1s ".concat(t.transitions.easing.easeInOut," forwards"),MsAnimation:"fadeOut 1s ".concat(t.transitions.easing.easeInOut," forwards"),WebkitAnimation:"fadeOut 1s ".concat(t.transitions.easing.easeInOut," forwards"),MozAnimation:"fadeOut 1s ".concat(t.transitions.easing.easeInOut," forwards")}}})},50543:function(e,t,r){"use strict";r.d(t,{L:function(){return EditableCredentialAvatar}});var i=r(57437),n=r(4528),a=r(57042),l=r(22440),o=r(96283);let EditableCredentialAvatar=e=>{let{credential:t,onFileUpload:r,width:s,height:d,updating:c=!1,disabled:u=!1}=e,onDrop=async e=>{if(!u&&(null==e?void 0:e.length)>0){let t=e[0];r(t)}},{getRootProps:p,getInputProps:h,isDragActive:x,isDragReject:f,fileRejections:m}=(0,l.uI)({multiple:!1,maxFiles:1,onDrop});return(0,i.jsxs)("div",{...!u&&p(),style:{...x&&{opacity:.72}},className:(0,a.Z)(!u&&"cursor-pointer"),children:[!u&&(0,i.jsx)("input",{...h()}),(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)(o.J,{credential:t,width:s,height:d}),c&&(0,i.jsx)(n.a,{className:"absolute top-0 bottom-0 left-0 right-0"})]})]})}},49017:function(e,t,r){"use strict";var i=r(35843),n=r(84081);let a=(0,i.ZP)(n.Z)(e=>{let{theme:t}=e;return{".MuiInput-root":{marginTop:0,"&:before, &:after":{opacity:.18,borderColor:"white"}},".MuiInputBase-root.MuiInput-root:hover:not(.Mui-disabled, .Mui-error)":{"&:before, &:after":{opacity:.18,borderColor:"white"}},".MuiInput-root.Mui-focused":{"&:before, &:after":{opacity:.3}},".MuiInputLabel-root, .MuiInputLabel-root.Mui-focused:not(.Mui-error)":{color:"white",fontSize:"10px",transform:"unset",WebkitTransform:"unset"},"#holder-name":{fontWeight:600,fontSize:"15pt",textAlign:"center",caretColor:"white",color:"rgb(255 255 255 / 65%)"},".password-input.redacted":{fontFamily:"Redacted Script"},".MuiFormHelperText-root":{marginLeft:0,display:"none"},".MuiFormHelperText-root.Mui-error, .MuiFormHelperText-root.visible":{display:"block"}}});t.Z=a},78723:function(e,t,r){"use strict";var i=r(57437),n=r(49050),a=r(22079),l=r(42834),o=r(26337),s=r(64173),d=r(91797);t.Z=e=>{let{title:t,content:r,open:c,onClose:u}=e,handleDisAgree=()=>{u(!1)};return(0,i.jsxs)(a.Z,{open:c,onClose:handleDisAgree,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,i.jsx)(d.Z,{id:"alert-dialog-title",children:t}),(0,i.jsx)(o.Z,{children:(0,i.jsx)(s.Z,{id:"alert-dialog-description",children:r})}),(0,i.jsxs)(l.Z,{children:[(0,i.jsx)(n.Z,{onClick:handleDisAgree,children:"Disagree"}),(0,i.jsx)(n.Z,{onClick:()=>{u(!0)},autoFocus:!0,children:"Agree"})]})]})}},83129:function(e,t,r){"use strict";var i=r(57437),n=r(2899),a=r(15133),l=r(96507),o=r(43226),s=r(88469),d=r(35843),c=r(23785);let u=(0,d.ZP)(a.Z)(e=>{let{theme:t}=e;return{border:"1px solid #FFFFFF55",borderRadius:"0.5rem",background:"#1D1D1D",position:"relative","&:before":{opacity:.1,content:"''",position:"absolute",width:"100%",height:"200%",background:"linear-gradient(to bottom, rgba(163, 163, 163, 60%), rgba(255, 255, 255, 15%), transparent)",transform:"rotate(-30deg)",transformOrigin:"top left",top:0,right:"-40%"}}});t.Z=e=>{let{title:t,children:r,className:a="",showAllAction:d=()=>{},able2ShowAll:p=!0}=e;return(0,i.jsxs)(u,{className:a,elevation:0,children:[(0,i.jsxs)(l.Z,{className:"py-4 px-6 flex",children:[(0,i.jsx)(o.Z,{className:"flex-1",variant:"h6",fontWeight:600,children:t}),p&&(0,i.jsx)(c.UO,{size:"small",endIcon:(0,i.jsx)(n.Z,{}),onClick:d,children:"Show all"})]}),(0,i.jsx)(s.Z,{className:"relative z-10",sx:{px:3,pt:1},children:r})]})}},19959:function(e,t,r){"use strict";r.d(t,{J:function(){return DetailTable},m:function(){return DetailTableRow}});var i=r(57437),n=r(98489),a=r(30666),l=r(73701),o=r(66988),s=r(39279);let DetailTableRow=e=>{let{avatar:t,rowCells:r,className:l="",props:o={},onClick:s=()=>{}}=e;return(0,i.jsxs)(n.Z,{...o,className:l,onClick:s,children:[(0,i.jsx)(a.Z,{padding:"none",sx:{width:0},children:t}),r]})},DetailTable=e=>{let{headCells:t,bodyRows:r}=e;return(0,i.jsxs)(l.Z,{size:"small",sx:{th:{border:0},thead:{background:"linear-gradient(to right, transparent, #4e4e4eb3 25%, #555555b3 50%, #4e4e4eb3 75%, transparent)",th:{px:1,fontSize:15,fontWeight:"600"},"th:last-child":{textAlign:"right"}},tbody:{td:{px:1,py:0},"td:first-child":{border:0,pl:0,pr:1},"td:last-child":{textAlign:"right",pr:0},"tr:last-child":{td:{border:0}}}},children:[(0,i.jsx)(o.Z,{children:(0,i.jsxs)(n.Z,{children:[(0,i.jsx)(a.Z,{sx:{width:0}}),t]})}),(0,i.jsx)(s.Z,{children:r})]})}},9254:function(e,t,r){"use strict";r.d(t,{c:function(){return MainButton}});var i=r(57437),n=r(6882),a=r(49050),l=r(57042);let MainButton=e=>{let{leftIcon:t,size:r="medium",mode:o="default",onClick:s,children:d,busy:c=!1,disabled:u=!1,className:p}=e,h=(0,i.jsx)(n.Z,{size:16});return(0,i.jsx)("div",{className:(0,l.Z)("flex",p),children:(0,i.jsx)(a.Z,{className:"flex-1",startIcon:c?h:t,disabled:c||u,size:r,color:"default"===o?"primary":"error",variant:"contained",onClick:s,children:d})})}},4528:function(e,t,r){"use strict";r.d(t,{a:function(){return LoadingCircle_LoadingCircle}});var i=r(57437),n=r(57042);let LoadingCircle_LoadingCircle=e=>{let{className:t,width:r,height:a}=e;return(0,i.jsx)("div",{className:(0,n.Z)("loading-circle",t),style:{...r&&{width:r},...a&&{height:a}},children:(0,i.jsx)("div",{className:"content",children:(0,i.jsx)("div",{className:"animated"})})})}},29439:function(e,t,r){"use strict";r.d(t,{d:function(){return UnlockRetrier}});var i=r(57437),n=r(9254),a=r(57042),l=r(70906);let UnlockRetrier=e=>{let{className:t}=e,{retryUnlock:r}=(0,l.lJ)();return(0,i.jsxs)("div",{className:(0,a.Z)("flex flex-row items-center gap-2",t),children:[(0,i.jsx)("div",{children:"This content could not be unlocked, please retry"}),(0,i.jsx)(n.c,{onClick:()=>{r()},children:"Unlock personal data"})]})}},70906:function(e,t,r){"use strict";r.d(t,{au:function(){return UnlockKeyPromptContextProvider},lJ:function(){return useUnlockKeyPrompt},NX:function(){return useUnlockPromptState}});var i=r(57437),n=r(39513),a=r(66267),l=r(14504),o=r(40542),s=r(95815),d=r(94025),c=r(5253),u=r(64101),p=r(56176),h=r(22079),x=r(43226),f=r(35843),m=r(7482),b=r(36079),g=r(50707),v=r(14776),y=r(2265),j=r(39830),Z=r(23785);let PasskeyPrompt=e=>{let{onConfirm:t,disabled:r}=e,[n]=(0,o.V)(v.jU),a=null==n?void 0:n.get("security"),onSubmit=async()=>{let e=await a.unlockPasskeyLocally();t(e)};return(0,i.jsx)(Z.Kz,{id:"bind-ms",className:"w-4/5",startIcon:(0,i.jsx)(j.JO,{icon:"material-symbols:passkey"}),disabled:r,onClick:onSubmit,children:"Unlock with passkey"})};var w=r(50819),C=r(49017),k=r(80072);let PasswordPrompt=e=>{let{onConfirm:t,disabled:r}=e,[n,a]=(0,y.useState)(""),l=(0,y.useRef)(null),submitPassword=e=>{if(e.preventDefault(),!l.current.value){l.current.focus();return}t(l.current.value)};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("form",{onSubmit:submitPassword,children:(0,i.jsxs)(C.Z,{fullWidth:!0,children:[(0,i.jsx)(w.Z,{htmlFor:"pw",children:"PASSWORD"}),(0,i.jsx)(k.Z,{outerProps:{autoFocus:!0,disabled:r,onChange:e=>{a(e.target.value)}},inputProps:{ref:l}})]})}),(0,i.jsx)("div",{className:"p-2 pb-0 text-center",children:(0,i.jsx)(Z.Kz,{id:"bind-ms",className:"w-4/5",disabled:r||!n.length,onClick:submitPassword,children:"Continue"})})]})};var N=r(51894),P=r(53946);let T=(0,y.createContext)({actions:null,setActions:null});function UnlockKeyPromptContextProvider(e){let[t,r]=(0,y.useState)(null);return(0,i.jsxs)(T.Provider,{value:{actions:t,setActions:r},children:[e.children,(0,i.jsx)(UnlockKeyPrompt,{})]})}let M=y.forwardRef(function(e,t){return(0,i.jsx)(p.Z,{ref:t,...e})}),S=(0,f.ZP)("div")(e=>{let{theme:t}=e;return{background:"linear-gradient(to right, #242424, #333 50%, transparent)"}}),UnlockKeyPrompt=()=>{let{actions:e,setActions:t}=(0,y.useContext)(T),[r]=(0,o.V)(v.jU),s=null==r?void 0:r.get("security"),[d]=(0,o.V)(null==s?void 0:s.passwordKeys$),[p]=(0,o.V)(null==s?void 0:s.passkeyKeys$),{promptMasterKeyUnlock:f}=useUnlockKeyPrompt(),hideDialog=()=>{t(null)};return(0,y.useEffect)(()=>{let e=P.lw.subscribe(e=>{e&&!e.handled&&(e.handled=!0,callWithUnlockHandler(e,f))});return()=>e.unsubscribe()},[f]),(0,i.jsx)(h.Z,{open:!!e,disablePortal:!0,onClose:()=>{var t;null===(t=e.onUnlockKey)||void 0===t||t.call(e,null),hideDialog()},TransitionComponent:M,PaperProps:{sx:{backgroundImage:"none"}},children:(0,i.jsxs)("div",{className:"p-6",children:[(0,i.jsxs)(S,{className:"flex items-center gap-x-2 px-4 py-2",children:[(0,i.jsx)(a.C,{children:(0,i.jsx)(u.Z,{fontSize:"small"})}),(0,i.jsx)(x.Z,{variant:"h6",fontWeight:600,className:"ml-4",children:"Screen content is locked!"})]}),(0,i.jsx)(x.Z,{variant:"body1",className:"px-4 py-2",children:"Enter password or authenticate passkey to unlock the screen."}),(0,i.jsx)(n.CA,{className:"relative w-full mt-4 md:pb-2",children:(0,i.jsx)("div",{className:"absolute inset-0 p-2",children:(0,i.jsx)("div",{className:"dashed-body w-full h-full rounded-2xl p-1.5 flex items-center",children:(0,i.jsx)("div",{className:"px-6 py-8 w-full",children:(0,i.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,i.jsx)(PasswordPrompt,{onConfirm:t=>{var r;null===(r=e.onUnlockKey)||void 0===r||r.call(e,{type:c.J.PASSWORD,keyId:"unused-for-now-for-passwords",key:t}),hideDialog()},disabled:(null==d?void 0:d.length)==0}),(0,i.jsxs)("div",{className:"p-2 pt-0 text-center",children:[(0,i.jsx)("div",{className:"py-4",children:(0,i.jsx)(l.Z,{text:"or browser authentication"})}),(0,i.jsx)(PasskeyPrompt,{onConfirm:t=>{var r;null===(r=e.onUnlockKey)||void 0===r||r.call(e,t),hideDialog()},disabled:(null==p?void 0:p.length)==0})]})]})})})})})]})})};function useUnlockPromptState(){let[e]=(0,o.V)(P.Mn),[t,r]=(0,y.useState)(!0),[i,n]=(0,y.useState)(!1);return(0,y.useEffect)(()=>{switch(e){case P.xb.Idle:r(!0),n(!1);break;case P.xb.UnlockCancelled:r(!1),n(!0)}},[e]),{unlockerIsIdle:t,unlockerIsCancelled:i}}let useUnlockKeyPrompt=()=>{let{setActions:e}=(0,y.useContext)(T),[t]=(0,o.V)(v.jU);return{promptMasterKeyUnlock:()=>new Promise(t=>{e({onUnlockKey:t})}),retryUnlock:()=>(0,N.H)(()=>t.get("security").checkRemoteUnlockStatus())}};async function callWithUnlockHandler(e,t){try{let t=await e.method();e.resolve(t)}catch(r){if(r instanceof s._){if((0,g.z)(r)){b.k.warn("security","This method call requires unlock authorization from the user. Prompting");let r=await t();if(r){await (0,m.wo)(r);let t=await (0,N.H)(e.method,e.silentCancellation,e.defaultValue,!1);e.resolve(t)}else P.Mn.next(P.xb.UnlockCancelled),b.k.warn("security","Unlock operation cancelled by user"),e.reject(s._.newClientError(d.XF.UnlockKeyCancelled,"CANCELLED"))}else e.reject(r)}else b.k.error("security","Unhandled callWithUnlock() non app exception (will get stuck):",r)}}},14504:function(e,t,r){"use strict";var i=r(57437),n=r(57042),a=r(54986),l=r(43226),o=r(35843);let s=(0,o.ZP)(a.Z)(e=>{let{theme:t}=e;return{"&:before, &:after":{borderTopColor:"#C4C4C4"}}});t.Z=e=>{let{text:t,textClassName:r=""}=e;return(0,i.jsx)(s,{children:(0,i.jsx)(l.Z,{variant:"caption",className:(0,n.Z)("px-4 font-bold text-white",r),children:t})})}},19739:function(e,t,r){"use strict";r.d(t,{p:function(){return useToast}});var i=r(36953);function useToast(){let{enqueueSnackbar:e}=(0,i.Ds)();return{showSuccessToast:t=>{e(t,{variant:"success"})},showErrorToast:t=>{e(t,{variant:"error"})}}}},66615:function(e,t,r){"use strict";function shortenDID(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,r=e.split(":");if(r.length<3)return e;let i=r[2];if(i.length<=2*t)return e;let n="".concat(i.substr(0,t),"...").concat(i.substr(-t));return"".concat(r[0],":").concat(r[1],":").concat(n)}r.d(t,{L:function(){return shortenDID}})}},function(e){e.O(0,[6990,9787,9443,8218,3988,395,8321,3824,6642,1228,5295,1510,1396,6953,2e3,182,2884,3691,922,1869,7998,2520,1621,6639,9329,7640,2440,3262,5455,2971,7864,1744],function(){return e(e.s=40649)}),_N_E=e.O()}]);