(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7083],{6882:function(e,r,t){"use strict";t.d(r,{Z:function(){return b}});var n=t(20791),i=t(13428),o=t(2265),a=t(57042),s=t(95600),l=t(99538),c=t(28702),u=t(87927),g=t(35843),d=t(26520),f=t(25702);function getCircularProgressUtilityClass(e){return(0,f.Z)("MuiCircularProgress",e)}(0,d.Z)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var h=t(57437);let p=["className","color","disableShrink","size","style","thickness","value","variant"],_=e=>e,v,m,x,k,S=(0,l.F4)(v||(v=_`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),w=(0,l.F4)(m||(m=_`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),useUtilityClasses=e=>{let{classes:r,variant:t,color:n,disableShrink:i}=e,o={root:["root",t,`color${(0,c.Z)(n)}`],svg:["svg"],circle:["circle",`circle${(0,c.Z)(t)}`,i&&"circleDisableShrink"]};return(0,s.Z)(o,getCircularProgressUtilityClass,r)},P=(0,g.ZP)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,r)=>{let{ownerState:t}=e;return[r.root,r[t.variant],r[`color${(0,c.Z)(t.color)}`]]}})(({ownerState:e,theme:r})=>(0,i.Z)({display:"inline-block"},"determinate"===e.variant&&{transition:r.transitions.create("transform")},"inherit"!==e.color&&{color:(r.vars||r).palette[e.color].main}),({ownerState:e})=>"indeterminate"===e.variant&&(0,l.iv)(x||(x=_`
      animation: ${0} 1.4s linear infinite;
    `),S)),C=(0,g.ZP)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,r)=>r.svg})({display:"block"}),y=(0,g.ZP)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,r)=>{let{ownerState:t}=e;return[r.circle,r[`circle${(0,c.Z)(t.variant)}`],t.disableShrink&&r.circleDisableShrink]}})(({ownerState:e,theme:r})=>(0,i.Z)({stroke:"currentColor"},"determinate"===e.variant&&{transition:r.transitions.create("stroke-dashoffset")},"indeterminate"===e.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:e})=>"indeterminate"===e.variant&&!e.disableShrink&&(0,l.iv)(k||(k=_`
      animation: ${0} 1.4s ease-in-out infinite;
    `),w)),I=o.forwardRef(function(e,r){let t=(0,u.Z)({props:e,name:"MuiCircularProgress"}),{className:o,color:s="primary",disableShrink:l=!1,size:c=40,style:g,thickness:d=3.6,value:f=0,variant:v="indeterminate"}=t,m=(0,n.Z)(t,p),x=(0,i.Z)({},t,{color:s,disableShrink:l,size:c,thickness:d,value:f,variant:v}),k=useUtilityClasses(x),S={},w={},I={};if("determinate"===v){let e=2*Math.PI*((44-d)/2);S.strokeDasharray=e.toFixed(3),I["aria-valuenow"]=Math.round(f),S.strokeDashoffset=`${((100-f)/100*e).toFixed(3)}px`,w.transform="rotate(-90deg)"}return(0,h.jsx)(P,(0,i.Z)({className:(0,a.Z)(k.root,o),style:(0,i.Z)({width:c,height:c},w,g),ownerState:x,ref:r,role:"progressbar"},I,m,{children:(0,h.jsx)(C,{className:k.svg,ownerState:x,viewBox:"22 22 44 44",children:(0,h.jsx)(y,{className:k.circle,style:S,ownerState:x,cx:44,cy:44,r:(44-d)/2,fill:"none",strokeWidth:d})})}))});var b=I},11369:function(e,r,t){Promise.resolve().then(t.bind(t,7213))},7213:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return page}});var n=t(57437),i=t(40542),o=t(95815),a=t(94025),s=t(43226),l=t(66563),c=t(6882),u=t(63491),g=t(14776),d=t(11059),f=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;let h=[];for(let e=0;e<256;++e)h.push((e+256).toString(16).slice(1));var esm_browser_stringify=function(e,r=0){let t=function(e,r=0){return h[e[r+0]]+h[e[r+1]]+h[e[r+2]]+h[e[r+3]]+"-"+h[e[r+4]]+h[e[r+5]]+"-"+h[e[r+6]]+h[e[r+7]]+"-"+h[e[r+8]]+h[e[r+9]]+"-"+h[e[r+10]]+h[e[r+11]]+h[e[r+12]]+h[e[r+13]]+h[e[r+14]]+h[e[r+15]]}(e,r);if(!("string"==typeof t&&f.test(t)))throw TypeError("Stringified UUID is invalid");return t},p=t(67133).Buffer,v=void 0!==p?e=>p.from(e,"base64"):e=>Uint8Array.from(atob(e),e=>e.charCodeAt(0)),m=t(24033),x=t(2265),page=()=>{let e=(0,m.useSearchParams)(),r=e.get("key"),t=r?esm_browser_stringify(v(r.replace(/-/g,"+").replace(/_/g,"/")+"==")):null,[f,h]=(0,x.useState)(!1),[p,k]=(0,x.useState)(null),[S,w]=(0,x.useState)(!1),P=(0,m.useRouter)(),[C]=(0,i.V)(g.jU),{navigateToPostSignInLandingPage:y}=(0,u.vX)(),handleCheckException=e=>{if(h(!1),e instanceof o._)switch(e.appExceptionCode){case a.Wg.InvalidPINCode:k("Invalid PIN code");return;case a.Wg.InexistingAuthKey:k("This link is inexisting or expired");return}k("Unexpected error")},checkPin=e=>{h(!0),C?(w(!0),C.get("email").checkRawEmailBind(t,e).then(e=>{e?P.push("/account/security"):(k("Unexpected error"),h(!1))}).catch(e=>{handleCheckException(e)})):(0,d.K4)(t,e).then(e=>{e?y():(k("Unexpected error"),h(!1))}).catch(e=>{handleCheckException(e)})};return(0,n.jsxs)("div",{className:"w-full",children:[(0,n.jsx)(s.Z,{variant:"h4",children:"Enter PIN code"}),(0,n.jsx)(s.Z,{children:"(This is the 6 digit PIN code provided earlier, not your account password)"}),(0,n.jsxs)("div",{className:"flex flex-row items-center mt-4",children:[(0,n.jsx)(l.Z,{autoFocus:!0,onChange:e=>{var r;k(null);let t=null===(r=e.currentTarget)||void 0===r?void 0:r.value;6==t.length&&checkPin(t)},margin:"dense",id:"pinCode",label:"PIN Code",variant:"outlined",autoComplete:"off",disabled:f}),f&&(0,n.jsx)("div",{className:"ml-4",children:(0,n.jsx)(c.Z,{size:20})})]}),p&&(0,n.jsx)(s.Z,{className:"w-full text-red-500 mt-4",children:p})]})}},40542:function(e,r,t){"use strict";t.d(r,{V:function(){return useBehaviorSubject}});var n=t(2265);let useBehaviorSubject=e=>{let[r,t]=(0,n.useState)(null==e?void 0:e.getValue()),[i,o]=(0,n.useState)();return(0,n.useEffect)(()=>{if(!e){t(null);return}let r=e.subscribe({next:e=>{t(e)},error:o});return()=>r.unsubscribe()},[e]),[r]}},63491:function(e,r,t){"use strict";t.d(r,{$Y:function(){return setOnGoingFlowOperation},Ad:function(){return clearPostSignInUrl},Kt:function(){return getOnGoingFlowOperation},cX:function(){return i},fK:function(){return clearOnGoingFlowOperation},qC:function(){return setPostSignInUrl},vX:function(){return usePostSignInFlow}});var n,i,o=t(92e3),a=t(36079);(n=i||(i={}))[n.OnBoardingEmailBinding=0]="OnBoardingEmailBinding",n[n.OnBoardingBrowserBinding=1]="OnBoardingBrowserBinding",n[n.EmailSignIn=2]="EmailSignIn";let s="ongoingflowoperation",l="postsigninurl";function getOnGoingFlowOperation(){return i[localStorage.getItem(s)]}function setOnGoingFlowOperation(e){localStorage.setItem(s,i[e])}function clearOnGoingFlowOperation(){localStorage.removeItem(s)}function setPostSignInUrl(e){a.k.log("flow","Setting post sign in url to:",e),localStorage.setItem(l,e)}function clearPostSignInUrl(){a.k.log("flow","Clearing post sign in url"),localStorage.removeItem(l)}function usePostSignInFlow(){let e=(0,o.useRouter)();return{navigateToPostSignInLandingPage(r){let t=localStorage.getItem(l);if(t)a.k.log("flow","Navigating to post sign in landing page:",t),e.replace(t),clearPostSignInUrl();else{let t=r||"/dashboard";a.k.log("flow","Navigating to post sign in landing page ".concat(t)),e.push(t)}}}}}},function(e){e.O(0,[6990,9787,9443,8218,3988,395,8321,3824,6642,1228,8251,2e3,1880,4558,4448,1869,1509,6563,3262,2971,7864,1744],function(){return e(e.s=11369)}),_N_E=e.O()}]);