(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7659],{96289:function(e,t,i){Promise.resolve().then(i.bind(i,56483))},56483:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return page}});var n=i(57437),r=i(40542),s=i(97716),l=i(7175),o=i(43226),d=i(19739),u=i(14776),a=i(2265),c=i(69991),h=i(66615);let DislayName=e=>{let{identity:t}=e,[i,r]=(0,a.useState)(void 0);return(0,a.useEffect)(()=>{let e=t.profile().name$.subscribe(e=>{r(e)});return()=>{e.unsubscribe()}},[t]),(0,n.jsx)("div",{children:i})},IdentityRootDids=e=>{let{identities:t}=e;return(0,n.jsx)("div",{children:t.map((e,t)=>(0,n.jsx)("div",{className:"mb-2 p-3 bg-blue-900 text-white",children:(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)(c.i,{identity:e,width:40,height:40}),(0,n.jsxs)("div",{className:"ml-2",children:[(0,n.jsx)(DislayName,{identity:e}),(0,n.jsx)("div",{className:"text-left cursor-pointer",children:(0,h.L)(e.did)})]})]})},t))})};var page=()=>{let{mounted:e}=(0,s.s)(),[t]=(0,r.V)(u.jU),[i]=(0,r.V)(null==t?void 0:t.get("identity").identityRoots$),[c,h]=(0,a.useState)({}),{showSuccessToast:f,showErrorToast:x}=(0,d.p)(),[p]=(0,r.V)(null==t?void 0:t.get("identity").regularIdentities$),[v,m]=(0,a.useState)(!1),handleExportMnemonic=async e=>{let i=e.id,n=await t.get("identity").exportMnemonic(i);h(t=>({...t,[e.id]:n})),m(!0)};if(!e)return null;let getRegularIdentitiesById=(e,t)=>{let i=e.filter(e=>e.identityRootId===t);return i},groupIdentityName=e=>{let t="";for(let i of e.Identity)if("REGULAR"===i.type){t=null!==i.creatingAppIdentity?"Claimed identity":"Main identity group";break}return t||""};return(0,n.jsx)("div",{className:"flex flex-wrap mt-12",children:null==i?void 0:i.map((e,t)=>{let i=getRegularIdentitiesById(p,e.id),r=groupIdentityName(e);return(0,n.jsxs)("div",{className:"m-4 mt-11 p-6 border rounded-lg relative w-[800px]",children:[(0,n.jsx)("div",{className:"absolute top-0 left-0 font-bold -mt-12 ml-2",children:r}),(0,n.jsxs)("div",{className:"absolute top-0 right-0 -mt-11",children:[(0,n.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-2 rounded ".concat(v&&c[e.id]?"hidden":""),onClick:()=>{handleExportMnemonic(e)},children:"Export Mnemonic"}),v&&c[e.id]&&(0,n.jsxs)(o.Z,{variant:"body2",onClick:()=>{navigator.clipboard.writeText(c[e.id]),f("Mnemonic copied to clipboard.")},sx:{textDecoration:"none",cursor:"pointer","&:hover":{color:"blue"}},children:["Mnemonic: ",c[e.id],(0,n.jsx)(l.Z,{style:{fontSize:16,marginLeft:5}})]})]}),(0,n.jsx)("div",{style:{width:"300px"},children:(0,n.jsx)(IdentityRootDids,{identities:i})})]},t)})})}},69991:function(e,t,i){"use strict";i.d(t,{i:function(){return IdentityAvatar}});var n=i(57437),r=i(7045);let LettersAvatar=e=>{let{text:t,width:i=40,height:r=40}=e;return(0,n.jsx)("div",{className:"bg-indigo-400 p-2 rounded-sm overflow-hidden",style:{width:"".concat(i,"px"),height:"".concat(r,"px"),borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center",color:"white",fontSize:"16px",lineHeight:1},children:t})};var s=i(40542),l=i(3283),o=i(53386),d=i(16691),u=i.n(d);let IdentityAvatar=e=>{let{identity:t,width:i=60,height:d=60}=e,[a]=(0,s.V)(null==t?void 0:t.profile().name$),[c]=(0,s.V)(null==t?void 0:t.profile().icon$);return(0,n.jsx)(n.Fragment,{children:c?(0,n.jsx)(l.Z,{sx:{width:i,height:d},children:c&&(0,n.jsx)(u(),{src:c,alt:"",width:i,height:d})}):(0,n.jsxs)(n.Fragment,{children:[!a&&(0,n.jsx)(r.Z,{width:i,height:d}),a&&(0,n.jsx)(LettersAvatar,{width:i,height:d,text:(0,o.OX)(a)})]})})}},40542:function(e,t,i){"use strict";i.d(t,{V:function(){return useBehaviorSubject}});var n=i(2265);let useBehaviorSubject=e=>{let[t,i]=(0,n.useState)(null==e?void 0:e.getValue()),[r,s]=(0,n.useState)();return(0,n.useEffect)(()=>{if(!e){i(null);return}let t=e.subscribe({next:e=>{i(e)},error:s});return()=>t.unsubscribe()},[e]),[t]}},97716:function(e,t,i){"use strict";i.d(t,{s:function(){return useMounted}});var n=i(2265);let useMounted=()=>{let[e,t]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{t(!0)},[]),{mounted:e}}},19739:function(e,t,i){"use strict";i.d(t,{p:function(){return useToast}});var n=i(36953);function useToast(){let{enqueueSnackbar:e}=(0,n.Ds)();return{showSuccessToast:t=>{e(t,{variant:"success"})},showErrorToast:t=>{e(t,{variant:"error"})}}}},66615:function(e,t,i){"use strict";function shortenDID(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,i=e.split(":");if(i.length<3)return e;let n=i[2];if(n.length<=2*t)return e;let r="".concat(n.substr(0,t),"...").concat(n.substr(-t));return"".concat(i[0],":").concat(i[1],":").concat(r)}i.d(t,{L:function(){return shortenDID}})}},function(e){e.O(0,[6990,9787,9443,8218,3988,395,8321,3824,6642,6953,2736,6691,4105,3262,2971,7864,1744],function(){return e(e.s=96289)}),_N_E=e.O()}]);