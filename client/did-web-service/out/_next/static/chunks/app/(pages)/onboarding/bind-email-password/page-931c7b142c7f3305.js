(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1112],{71711:function(t,e,n){"use strict";var r=n(20791),o=n(13428),s=n(2265),i=n(95600),a=n(15959),l=n(98599),u=n(35843),c=n(87927),d=n(10466),p=n(57437);let f=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],useUtilityClasses=t=>{let{classes:e,disableUnderline:n}=t,r=(0,i.Z)({root:["root",!n&&"underline"],input:["input"]},d.l,e);return(0,o.Z)({},e,r)},g=(0,u.ZP)(l.Ej,{shouldForwardProp:t=>(0,u.FO)(t)||"classes"===t,name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{let{ownerState:n}=t;return[...(0,l.Gx)(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let n="light"===t.palette.mode,r=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),(0,o.Z)({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${d.Z.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${d.Z.error}`]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&:before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${d.Z.disabled}, .${d.Z.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${d.Z.disabled}:before`]:{borderBottomStyle:"dotted"}})}),m=(0,u.ZP)(l.rA,{name:"MuiInput",slot:"Input",overridesResolver:l._o})({}),v=s.forwardRef(function(t,e){var n,s,i,u;let d=(0,c.Z)({props:t,name:"MuiInput"}),{disableUnderline:v,components:b={},componentsProps:w,fullWidth:h=!1,inputComponent:x="input",multiline:I=!1,slotProps:S,slots:Z={},type:P="text"}=d,j=(0,r.Z)(d,f),y=useUtilityClasses(d),B={root:{ownerState:{disableUnderline:v}}},C=(null!=S?S:w)?(0,a.Z)(null!=S?S:w,B):B,O=null!=(n=null!=(s=Z.root)?s:b.Root)?n:g,U=null!=(i=null!=(u=Z.input)?u:b.Input)?i:m;return(0,p.jsx)(l.ZP,(0,o.Z)({slots:{root:O,input:U},slotProps:C,fullWidth:h,inputComponent:x,multiline:I,ref:e,type:P},j,{classes:y}))});v.muiName="Input",e.Z=v},10466:function(t,e,n){"use strict";n.d(e,{l:function(){return getInputUtilityClass}});var r=n(13428),o=n(26520),s=n(25702),i=n(97044);function getInputUtilityClass(t){return(0,s.Z)("MuiInput",t)}let a=(0,r.Z)({},i.Z,(0,o.Z)("MuiInput",["root","underline","input"]));e.Z=a},33449:function(t,e,n){"use strict";n.d(e,{Z:function(){return useId}});var r,o=n(2265);let s=0,i=(r||(r=n.t(o,2)))["useId".toString()];function useId(t){if(void 0!==i){let e=i();return null!=t?t:e}return function(t){let[e,n]=o.useState(t),r=t||e;return o.useEffect(()=>{null==e&&(s+=1,n(`mui-${s}`))},[e]),r}(t)}},69243:function(t,e,n){Promise.resolve().then(n.bind(n,45843))},45843:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return page}});var r=n(57437),o=n(9254),s=n(40542),i=n(66563),a=n(19739),l=n(14776),u=n(24033),c=n(2265);let MasterPasswordInput=t=>{let{onValidConfirmation:e,title:n}=t,[d]=(0,s.V)(l.jU);null==d||d.get("security");let[p,f]=(0,c.useState)(!1),[g,m]=(0,c.useState)(!1),{showSuccessToast:v}=(0,a.p)();(0,u.useRouter)();let b=(0,c.createRef)(),w=(0,c.createRef)(),bindPassword=async()=>{let t=b.current.value;m(!0),await e(t),m(!1)},refreshPasswordValidity=()=>{let t=b.current.value,e=w.current.value;f(t.length>0&&t===e)};return(0,r.jsxs)("div",{className:"flex flex-row mt-4 gap-2",children:[(0,r.jsx)(i.Z,{label:"New password",inputRef:b,variant:"outlined",size:"small",onChangeCapture:refreshPasswordValidity}),(0,r.jsx)(i.Z,{label:"Confirm password",inputRef:w,variant:"outlined",size:"small",onChangeCapture:refreshPasswordValidity}),(0,r.jsx)(o.c,{onClick:bindPassword,busy:g,disabled:!p,children:n})]})};var d=n(97716),p=n(43226),f=n(63491),page=()=>{let{mounted:t}=(0,d.s)(),[e]=(0,s.V)(l.jU),n=null==e?void 0:e.get("security"),{showSuccessToast:o}=(0,a.p)();(0,u.useRouter)();let{navigateToPostSignInLandingPage:i}=(0,f.vX)(),bindPassword=async t=>{let e=await n.bindPassword(t);e&&(o("Master password successfully created"),setTimeout(()=>{i()},2e3))};return(0,r.jsxs)("div",{className:"col-span-full",children:[(0,r.jsx)(p.Z,{variant:"h4",children:"Your master password"}),(0,r.jsxs)("p",{children:["You're almost there. You now need a master password that will be used to lock your identities content. ",(0,r.jsx)("br",{}),"Quick takeaways:"]}),(0,r.jsxs)("ul",{className:"mt-6",children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("b",{children:"Our service doesn't store your password"})," in clear, and cannot do anything over your data without your consent."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("b",{children:"Don't loose your password"}),", there is no way to recover it."]})]}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.Z,{variant:"h5",children:"Bind a master password"}),(0,r.jsx)(MasterPasswordInput,{onValidConfirmation:bindPassword,title:"Create master password"})]})]})}},9254:function(t,e,n){"use strict";n.d(e,{c:function(){return MainButton}});var r=n(57437),o=n(6882),s=n(49050),i=n(57042);let MainButton=t=>{let{leftIcon:e,size:n="medium",mode:a="default",onClick:l,children:u,busy:c=!1,disabled:d=!1,className:p}=t,f=(0,r.jsx)(o.Z,{size:16});return(0,r.jsx)("div",{className:(0,i.Z)("flex",p),children:(0,r.jsx)(s.Z,{className:"flex-1",startIcon:c?f:e,disabled:c||d,size:n,color:"default"===a?"primary":"error",variant:"contained",onClick:l,children:u})})}},40542:function(t,e,n){"use strict";n.d(e,{V:function(){return useBehaviorSubject}});var r=n(2265);let useBehaviorSubject=t=>{let[e,n]=(0,r.useState)(null==t?void 0:t.getValue()),[o,s]=(0,r.useState)();return(0,r.useEffect)(()=>{if(!t){n(null);return}let e=t.subscribe({next:t=>{n(t)},error:s});return()=>e.unsubscribe()},[t]),[e]}},97716:function(t,e,n){"use strict";n.d(e,{s:function(){return useMounted}});var r=n(2265);let useMounted=()=>{let[t,e]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{e(!0)},[]),{mounted:t}}},19739:function(t,e,n){"use strict";n.d(e,{p:function(){return useToast}});var r=n(36953);function useToast(){let{enqueueSnackbar:t}=(0,r.Ds)();return{showSuccessToast:e=>{t(e,{variant:"success"})},showErrorToast:e=>{t(e,{variant:"error"})}}}},63491:function(t,e,n){"use strict";n.d(e,{$Y:function(){return setOnGoingFlowOperation},Ad:function(){return clearPostSignInUrl},Kt:function(){return getOnGoingFlowOperation},cX:function(){return o},fK:function(){return clearOnGoingFlowOperation},qC:function(){return setPostSignInUrl},vX:function(){return usePostSignInFlow}});var r,o,s=n(92e3),i=n(36079);(r=o||(o={}))[r.OnBoardingEmailBinding=0]="OnBoardingEmailBinding",r[r.OnBoardingBrowserBinding=1]="OnBoardingBrowserBinding",r[r.EmailSignIn=2]="EmailSignIn";let a="ongoingflowoperation",l="postsigninurl";function getOnGoingFlowOperation(){return o[localStorage.getItem(a)]}function setOnGoingFlowOperation(t){localStorage.setItem(a,o[t])}function clearOnGoingFlowOperation(){localStorage.removeItem(a)}function setPostSignInUrl(t){i.k.log("flow","Setting post sign in url to:",t),localStorage.setItem(l,t)}function clearPostSignInUrl(){i.k.log("flow","Clearing post sign in url"),localStorage.removeItem(l)}function usePostSignInFlow(){let t=(0,s.useRouter)();return{navigateToPostSignInLandingPage(e){let n=localStorage.getItem(l);if(n)i.k.log("flow","Navigating to post sign in landing page:",n),t.replace(n),clearPostSignInUrl();else{let n=e||"/dashboard";i.k.log("flow","Navigating to post sign in landing page ".concat(n)),t.push(n)}}}}}},function(t){t.O(0,[6990,9787,9443,8218,3988,395,8321,3824,6642,1228,5295,1396,1510,2e3,6953,2503,4558,8641,1869,9034,6563,3262,2971,7864,1744],function(){return t(t.s=69243)}),_N_E=t.O()}]);