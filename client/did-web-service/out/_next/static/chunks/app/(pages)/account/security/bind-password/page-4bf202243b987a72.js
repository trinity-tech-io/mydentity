(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4593],{3597:function(e,r,s){Promise.resolve().then(s.bind(s,16650))},16650:function(e,r,s){"use strict";s.r(r);var t=s(57437),n=s(2265),o=s(92e3),a=s(6882),i=s(50819),l=s(45550),u=s(80072),c=s(39513),d=s(49017),p=s(15707),f=s(40542),h=s(97716),m=s(19739),x=s(14776),w=s(5796),b=s(23785);r.default=()=>{let{mounted:e}=(0,h.s)(),[r]=(0,f.V)(x.jU),s=null==r?void 0:r.get("security"),[g]=(0,f.V)(null==s?void 0:s.shadowKeys$),j=null==s?void 0:s.isPasswordBound(),[v,y]=(0,n.useState)({pw:"",confirm:""}),[S,Z]=(0,n.useState)(!1),[P,M]=(0,n.useState)(!1),{showSuccessToast:N,showErrorToast:k}=(0,m.p)(),A=(0,o.useRouter)(),C=(0,n.useRef)(null),T=(0,n.useRef)(null),R=v.pw.length>0&&v.pw===v.confirm,handlePassword=e=>r=>{y(s=>{let t={...s};return t[e]=r.target.value,t})},bindPassword=async()=>{if(Z(!0),C.current.value===T.current.value){M(!0);try{if(await s.ensureMasterKeyUnlocked()){let e=await s.bindPassword(v.pw);e&&(N("Master password set successfully"),setTimeout(()=>{A.push("/account/security")},500))}else k("".concat(j?"Updating":"Creating"," password failed"));M(!1)}catch(e){k("".concat(j?"Updating":"Creating"," password failed"))}}};return e&&r&&g?(0,t.jsxs)("div",{className:"col-span-full",children:[(0,t.jsx)(p.Z,{title:"Password Manager",description:"To create a strong password, use a combination of upper and lower case letters, numbers, and special characters. Avoid easily guessable information, consider using passphrases, and use different passwords for different accounts. Regularly update your passwords to enhance security.",showBg:!0}),(0,t.jsxs)("div",{className:"max-w-lg m-auto",children:[(0,t.jsx)(c.CA,{className:"relative w-full md:pb-2",children:(0,t.jsx)("div",{className:"absolute inset-0 p-2",children:(0,t.jsx)("div",{className:"dashed-body w-full h-full rounded-2xl p-1.5",children:(0,t.jsx)("div",{className:"px-6 py-8 w-full h-full",children:(0,t.jsxs)("div",{className:"flex flex-col gap-5 h-full justify-center",children:[(0,t.jsxs)(d.Z,{fullWidth:!0,children:[(0,t.jsx)(i.Z,{htmlFor:"pw",children:"PASSWORD"}),(0,t.jsx)(u.Z,{outerProps:{onChange:handlePassword("pw")},inputProps:{ref:C}})]}),(0,t.jsxs)(d.Z,{error:S&&v.pw!==v.confirm,fullWidth:!0,children:[(0,t.jsx)(i.Z,{htmlFor:"confirm-pw",children:"CONFIRM PASSWORD"}),(0,t.jsx)(u.Z,{outerProps:{id:"confirm-pw",color:"warning",onChange:handlePassword("confirm")},inputProps:{ref:T}}),(0,t.jsx)(l.Z,{children:"Confirm password is incorrect!"})]}),(0,t.jsx)("div",{className:"py-2",children:(0,t.jsx)(w.S,{state:w.X.Bad,advice:"Important reminder: There is no way to retrieve or recover this password later. Please keep it securely stored for your account's safety."})})]})})})})}),(0,t.jsx)("div",{className:"w-full p-[5%]",children:(0,t.jsx)(b.Kz,{className:"w-full",disabled:!R,loading:P,onClick:bindPassword,children:j?"UPDATE PASSWORD":"CREATE PASSWORD"})})]})]}):(0,t.jsx)(a.Z,{})}},5796:function(e,r,s){"use strict";s.d(r,{S:function(){return SecurityStatus},X:function(){return n}});var t,n,o=s(57437),a=s(60289),i=s(14819),l=s(39830);(t=n||(n={}))[t.Unknown=0]="Unknown",t[t.Good=1]="Good",t[t.Average=2]="Average",t[t.Bad=3]="Bad";let u={0:"#3A3A3A",1:"#34A853",2:"#ED6C02",3:"#EA4335"},c={0:(0,o.jsx)(l.JO,{icon:"fluent-mdl2:unknown-solid",fontSize:24}),1:(0,o.jsx)(l.JO,{icon:"carbon:checkmark-filled",fontSize:24}),2:(0,o.jsx)(i.Z,{}),3:(0,o.jsx)(a.Z,{})},SecurityStatus=e=>{let{state:r,advice:s}=e;return(0,o.jsxs)("div",{className:"flex rounded-lg px-2 py-4 flex gap-2",style:{background:u[r]},children:[(0,o.jsx)("span",{className:"text-white",children:c[r]}),(0,o.jsx)("span",{className:"text-white text-[13px] leading-[1.4] font-semibold",children:s})]})}},80072:function(e,r,s){"use strict";var t=s(57437),n=s(2265),o=s(35843),a=s(71711),i=s(52653),l=s(81679),u=s(49605),c=s(4193),d=s(57042);let p=(0,o.ZP)(a.Z)(e=>{let{theme:r}=e;return{input:{color:"white",marginTop:{xs:16,sm:20},[r.breakpoints.down("sm")]:{marginTop:16},[r.breakpoints.up("sm")]:{marginTop:20}}}}),f=(0,o.ZP)(i.Z)(e=>{let{theme:r}=e;return{color:"white"}});r.Z=e=>{let{outerProps:r={},inputProps:s={}}=e,[o,a]=n.useState(!1);return(0,t.jsx)(p,{...r,type:o?"input":"password",className:(0,d.Z)("password-input",!o&&"redacted"),inputProps:{maxLength:100,...s},startAdornment:(0,t.jsx)(l.Z,{position:"start",className:"absolute"}),endAdornment:(0,t.jsx)(l.Z,{position:"end",children:(0,t.jsx)(f,{size:"small","aria-label":"toggle password visibility",onClick:()=>a(e=>!e),onMouseDown:e=>{e.preventDefault()},children:o?(0,t.jsx)(c.Z,{sx:{fontSize:{xs:20,sm:24}}}):(0,t.jsx)(u.Z,{sx:{fontSize:{xs:20,sm:24}}})})})})}},49017:function(e,r,s){"use strict";var t=s(35843),n=s(84081);let o=(0,t.ZP)(n.Z)(e=>{let{theme:r}=e;return{".MuiInput-root":{marginTop:0,"&:before, &:after":{opacity:.18,borderColor:"white"}},".MuiInputBase-root.MuiInput-root:hover:not(.Mui-disabled, .Mui-error)":{"&:before, &:after":{opacity:.18,borderColor:"white"}},".MuiInput-root.Mui-focused":{"&:before, &:after":{opacity:.3}},".MuiInputLabel-root, .MuiInputLabel-root.Mui-focused:not(.Mui-error)":{color:"white",fontSize:"10px",transform:"unset",WebkitTransform:"unset"},"#holder-name":{fontWeight:600,fontSize:"15pt",textAlign:"center",caretColor:"white",color:"rgb(255 255 255 / 65%)"},".password-input.redacted":{fontFamily:"Redacted Script"},".MuiFormHelperText-root":{marginLeft:0,display:"none"},".MuiFormHelperText-root.Mui-error, .MuiFormHelperText-root.visible":{display:"block"}}});r.Z=o},15707:function(e,r,s){"use strict";var t=s(57437),n=s(35843);let o=(0,n.ZP)("div")(e=>{let{showBg:r}=e;return{marginBottom:"1.5rem",background:r?"url('/headline-banner.png') no-repeat center center / cover":"none"}});r.Z=e=>{let{title:r,description:s,showBg:n=!1}=e;return(0,t.jsxs)(o,{showBg:n,className:n?"p-6 rounded-lg":"",children:[(0,t.jsx)("h3",{className:"w-full text-4xl font-bold pb-8",children:r}),(0,t.jsx)("span",{className:"mt-4",children:s})]})}},40542:function(e,r,s){"use strict";s.d(r,{V:function(){return useBehaviorSubject}});var t=s(2265);let useBehaviorSubject=e=>{let[r,s]=(0,t.useState)(null==e?void 0:e.getValue()),[n,o]=(0,t.useState)();return(0,t.useEffect)(()=>{if(!e){s(null);return}let r=e.subscribe({next:e=>{s(e)},error:o});return()=>r.unsubscribe()},[e]),[r]}},97716:function(e,r,s){"use strict";s.d(r,{s:function(){return useMounted}});var t=s(2265);let useMounted=()=>{let[e,r]=(0,t.useState)(!1);return(0,t.useEffect)(()=>{r(!0)},[]),{mounted:e}}}},function(e){e.O(0,[6990,9787,9443,8218,3988,395,8321,3824,6642,1228,5295,1396,1510,2e3,6953,2178,4558,6133,9618,3262,9513,2971,7864,1744],function(){return e(e.s=3597)}),_N_E=e.O()}]);