(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8037],{88519:function(e,t,n){"use strict";var i=n(1091);t.Z=i.Z},33449:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var i,r=n(2265);let l=0,s=(i||(i=n.t(r,2)))["useId".toString()];function a(e){if(void 0!==s){let t=s();return null!=e?e:t}return function(e){let[t,n]=r.useState(e),i=e||t;return r.useEffect(()=>{null==t&&n(`mui-${l+=1}`)},[t]),i}(e)}},29675:function(e,t,n){Promise.resolve().then(n.bind(n,42723))},42723:function(e,t,n){"use strict";n.r(t);var i=n(57437),r=n(42463),l=n(50543),s=n(9254),a=n(40542),c=n(73762),o=n(43226),u=n(67248),d=n(19739),p=n(78596),f=n(36079),h=n(14776),v=n(24033),x=n(2265);t.default=e=>{let{params:t}=e,n=(0,v.useSearchParams)(),m=null==n?void 0:n.get("did"),y=m&&decodeURIComponent(m),[j]=(0,a.V)(h.jU),g=null==j?void 0:j.get("identity"),[b]=(0,a.V)(null==g?void 0:g.applicationIdentities$),w=null==b?void 0:b.find(e=>e.did===y),[k]=(0,a.V)(null==w?void 0:w.credentials().credentials$),[N,S]=(0,x.useState)(null),[C,D]=(0,x.useState)(null),[E,O]=(0,x.useState)(null),[I,Z]=(0,x.useState)(!1),[T,P]=(0,x.useState)(null),[_,A]=(0,x.useState)(!1),[U,V]=(0,x.useState)(!1),{showSuccessToast:B,showErrorToast:L}=(0,d.p)(),R=(0,x.useCallback)(()=>{Z(!1),p._.resolveDIDDocument(y,!0).then(async e=>{P(e),Z(!0),e?f.k.log("developers","App DID is on chain"):f.k.log("developers","App DID is NOT on chain")})},[y]);(0,x.useEffect)(()=>{f.k.log("developers","Checking if the application DID is on chain or not"),R()},[R]),(0,x.useEffect)(()=>{w&&w.synchronizeDIDDocument()},[y,w]),(0,x.useEffect)(()=>{N&&(D(null==N?void 0:N.getSubject().getProperty("name")),O(null==N?void 0:N.getSubject().getProperty("iconUrl")))},[N]),(0,x.useEffect)(()=>{M()},[C,E,T]),(0,x.useEffect)(()=>{S(null==w?void 0:w.credentials().getCredentialByType("ApplicationCredential"))},[w,k]);let z=async()=>{await w.update(C,E)},F=async()=>{if(!U){if(!E){L("Set app icon");return}V(!0),z(),await w.publication().publish(),R(),V(!1)}},H=()=>I&&null!=T,W=()=>{let e=T.getCredentialByType("ApplicationCredential");return!!e&&C===e.getSubject().getProperty("name")},$=()=>{let e=T.getCredentialByType("ApplicationCredential");return!!e&&E===e.getSubject().getProperty("iconUrl")},M=()=>{A(!H()||!W()||!$())},J=async e=>{let t=await (0,c.L)(w,e);console.log("uploadedAvatar",t),await w.update(C,t.avatarHiveURL)};return(0,i.jsxs)("div",{className:"col-span-full",children:[(0,i.jsx)(r.O,{entries:["developers","application-details"]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(o.Z,{variant:"h6",children:"Application details"}),(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsx)("div",{children:(0,i.jsx)(l.L,{credential:N,onFileUpload:J})}),(0,i.jsxs)("div",{className:"flex flex-row mt-4 items-center gap-4",children:[(0,i.jsx)("div",{children:"Name"}),(0,i.jsx)("div",{children:(0,i.jsx)(u.Z,{className:"w-full",label:"Application name",onChange:e=>{var t;D(null===(t=e.currentTarget)||void 0===t?void 0:t.value),M()},defaultValue:C,autoFocus:!0,variant:"outlined",autoComplete:"off"})})]})]})]}),(0,i.jsxs)("div",{className:"flex flex-col gap-4 mt-8",children:[(0,i.jsxs)("div",{className:"flex flex-row gap-4",children:[(0,i.jsx)("div",{children:(0,i.jsx)("p",{children:"DID"})}),(0,i.jsx)("div",{children:(0,i.jsx)(o.Z,{children:y})})]}),(0,i.jsxs)("div",{className:"flex flex-row gap-4",children:[(0,i.jsx)("div",{children:"App DID published?"}),(0,i.jsxs)("div",{children:[!I&&(0,i.jsx)(o.Z,{children:"Checking"}),I&&T&&(0,i.jsx)(o.Z,{children:"Yes"}),I&&!T&&(0,i.jsx)(o.Z,{children:"No"})]})]}),(0,i.jsxs)("div",{className:"mt-4",children:[I&&N&&_&&(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{children:"The local application info has been modified, please publish it for others to view your new app info."}),(0,i.jsx)(s.c,{onClick:F,busy:U,children:"Publish DID"})]}),I&&N&&!_&&(0,i.jsx)("p",{children:"Up to date"})]})]})]})}},42463:function(e,t,n){"use strict";n.d(t,{O:function(){return v}});var i,r,l=n(57437),s=n(61396),a=n.n(s),c=n(90952);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function u(){return(u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}let d=[{key:"dashboard",icon:(0,l.jsx)(function(e){return c.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),i||(i=c.createElement("path",{fill:"currentColor",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6.5 20v-9H3l9-6 9 6h-3.5v9h-3v-3.5A1.5 1.5 0 0 0 13 15h-2a1.5 1.5 0 0 0-1.5 1.5V20h-3Z"})))},{}),title:"Dashboard",path:"/dashboard"},{key:"profile",title:"Profile",path:"/profile"},{key:"account-profile",title:"Account profile",path:"/account/profile"},{key:"security-center",icon:(0,l.jsx)(function(e){return c.createElement("svg",u({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"},e),r||(r=c.createElement("g",{"data-name":"Layer 2"},c.createElement("path",{fill:"none",d:"M0 0h48v48H0z","data-name":"invisible box"}),c.createElement("path",{fill:"currentColor",d:"M24 2S6 7.1 6 8v18.2c0 9.2 13.3 17.3 17 19.5a1.8 1.8 0 0 0 2 0c3.8-2.1 17-10.3 17-19.5V8c0-.9-18-6-18-6Zm9.4 16.4-11 11a1.9 1.9 0 0 1-2.8 0l-4.9-4.9a2.2 2.2 0 0 1-.4-2.7 2 2 0 0 1 3.1-.2l3.6 3.6 9.6-9.6a2 2 0 0 1 2.8 2.8Z","data-name":"icons Q2"}))))},{}),title:"Security center",path:"/account/security"},{key:"bind-browser",title:"Bind browser",path:"/account/security/bind-passkey"},{key:"bind-email",title:"Bind email",path:"/account/security/bind-email"},{key:"bind-password",title:"Bind password",path:"/account/security/bind-password"},{key:"credentials-list",title:"All credentials",path:"/account/credentials/list"},{key:"delete-identity",title:"Identity deletion",path:"/delete-identity"},{key:"storage",title:"Storage",path:"/storage"},{key:"applications",title:"Applications",path:"/applications"},{key:"developers",title:"Developers",path:"/developers"},{key:"application-details",title:"Application details"}];function p(e){let t=d.find(t=>t.key===e);if(!t)throw Error("Unknown breadcrumbs item ".concat(e));return t}let f=e=>{let{item:t}=e,{icon:n,title:i,path:r}=t;return(0,l.jsxs)("div",{className:"flex flex-row items-center justify-center",children:[n&&(0,l.jsx)("div",{className:"mr-1",style:{width:18,height:18,color:"var(--primary-color)"},children:n}),r&&(0,l.jsx)(a(),{href:r,className:" bg-gray-200 px-3 py-1 rounded-lg",style:{fontSize:14},children:i}),!r&&(0,l.jsx)("div",{children:i})]})},h=()=>(0,l.jsx)("div",{className:"mx-2",children:"/"}),v=e=>{let{entries:t}=e,n=p("dashboard"),i=[n,...t.map(e=>p(e))];return(0,l.jsx)("div",{className:"flex flex-row items-center w-full justify-center",children:i.map((e,t)=>(0,l.jsxs)("div",{className:"flex flex-row items-center",children:[(0,l.jsx)(f,{item:e}),t<i.length-1&&(0,l.jsx)(h,{})]},t))})}},96283:function(e,t,n){"use strict";n.d(t,{J:function(){return o}});var i=n(57437),r=n(40542),l=n(3283),s=n(57042),a=n(16691),c=n.n(a);let o=e=>{let{credential:t,width:n=60,height:a=60,className:o}=e,[u]=(0,r.V)(null==t?void 0:t.representativeIcon$);return(0,i.jsx)(l.Z,{sx:{width:n,height:a},className:(0,s.Z)(o),children:"string"==typeof u?(0,i.jsx)(c(),{src:u,alt:"",width:n,height:a}):u})}},50543:function(e,t,n){"use strict";n.d(t,{L:function(){return c}});var i=n(57437),r=n(46028),l=n(57042),s=n(22440),a=n(96283);let c=e=>{let{credential:t,onFileUpload:n,width:c,height:o,updating:u=!1,disabled:d=!1}=e,p=async e=>{if(!d&&(null==e?void 0:e.length)>0){let t=e[0];n(t)}},{getRootProps:f,getInputProps:h,isDragActive:v,isDragReject:x,fileRejections:m}=(0,s.uI)({multiple:!1,maxFiles:1,onDrop:p});return(0,i.jsxs)("div",{...!d&&f(),style:{...v&&{opacity:.72}},className:(0,l.Z)(!d&&"cursor-pointer"),children:[!d&&(0,i.jsx)("input",{...h()}),(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)(a.J,{credential:t,width:c,height:o}),u&&(0,i.jsx)(r.a,{className:"absolute top-0 bottom-0 left-0 right-0"})]})]})}},9254:function(e,t,n){"use strict";n.d(t,{c:function(){return a}});var i=n(57437),r=n(6882),l=n(49050),s=n(57042);let a=e=>{let{leftIcon:t,size:n="medium",mode:a="default",onClick:c,children:o,busy:u=!1,disabled:d=!1,className:p}=e,f=(0,i.jsx)(r.Z,{size:16});return(0,i.jsx)("div",{className:(0,s.Z)("flex",p),children:(0,i.jsx)(l.Z,{className:"flex-1",startIcon:u?f:t,disabled:u||d,size:n,color:"default"===a?"primary":"error",variant:"contained",onClick:c,children:o})})}},46028:function(e,t,n){"use strict";n.d(t,{a:function(){return l}});var i=n(57437),r=n(57042);n(87661);let l=e=>{let{className:t,width:n,height:l}=e;return(0,i.jsx)("div",{className:(0,r.Z)("loading-circle",t),style:{...n&&{width:n},...l&&{height:l}},children:(0,i.jsx)("div",{className:"content",children:(0,i.jsx)("div",{className:"animated"})})})}},40542:function(e,t,n){"use strict";n.d(t,{V:function(){return r}});var i=n(2265);let r=e=>{let[t,n]=(0,i.useState)(null==e?void 0:e.getValue()),[r,l]=(0,i.useState)();return(0,i.useEffect)(()=>{if(!e){n(null);return}let t=e.subscribe({next:e=>{n(e)},error:l});return()=>t.unsubscribe()},[e]),[t]}},19739:function(e,t,n){"use strict";n.d(t,{p:function(){return r}});var i=n(36953);function r(){let{enqueueSnackbar:e}=(0,i.Ds)();return{showSuccessToast:t=>{e(t,{variant:"success"})},showErrorToast:t=>{e(t,{variant:"error"})}}}},87661:function(){},24033:function(e,t,n){e.exports=n(20290)},33018:function(e,t,n){"use strict";var i=n(61289);function r(){}function l(){}l.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,l,s){if(s!==i){var a=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:l,resetWarningCache:r};return n.PropTypes=n,n}},74275:function(e,t,n){e.exports=n(33018)()},61289:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},function(e){e.O(0,[6990,9787,9443,8218,3988,395,8321,9152,5295,1396,1510,9930,7995,2699,5792,6931,7998,1067,7248,2440,3262,2971,7864,1744],function(){return e(e.s=29675)}),_N_E=e.O()}]);