(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7509],{7725:function(e,t,n){Promise.resolve().then(n.bind(n,50297))},50297:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var i=n(57437),r=n(20484),s=n(451),o=n(69990),a=n(2265),l=n(12131),c=n(43226),u=n(38693),d=n(24033);let f=e=>{let{onSkip:t}=e,n=(0,d.useRouter)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.Z,{variant:"h5",className:"w-full text-center font-semibold mt-32 mb-24 leading-9",children:"You're now on board, welcome to your Web3 identity."}),(0,i.jsxs)("p",{className:"mt-4",children:["Your identity is a Web3 identity, ",(0,i.jsx)("b",{children:"protected by cryptographic keys"}),". Many Web3 applications require you to save those keys by yourself, and you will sometimes do that in unsafe ways. On the contrary, this service partially stores the complex cryptographic keys for you so you don't have to do it. Your keys are protected by your own devices or passwords and ",(0,i.jsx)("b",{children:"this app cannot do anything without your consent"}),". For this reason, you need to bind multiple devices and browsers, as this is your only way to recover your account later in case one of the devices is lost. ",(0,i.jsx)("b",{children:"We cannot do that for you"}),"."]}),(0,i.jsxs)("div",{className:"flex flex-row mt-4 gap-4 w-full",children:[(0,i.jsxs)("div",{className:"flex flex-col gap-6 bg-slate-200 rounded-lg p-10 flex-1",children:[(0,i.jsxs)("p",{children:["Verify one of your existing email addresses and bind it to your account with a password. You can later use your ",(0,i.jsx)("b",{children:"email and password"})," to sign in and unlock access to your identity."]}),(0,i.jsx)(l.c,{onClick:()=>{(0,u.$Y)(u.cX.OnBoardingEmailBinding),n.push("/account/security/bind-email")},children:"Bind an email address"})]}),(0,i.jsxs)("div",{className:"flex flex-col gap-6 bg-slate-200 rounded-lg p-10 flex-1",children:[(0,i.jsxs)("p",{children:["Bind your current browser. This ",(0,i.jsx)("b",{children:"doesn't require to provide any email or password"}),", but access to your identity will be lost if you don't bind multiple devices as recovery."]}),(0,i.jsx)(l.c,{onClick:()=>{(0,u.$Y)(u.cX.OnBoardingBrowserBinding),n.push("/account/security/bind-passkey")},children:"Bind my browser"})]})]}),(0,i.jsx)("div",{className:"flex flex-row justify-center mt-10",children:(0,i.jsx)("a",{className:"cursor-pointer",onClick:t,children:"I'll do this later, just taking a first look for now."})})]})};var h=n(69071),y=n(61396),m=n.n(y);let x=()=>{let e=(0,d.useRouter)(),[t]=(0,s.V)(o.jU),[n]=(0,s.V)(null==t?void 0:t.name$),[r,l]=(0,a.useState)(!1);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.Z,{variant:"h5",className:"w-full text-center font-semibold mt-32 mb-24 leading-9",children:"Let's create a first identity"}),(0,i.jsx)(h.K,{suggestedName:n,onIdentityCreating:()=>{l(!0)},onIdentityCreated:()=>{e.push("/dashboard")}}),!r&&(0,i.jsx)("div",{className:"flex flex-row justify-center mt-10",children:(0,i.jsx)(m(),{href:"/dashboard",children:"I'll do this later, just taking a first look for now."})})]})};var p=()=>{let[e]=(0,s.V)(o.jU),t=null==e?void 0:e.get("security"),[n]=(0,s.V)(null==t?void 0:t.shadowKeys$),l=!!n,c=null==t?void 0:t.isThisBrowserBound(),[u,d]=(0,a.useState)(!1);return(0,i.jsxs)("div",{className:"col-span-full",children:[!l&&(0,i.jsx)(r.q,{}),l&&(0,i.jsxs)(i.Fragment,{children:[!c&&!u&&(0,i.jsx)(f,{onSkip:()=>{d(!0)}}),(c||u)&&(0,i.jsx)(x,{})]})]})}},69071:function(e,t,n){"use strict";n.d(t,{K:function(){return g}});var i=n(57437),r=n(12131),s=n(57135),o=n(451),a=n(42937),l=n(67212),c=n(96556),u=n(87401),d=n(69990),f=n(2265),h=(0,n(29761).d)(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}}),y=n(70163),m=(new(n(425)).y(function(e){return e.complete()}),n(72849)),x=n(46567),p=n(77088);let g=e=>{let{suggestedName:t="",onIdentityCreating:n,onIdentityCreated:g}=e,v=(0,f.useRef)(null),[b]=(0,o.V)(d.jU),{mounted:w}=(0,a.s)(),{showSuccessToast:j}=(0,c.p)(),[N,k]=(0,f.useState)(!1),[B,S]=(0,f.useState)(!1),[I,C]=(0,f.useState)(!1),[E,O]=(0,f.useState)(!1),V=async e=>{null==e||e.preventDefault();let t=v.current.value;k(!0),null==n||n(),S(!0);let i=await (0,s.HL)(async()=>await b.get("identity").createIdentity(t));S(!1),i&&(u.D.setActiveIdentity(i),i.get("profile").profileCredentials$.pipe(function(e,t){var n=arguments.length>=2;return function(t){var i;return t.pipe(e?(0,y.h)(function(n,i){return e(n,i,t)}):p.y,(0,m.e)(function(e,t){var n=0;e.subscribe((0,x.x)(t,function(e){++n<=1&&(t.next(e),1<=n&&t.complete())}))}),n?(i=void 0,(0,m.e)(function(e,t){var n=!1;e.subscribe((0,x.x)(t,function(e){n=!0,t.next(e)},function(){n||t.next(i),t.complete()}))})):(0,m.e)(function(e,t){var n=!1;e.subscribe((0,x.x)(t,function(e){n=!0,t.next(e)},function(){return n?t.complete():t.error(new h)}))}))}}(e=>!!e)).subscribe(async()=>{await i.get("profile").createInitialNameCredential(t),C(!0),await i.get("publication").awaitIdentityPublished(),C(!1),O(!0),await i.get("hive").awaitHiveVaultReady(),O(!1),j("Your new identity was created!"),g(i)}))};return w?(0,i.jsxs)("div",{className:"col-span-full",children:[(0,i.jsx)("form",{className:"border-b border-slate-200 dark:border-slate-700",onSubmit:V,children:(0,i.jsx)("div",{className:"pt-2 pb-2",children:(0,i.jsx)(l.Z,{className:"w-full",label:"Identity name",inputRef:v,autoFocus:!0,defaultValue:t,variant:"outlined",size:"small"})})}),(0,i.jsx)(r.c,{onClick:V,busy:N,children:"Create this identity"}),(0,i.jsxs)("div",{className:"flex flex-col",children:[B&&"Creating the secure identity",I&&"Registering identity",E&&"Creating storage"]})]}):null}},20484:function(e,t,n){"use strict";n.d(t,{q:function(){return s}});var i=n(57437),r=n(57042);n(26435);let s=e=>{let{className:t}=e;return(0,i.jsx)("div",{className:(0,r.Z)("vertical-stack-loading-card",t),children:(0,i.jsxs)("div",{className:"content",children:[(0,i.jsx)("p",{}),(0,i.jsx)("h2",{}),(0,i.jsx)("h2",{})]})})}},42937:function(e,t,n){"use strict";n.d(t,{s:function(){return r}});var i=n(2265);let r=()=>{let[e,t]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{t(!0)},[]),{mounted:e}}},96556:function(e,t,n){"use strict";n.d(t,{p:function(){return r}});var i=n(36953);function r(){let{enqueueSnackbar:e}=(0,i.Ds)();return{showSuccessToast:t=>{e(t,{variant:"success"})},showErrorToast:t=>{e(t,{variant:"error"})}}}},38693:function(e,t,n){"use strict";var i,r;n.d(t,{$Y:function(){return a},Kt:function(){return o},cX:function(){return i},fK:function(){return l}}),(r=i||(i={}))[r.OnBoardingEmailBinding=0]="OnBoardingEmailBinding",r[r.OnBoardingBrowserBinding=1]="OnBoardingBrowserBinding",r[r.EmailSignIn=2]="EmailSignIn";let s="ongoingflowoperation";function o(){return i[localStorage.getItem(s)]}function a(e){localStorage.setItem(s,i[e])}function l(){localStorage.removeItem(s)}},26435:function(){},61396:function(e,t,n){e.exports=n(46685)},24033:function(e,t,n){e.exports=n(68165)}},function(e){e.O(0,[6990,6110,1510,8920,4057,6685,6953,1385,2971,596,1744],function(){return e(e.s=7725)}),_N_E=e.O()}]);