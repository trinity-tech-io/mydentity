(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3777],{2899:function(e,t,r){"use strict";var l=r(26314);t.Z=void 0;var n=l(r(80984)),i=r(57437),a=(0,n.default)((0,i.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext");t.Z=a},49599:function(e,t,r){"use strict";var l=r(26314);t.Z=void 0;var n=l(r(80984)),i=r(57437),a=(0,n.default)((0,i.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");t.Z=a},64101:function(e,t,r){"use strict";var l=r(26314);t.Z=void 0;var n=l(r(80984)),i=r(57437),a=(0,n.default)((0,i.jsx)("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"}),"Security");t.Z=a},49605:function(e,t,r){"use strict";var l=r(26314);t.Z=void 0;var n=l(r(80984)),i=r(57437),a=(0,n.default)((0,i.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility");t.Z=a},4193:function(e,t,r){"use strict";var l=r(26314);t.Z=void 0;var n=l(r(80984)),i=r(57437),a=(0,n.default)((0,i.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff");t.Z=a},88938:function(e,t,r){"use strict";r.d(t,{Z:function(){return b}});var l=r(20791),n=r(13428),i=r(2265),a=r(57042),s=r(61380),o=r(25702),d=r(95600),c=r(48153),u=r(39190),p=r(84775),h=r(57437);let m=["className","component","disableGutters","fixed","maxWidth","classes"],x=(0,p.Z)(),f=(0,u.Z)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,t[`maxWidth${(0,s.Z)(String(r.maxWidth))}`],r.fixed&&t.fixed,r.disableGutters&&t.disableGutters]}}),useThemePropsDefault=e=>(0,c.Z)({props:e,name:"MuiContainer",defaultTheme:x}),useUtilityClasses=(e,t)=>{let{classes:r,fixed:l,disableGutters:n,maxWidth:i}=e,a={root:["root",i&&`maxWidth${(0,s.Z)(String(i))}`,l&&"fixed",n&&"disableGutters"]};return(0,d.Z)(a,e=>(0,o.Z)(t,e),r)};var v=r(28702),y=r(35843),g=r(87927);let Z=function(e={}){let{createStyledComponent:t=f,useThemeProps:r=useThemePropsDefault,componentName:s="MuiContainer"}=e,o=t(({theme:e,ownerState:t})=>(0,n.Z)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!t.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}}),({theme:e,ownerState:t})=>t.fixed&&Object.keys(e.breakpoints.values).reduce((t,r)=>{let l=e.breakpoints.values[r];return 0!==l&&(t[e.breakpoints.up(r)]={maxWidth:`${l}${e.breakpoints.unit}`}),t},{}),({theme:e,ownerState:t})=>(0,n.Z)({},"xs"===t.maxWidth&&{[e.breakpoints.up("xs")]:{maxWidth:Math.max(e.breakpoints.values.xs,444)}},t.maxWidth&&"xs"!==t.maxWidth&&{[e.breakpoints.up(t.maxWidth)]:{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`}})),d=i.forwardRef(function(e,t){let i=r(e),{className:d,component:c="div",disableGutters:u=!1,fixed:p=!1,maxWidth:x="lg"}=i,f=(0,l.Z)(i,m),v=(0,n.Z)({},i,{component:c,disableGutters:u,fixed:p,maxWidth:x}),y=useUtilityClasses(v,s);return(0,h.jsx)(o,(0,n.Z)({as:c,ownerState:v,className:(0,a.Z)(y.root,d),ref:t},f))});return d}({createStyledComponent:(0,y.ZP)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,t[`maxWidth${(0,v.Z)(String(r.maxWidth))}`],r.fixed&&t.fixed,r.disableGutters&&t.disableGutters]}}),useThemeProps:e=>(0,g.Z)({props:e,name:"MuiContainer"})});var b=Z},38212:function(e,t,r){"use strict";var l=r(20791),n=r(13428),i=r(2265),a=r(57042),s=r(95600),o=r(43226),d=r(77820),c=r(87927),u=r(35843),p=r(69660),h=r(57437);let m=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],useUtilityClasses=e=>{let{classes:t,inset:r,primary:l,secondary:n,dense:i}=e;return(0,s.Z)({root:["root",r&&"inset",i&&"dense",l&&n&&"multiline"],primary:["primary"],secondary:["secondary"]},p.L,t)},x=(0,u.ZP)("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[{[`& .${p.Z.primary}`]:t.primary},{[`& .${p.Z.secondary}`]:t.secondary},t.root,r.inset&&t.inset,r.primary&&r.secondary&&t.multiline,r.dense&&t.dense]}})(({ownerState:e})=>(0,n.Z)({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},e.primary&&e.secondary&&{marginTop:6,marginBottom:6},e.inset&&{paddingLeft:56})),f=i.forwardRef(function(e,t){let r=(0,c.Z)({props:e,name:"MuiListItemText"}),{children:s,className:u,disableTypography:p=!1,inset:f=!1,primary:v,primaryTypographyProps:y,secondary:g,secondaryTypographyProps:Z}=r,b=(0,l.Z)(r,m),{dense:j}=i.useContext(d.Z),C=null!=v?v:s,k=g,w=(0,n.Z)({},r,{disableTypography:p,inset:f,primary:!!C,secondary:!!k,dense:j}),N=useUtilityClasses(w);return null==C||C.type===o.Z||p||(C=(0,h.jsx)(o.Z,(0,n.Z)({variant:j?"body2":"body1",className:N.primary,component:null!=y&&y.variant?void 0:"span",display:"block"},y,{children:C}))),null==k||k.type===o.Z||p||(k=(0,h.jsx)(o.Z,(0,n.Z)({variant:"body2",className:N.secondary,color:"text.secondary",display:"block"},Z,{children:k}))),(0,h.jsxs)(x,(0,n.Z)({className:(0,a.Z)(N.root,u),ownerState:w,ref:t},b,{children:[C,k]}))});t.Z=f},13457:function(e,t,r){"use strict";r.d(t,{Z:function(){return C}});var l=r(20791),n=r(13428),i=r(2265),a=r(57042),s=r(15959),o=r(95600),d=r(25702),c=r(39190),u=r(48153),p=r(43381),h=r(84775),m=r(65425),x=r(47508),f=r(57437);let v=["component","direction","spacing","divider","children","className","useFlexGap"],y=(0,h.Z)(),g=(0,c.Z)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function useThemePropsDefault(e){return(0,u.Z)({props:e,name:"MuiStack",defaultTheme:y})}let getSideFromDirection=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],style=({ownerState:e,theme:t})=>{let r=(0,n.Z)({display:"flex",flexDirection:"column"},(0,m.k9)({theme:t},(0,m.P$)({values:e.direction,breakpoints:t.breakpoints.values}),e=>({flexDirection:e})));if(e.spacing){let l=(0,x.hB)(t),n=Object.keys(t.breakpoints.values).reduce((t,r)=>(("object"==typeof e.spacing&&null!=e.spacing[r]||"object"==typeof e.direction&&null!=e.direction[r])&&(t[r]=!0),t),{}),i=(0,m.P$)({values:e.direction,base:n}),a=(0,m.P$)({values:e.spacing,base:n});"object"==typeof i&&Object.keys(i).forEach((e,t,r)=>{let l=i[e];if(!l){let l=t>0?i[r[t-1]]:"column";i[e]=l}}),r=(0,s.Z)(r,(0,m.k9)({theme:t},a,(t,r)=>e.useFlexGap?{gap:(0,x.NA)(l,t)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${getSideFromDirection(r?i[r]:e.direction)}`]:(0,x.NA)(l,t)}}))}return(0,m.dt)(t.breakpoints,r)};var Z=r(35843),b=r(87927);let j=function(e={}){let{createStyledComponent:t=g,useThemeProps:r=useThemePropsDefault,componentName:s="MuiStack"}=e,useUtilityClasses=()=>(0,o.Z)({root:["root"]},e=>(0,d.Z)(s,e),{}),c=t(style),u=i.forwardRef(function(e,t){let s=r(e),o=(0,p.Z)(s),{component:d="div",direction:u="column",spacing:h=0,divider:m,children:x,className:y,useFlexGap:g=!1}=o,Z=(0,l.Z)(o,v),b=useUtilityClasses();return(0,f.jsx)(c,(0,n.Z)({as:d,ownerState:{direction:u,spacing:h,useFlexGap:g},ref:t,className:(0,a.Z)(b.root,y)},Z,{children:m?function(e,t){let r=i.Children.toArray(e).filter(Boolean);return r.reduce((e,l,n)=>(e.push(l),n<r.length-1&&e.push(i.cloneElement(t,{key:`separator-${n}`})),e),[])}(x,m):x}))});return u}({createStyledComponent:(0,Z.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>(0,b.Z)({props:e,name:"MuiStack"})});var C=j},73701:function(e,t,r){"use strict";r.d(t,{Z:function(){return y}});var l=r(20791),n=r(13428),i=r(2265),a=r(57042),s=r(95600),o=r(65969),d=r(87927),c=r(35843),u=r(26520),p=r(25702);function getTableUtilityClass(e){return(0,p.Z)("MuiTable",e)}(0,u.Z)("MuiTable",["root","stickyHeader"]);var h=r(57437);let m=["className","component","padding","size","stickyHeader"],useUtilityClasses=e=>{let{classes:t,stickyHeader:r}=e;return(0,s.Z)({root:["root",r&&"stickyHeader"]},getTableUtilityClass,t)},x=(0,c.ZP)("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,r.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>(0,n.Z)({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":(0,n.Z)({},e.typography.body2,{padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},t.stickyHeader&&{borderCollapse:"separate"})),f="table",v=i.forwardRef(function(e,t){let r=(0,d.Z)({props:e,name:"MuiTable"}),{className:s,component:c=f,padding:u="normal",size:p="medium",stickyHeader:v=!1}=r,y=(0,l.Z)(r,m),g=(0,n.Z)({},r,{component:c,padding:u,size:p,stickyHeader:v}),Z=useUtilityClasses(g),b=i.useMemo(()=>({padding:u,size:p,stickyHeader:v}),[u,p,v]);return(0,h.jsx)(o.Z.Provider,{value:b,children:(0,h.jsx)(x,(0,n.Z)({as:c,role:c===f?null:"table",ref:t,className:(0,a.Z)(Z.root,s),ownerState:g},y))})});var y=v},39279:function(e,t,r){"use strict";r.d(t,{Z:function(){return g}});var l=r(13428),n=r(20791),i=r(2265),a=r(57042),s=r(95600),o=r(28232),d=r(87927),c=r(35843),u=r(26520),p=r(25702);function getTableBodyUtilityClass(e){return(0,p.Z)("MuiTableBody",e)}(0,u.Z)("MuiTableBody",["root"]);var h=r(57437);let m=["className","component"],useUtilityClasses=e=>{let{classes:t}=e;return(0,s.Z)({root:["root"]},getTableBodyUtilityClass,t)},x=(0,c.ZP)("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),f={variant:"body"},v="tbody",y=i.forwardRef(function(e,t){let r=(0,d.Z)({props:e,name:"MuiTableBody"}),{className:i,component:s=v}=r,c=(0,n.Z)(r,m),u=(0,l.Z)({},r,{component:s}),p=useUtilityClasses(u);return(0,h.jsx)(o.Z.Provider,{value:f,children:(0,h.jsx)(x,(0,l.Z)({className:(0,a.Z)(p.root,i),as:s,ref:t,role:s===v?null:"rowgroup",ownerState:u},c))})});var g=y},66988:function(e,t,r){"use strict";r.d(t,{Z:function(){return g}});var l=r(13428),n=r(20791),i=r(2265),a=r(57042),s=r(95600),o=r(28232),d=r(87927),c=r(35843),u=r(26520),p=r(25702);function getTableHeadUtilityClass(e){return(0,p.Z)("MuiTableHead",e)}(0,u.Z)("MuiTableHead",["root"]);var h=r(57437);let m=["className","component"],useUtilityClasses=e=>{let{classes:t}=e;return(0,s.Z)({root:["root"]},getTableHeadUtilityClass,t)},x=(0,c.ZP)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),f={variant:"head"},v="thead",y=i.forwardRef(function(e,t){let r=(0,d.Z)({props:e,name:"MuiTableHead"}),{className:i,component:s=v}=r,c=(0,n.Z)(r,m),u=(0,l.Z)({},r,{component:s}),p=useUtilityClasses(u);return(0,h.jsx)(o.Z.Provider,{value:f,children:(0,h.jsx)(x,(0,l.Z)({as:s,className:(0,a.Z)(p.root,i),ref:t,role:s===v?null:"rowgroup",ownerState:u},c))})});var g=y},39190:function(e,t,r){"use strict";var l=r(61047);let n=(0,l.ZP)();t.Z=n},26371:function(e,t,r){"use strict";var l,n=r(90952);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e}).apply(this,arguments)}t.Z=function(e){return n.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 16"},e),l||(l=n.createElement("path",{fill:"currentColor",d:"M8 0h10c1.11 0 2 .89 2 2v2h-3.41L14 6.59v4l-2 2V16H8v-3.41l-2-2V5.41l2-2V0Zm8 7.41V10h4V6h-2.59L16 7.41ZM4.59 4 6 2.59V0H2C.89 0 0 .89 0 2v2h4.59ZM4 10V6H0v4h4Zm2 3.41L4.59 12H0v2c0 1.11.89 2 2 2h4v-2.59ZM15.41 12 14 13.41V16h4c1.11 0 2-.89 2-2v-2h-4.59Z"})))}},81922:function(e,t,r){var l=r(33074);e.exports=function(e,t){var r=[];return l(e,function(e,l,n){t(e,l,n)&&r.push(e)}),r}},77434:function(e,t,r){var l=r(14822),n=r(81922),i=r(57322),a=r(12068);e.exports=function(e,t){return(a(e)?l:n)(e,i(t,3))}},40649:function(e,t,r){Promise.resolve().then(r.bind(r,85629))},85629:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return page}});var l,n,i=r(57437),a=r(2265),s=r(92e3),o=r(61396),d=r.n(o),c=r(77434),u=r.n(c),p=r(89396),h=r(2899),m=r(58991),x=r(96507),f=r(13457),v=r(43226),y=r(81679),g=r(30666),Z=r(98489),b=r(88938),j=r(59500),C=r(74309),k=r(26371),w=r(23785),N=r(66267),P=r(78723),M=r(83129),S=r(19959),T=r(49599),U=r(54986),D=r(3283),I=r(22079),R=r(91797),F=r(35266),A=r(69299),E=r(20791),L=r(13428),V=r(57042),z=r(95600),W=r(77820),H=r(35843),O=r(87927),_=r(26520),B=r(25702);function getListItemAvatarUtilityClass(e){return(0,B.Z)("MuiListItemAvatar",e)}(0,_.Z)("MuiListItemAvatar",["root","alignItemsFlexStart"]);let $=["className"],useUtilityClasses=e=>{let{alignItems:t,classes:r}=e;return(0,z.Z)({root:["root","flex-start"===t&&"alignItemsFlexStart"]},getListItemAvatarUtilityClass,r)},K=(0,H.ZP)("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,"flex-start"===r.alignItems&&t.alignItemsFlexStart]}})(({ownerState:e})=>(0,L.Z)({minWidth:56,flexShrink:0},"flex-start"===e.alignItems&&{marginTop:8})),G=a.forwardRef(function(e,t){let r=(0,O.Z)({props:e,name:"MuiListItemAvatar"}),{className:l}=r,n=(0,E.Z)(r,$),s=a.useContext(W.Z),o=(0,L.Z)({},r,{alignItems:s.alignItems}),d=useUtilityClasses(o);return(0,i.jsx)(K,(0,L.Z)({className:(0,V.Z)(d.root,l),ownerState:o,ref:t},n))});var J=r(72502),q=r(38212),X=r(35511),Y=r(53386),identity_profile_CreateCredentialDialog=e=>{let{onClose:t,open:r,availableItemsForAddition:l}=e,handleListItemClick=e=>{t(e)};return(0,i.jsxs)(I.Z,{fullWidth:!0,maxWidth:"sm",onClose:()=>{t(null)},open:r,children:[(0,i.jsx)(R.Z,{children:"Add profile information"}),(0,i.jsx)(U.Z,{}),(0,i.jsx)(F.Z,{sx:{pt:0},children:null==l?void 0:l.map((e,t)=>(0,i.jsx)(A.ZP,{disableGutters:!0,children:(0,i.jsxs)(J.Z,{onClick:()=>handleListItemClick(e),children:[(0,i.jsx)(G,{children:(0,i.jsx)(D.Z,{sx:{bgcolor:X.Z[100],color:X.Z[600]},children:(0,i.jsx)(T.Z,{})})}),(0,i.jsx)(q.Z,{primary:(0,Y.fm)(e.key)})]})},t))})]})},Q=r(92820),ee=r(12861),et=r(15707),er=r(39982),el=r(29439),en=r(70906),ei=r(40542),ea=r(97716),es=r(19739),eo=r(59898),ed=r(57958),ec=r(36079),eu=r(50543);(l=n||(n={})).NAME="name",l.VALUE="value";var ep=r(52653),eh=r(4856),em=r(96283),ex=r(66615),credential_CredentialTableRow=function(e){let{credential:t,handleOpenMenu:r}=e,[l]=(0,ei.V)(ed.Bx),n=null==l?void 0:l.profile();(0,a.useState)(null);let o=(0,s.useRouter)(),handleCellClick=e=>{n.setActiveCredential(e),o.push("/credentials/list")};return(0,i.jsx)(S.m,{props:{hover:!0},onClick:()=>handleCellClick(t),className:"h-[3rem] cursor-pointer",avatar:(0,i.jsx)(em.J,{credential:t,width:36,height:36}),rowCells:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(g.Z,{children:t.getDisplayableTitle()}),(0,i.jsx)(g.Z,{align:"center",children:t.getDisplayValue()}),(0,i.jsx)(g.Z,{align:"center",children:(null==l?void 0:l.did)==t.getIssuer()?"Myself":(0,ex.L)(t.getIssuer())}),(0,i.jsx)(g.Z,{align:"center",children:(0,i.jsx)(ep.Z,{size:"small",color:"inherit",onClick:e=>{e.stopPropagation(),e.preventDefault(),r(e,t)},children:(0,i.jsx)(eh.Z,{})})})]})})},page=()=>{var e,t;let r="ProfilePage",[l]=(0,ei.V)(ed.Bx),o=null==l?void 0:l.credentials(),c=null==l?void 0:l.profile(),[T]=(0,ei.V)(null==c?void 0:c.name$),[U]=(0,ei.V)(null==c?void 0:c.profileCredentials$),{mounted:D}=(0,ea.s)(),I=(0,s.useRouter)(),[R]=(0,ei.V)(null==c?void 0:c.avatarCredential$),{unlockerIsIdle:F,unlockerIsCancelled:A}=(0,en.NX)(),[E,L]=(0,a.useState)(null),[V,z]=(0,a.useState)([]),[W,H]=(0,a.useState)(!1),[O,_]=(0,a.useState)(!1),[B,$]=(0,a.useState)(null),[K,G]=(0,a.useState)(""),[J,q]=(0,a.useState)(Q.b1.NEW),{showSuccessToast:X,showErrorToast:Y}=(0,es.p)(),[ep,eh]=(0,a.useState)(null),[em,ex]=(0,a.useState)(0),[ef,ev]=(0,a.useState)("asc"),[ey,eg]=(0,a.useState)(n.NAME),[eZ,eb]=(0,a.useState)(""),[ej,eC]=(0,a.useState)(5),[ek,ew]=(0,a.useState)(!1),[eN,eP]=(0,a.useState)(!1),eM=(0,eo.yd)(),eS=l&&"https://eid.elastos.io/did?did=".concat(encodeURIComponent(l.did),"&is_did=true"),computeAvailableItems=()=>{let e=null==eM?void 0:eM.filter(e=>e.options.multipleInstancesAllowed||!(null==U?void 0:U.find(t=>{var r;return t.verifiableCredential.type.includes(null===(r=e.type)||void 0===r?void 0:r.getShortType())})));z(e)};(0,a.useEffect)(()=>{computeAvailableItems()},[U]);let showFeedbackToast=(e,t,r)=>{e?X(t):Y(r)},handleEditCredentialDialogClose=async e=>{if(_(!1),e&&e.value){if(e.type==Q.b1.EDIT&&e.originCredential){let t=!1;try{t=!!await c.updateProfileCredential(e.originCredential,e.value)}catch(e){ec.k.error(r,"Update credential error",e)}showFeedbackToast(t,"Entry has been updated!","Failed to update the entry...")}if(e.type==Q.b1.NEW&&!E){let t=!1;try{t=!!await c.createProfileCredential("",e.info.typesForCreation(),e.info.key,e.value)}catch(e){ec.k.error(r,"Create credential error",e)}showFeedbackToast(t,"Entry has been created!","Failed to create the entry...")}}},handleOpenMenu=(e,t)=>{eh(e.currentTarget),L(t)},handleCloseMenu=()=>{eh(null)},handleAvatarFileChanged=async e=>{eP(!0),await c.upsertIdentityAvatar(e),eP(!1)};function descendingComparator(e,t,r){switch(r){case"name":return t.getDisplayableTitle().localeCompare(e.getDisplayableTitle());case"value":{var l,n;let r=(null===(l=e.getDisplayValue())||void 0===l?void 0:l.label)?e.getDisplayValue().label:e.getDisplayValue(),i=(null===(n=t.getDisplayValue())||void 0===n?void 0:n.label)?t.getDisplayValue().label:t.getDisplayValue();return null==i?void 0:i.localeCompare(r)}}}let eT=function(e,t,r){let l=null==e?void 0:e.filter(e=>{let t=e.getFragment();return"avatar"!==t}),n=null==l?void 0:l.map((e,t)=>[e,t]);return(null==n||n.sort((e,r)=>{let l=t(e[0],r[0]);return 0!==l?l:e[1]-r[1]}),r)?u()(l,e=>-1!==e.verifiableCredential.getId().getFragment().toLowerCase().indexOf(r.toLowerCase())):null==n?void 0:n.map(e=>e[0])}(U,"desc"===ef?(e,t)=>descendingComparator(e,t,ey):(e,t)=>-descendingComparator(e,t,ey),eZ),eU=!(null==eT?void 0:eT.length)&&!!eZ,handleCloseDialog=async e=>{if(ew(!1),!e)return;let t=!1;try{t=await o.deleteCredential(E)}catch(e){ec.k.error(r,e)}showFeedbackToast(t,"Entry has been deleted","Failed to delete the entry...")};return(0,i.jsxs)("div",{className:"col-span-full",children:[(0,i.jsx)(et.Z,{title:"My Profile",description:"Each profile item in the list below represents a distinct credential securely stored within your digital identity. These credentials can be shared with apps, subject to your consent. Your unique signature accompanies each credential, assuring its origin and integrity when shared.",showBg:!0}),(0,i.jsx)(x.Z,{component:"form",sx:{"& .MuiTextField-root":{m:1,width:"25ch"}},noValidate:!0,autoComplete:"off",className:"mb-4",children:(0,i.jsxs)(f.Z,{direction:"row",children:[(0,i.jsx)("div",{className:"flex flex-1 items-center",children:!F||D&&l?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(eu.L,{credential:R,width:80,height:80,onFileUpload:handleAvatarFileChanged,updating:eN,disabled:!U}),(0,i.jsxs)("div",{className:"flex flex-col ml-4",children:[(0,i.jsx)("div",{className:"flex pb-2",children:(0,i.jsx)(x.Z,{className:"rounded-md bg-[#9291A5] text-[8pt] px-3 py-0.5 inline-block",children:"ACTIVE IDENTITY"})}),(0,i.jsx)(v.Z,{variant:"h4",children:T||"Unnamed identity"}),(0,i.jsxs)("div",{className:"inline-flex items-center",children:[(0,i.jsx)(v.Z,{variant:"body2",children:null==l?void 0:null===(e=l.did)||void 0===e?void 0:e.toString()}),(0,i.jsx)(w.qi,{text:null==l?void 0:null===(t=l.did)||void 0===t?void 0:t.toString()})]})]})]}):(0,i.jsx)(er._H,{})}),(0,i.jsxs)("div",{className:"ml-4 flex flex-col justify-center items-end gap-1",children:[(0,i.jsxs)("div",{className:"flex",children:[(0,i.jsx)(ee.Z,{id:"credential-search",size:"small",placeholder:"Search",className:"mr-4 rounded",onChange:e=>{ex(0),eb(e.target.value)},startAdornment:(0,i.jsx)(y.Z,{position:"start",children:(0,i.jsx)(m.Z,{})})}),(0,i.jsx)(w.Kz,{className:"rounded",startIcon:(0,i.jsx)(p.Z,{}),disabled:!U,onClick:()=>{H(!0)},children:"ADD PROFILE ITEM"})]}),(0,i.jsx)("div",{className:"flex flex-1 gap-1 items-end",children:(0,i.jsxs)("div",{className:"inline-flex",children:[(0,i.jsx)(w.UO,{size:"small",endIcon:(0,i.jsx)(h.Z,{}),onClick:()=>{I.push("/identities")},children:"Show all identities"}),!!eS&&(0,i.jsx)(d(),{target:"_blank",href:eS,passHref:!0,children:(0,i.jsx)(w.UO,{size:"small",endIcon:(0,i.jsx)(h.Z,{}),children:"View on blockchain explorer"})})]})})]})]})}),(0,i.jsx)(M.Z,{title:(0,i.jsxs)("div",{className:"inline-flex items-center",children:[(0,i.jsx)(N.C,{children:(0,i.jsx)("div",{className:"w-4 h-4 flex justify-center",children:(0,i.jsx)(k.Z,{})})}),(0,i.jsx)("span",{className:"pl-2",children:"Credentials"})]}),showAllAction:()=>{},children:(0,i.jsx)("div",{className:"mb-1",children:(0,i.jsx)(S.J,{headCells:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(g.Z,{children:"PROFILE ITEM"}),(0,i.jsx)(g.Z,{align:"center",children:"DETAIL"}),(0,i.jsx)(g.Z,{align:"center",children:"ISSUED BY"}),(0,i.jsx)(g.Z,{sx:{width:0}})]}),bodyRows:D&&eT?(0,i.jsx)(i.Fragment,{children:eT.length?null==eT?void 0:eT.slice(em*ej,em*ej+ej).map(e=>(0,i.jsx)(credential_CredentialTableRow,{credential:e,handleOpenMenu:handleOpenMenu},e.id)):(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(Z.Z,{children:(0,i.jsx)(g.Z,{component:"th",colSpan:6,align:"center",children:eU?(0,i.jsxs)(v.Z,{variant:"body1",children:["No results found for \xa0",(0,i.jsxs)("strong",{children:['"',eZ,'"']}),".",(0,i.jsx)("br",{})," Try checking for typos or using complete words."]}):(0,i.jsx)(v.Z,{variant:"body1",children:"No credential found"})})})})}):[,,,].fill(0).map((e,t)=>(0,i.jsx)(er.IT,{colSpan:4},t))})})}),(0,i.jsx)(b.Z,{children:A&&(!U||!D)&&(0,i.jsx)(el.d,{className:"mt-4"})}),(0,i.jsxs)(j.ZP,{open:!!ep,anchorEl:ep,onClose:handleCloseMenu,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{sx:{p:1,width:140,"& .MuiMenuItem-root":{px:1,typography:"body2",borderRadius:.75}}},children:[(0,i.jsx)(C.Z,{onClick:()=>{handleCloseMenu(),_(!0);let e=(0,eo.m7)(E.verifiableCredential.getType());$(e),G(E.verifiableCredential.getSubject().getProperty(e.key)),q(Q.b1.EDIT)},children:"Edit"}),(0,i.jsx)(C.Z,{sx:{color:"error.main"},onClick:()=>{handleCloseMenu(),ew(!0)},children:"Delete"})]}),(0,i.jsx)(P.Z,{title:"Delete this Credential?",content:"Do you want to delete this Credential?",open:ek,onClose:handleCloseDialog}),(0,i.jsx)(identity_profile_CreateCredentialDialog,{open:W,onClose:e=>{H(!1),e&&(_(!0),$(e),G(""),q(Q.b1.NEW),L(null))},availableItemsForAddition:V}),(0,i.jsx)(Q.ZP,{credentialInfo:B,defaultValue:K,type:J,open:O,originCredential:E,onClose:handleEditCredentialDialogClose})]})}},80072:function(e,t,r){"use strict";var l=r(57437),n=r(2265),i=r(35843),a=r(71711),s=r(52653),o=r(81679),d=r(49605),c=r(4193),u=r(57042);let p=(0,i.ZP)(a.Z)(e=>{let{theme:t}=e;return{input:{color:"white",marginTop:20}}}),h=(0,i.ZP)(s.Z)(e=>{let{theme:t}=e;return{color:"white"}});t.Z=e=>{let{outerProps:t={},inputProps:r={}}=e,[i,a]=n.useState(!1);return(0,l.jsx)(p,{...t,type:i?"input":"password",className:(0,u.Z)("password-input",!i&&"redacted"),inputProps:{maxLength:100,...r},startAdornment:(0,l.jsx)(o.Z,{position:"start",className:"absolute"}),endAdornment:(0,l.jsx)(o.Z,{position:"end",children:(0,l.jsx)(h,{"aria-label":"toggle password visibility",onClick:()=>a(e=>!e),onMouseDown:e=>{e.preventDefault()},children:i?(0,l.jsx)(c.Z,{}):(0,l.jsx)(d.Z,{})})})})}},50543:function(e,t,r){"use strict";r.d(t,{L:function(){return EditableCredentialAvatar}});var l=r(57437),n=r(46028),i=r(57042),a=r(22440),s=r(96283);let EditableCredentialAvatar=e=>{let{credential:t,onFileUpload:r,width:o,height:d,updating:c=!1,disabled:u=!1}=e,onDrop=async e=>{if(!u&&(null==e?void 0:e.length)>0){let t=e[0];r(t)}},{getRootProps:p,getInputProps:h,isDragActive:m,isDragReject:x,fileRejections:f}=(0,a.uI)({multiple:!1,maxFiles:1,onDrop});return(0,l.jsxs)("div",{...!u&&p(),style:{...m&&{opacity:.72}},className:(0,i.Z)(!u&&"cursor-pointer"),children:[!u&&(0,l.jsx)("input",{...h()}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(s.J,{credential:t,width:o,height:d}),c&&(0,l.jsx)(n.a,{className:"absolute top-0 bottom-0 left-0 right-0"})]})]})}},49017:function(e,t,r){"use strict";var l=r(35843),n=r(84081);let i=(0,l.ZP)(n.Z)(e=>{let{theme:t}=e;return{".MuiInput-root":{marginTop:0,"&:before, &:after":{opacity:.18,borderColor:"white"}},".MuiInputBase-root.MuiInput-root:hover:not(.Mui-disabled, .Mui-error)":{"&:before, &:after":{opacity:.18,borderColor:"white"}},".MuiInput-root.Mui-focused":{"&:before, &:after":{opacity:.3}},".MuiInputLabel-root, .MuiInputLabel-root.Mui-focused:not(.Mui-error)":{color:"white",fontSize:"10px",transform:"unset",WebkitTransform:"unset"},"#holder-name":{fontWeight:600,fontSize:"15pt",textAlign:"center",caretColor:"white",color:"rgb(255 255 255 / 65%)"},".password-input.redacted":{fontFamily:"Redacted Script"},".MuiFormHelperText-root":{marginLeft:0,display:"none"},".MuiFormHelperText-root.Mui-error":{display:"block"}}});t.Z=i},83129:function(e,t,r){"use strict";var l=r(57437),n=r(2899),i=r(15133),a=r(96507),s=r(43226),o=r(88469),d=r(35843),c=r(23785);let u=(0,d.ZP)(i.Z)(e=>{let{theme:t}=e;return{border:"1px solid #FFFFFF55",borderRadius:"0.5rem",background:"#1D1D1D",position:"relative","&:before":{opacity:.1,content:"''",position:"absolute",width:"100%",height:"200%",background:"linear-gradient(to bottom, rgba(163, 163, 163, 60%), rgba(255, 255, 255, 15%), transparent)",transform:"rotate(-30deg)",transformOrigin:"top left",top:0,right:"-40%"}}});t.Z=e=>{let{title:t,children:r,className:i="",showAllAction:d=()=>{},able2ShowAll:p=!0}=e;return(0,l.jsxs)(u,{className:i,elevation:0,children:[(0,l.jsxs)(a.Z,{className:"py-4 px-6 flex",children:[(0,l.jsx)(s.Z,{className:"flex-1",variant:"h6",fontWeight:600,children:t}),p&&(0,l.jsx)(c.UO,{size:"small",endIcon:(0,l.jsx)(n.Z,{}),onClick:d,children:"Show all"})]}),(0,l.jsx)(o.Z,{className:"relative z-10",sx:{px:3,pt:1},children:r})]})}},19959:function(e,t,r){"use strict";r.d(t,{J:function(){return DetailTable},m:function(){return DetailTableRow}});var l=r(57437),n=r(98489),i=r(30666),a=r(73701),s=r(66988),o=r(39279);let DetailTableRow=e=>{let{avatar:t,rowCells:r,className:a="",props:s={},onClick:o=()=>{}}=e;return(0,l.jsxs)(n.Z,{...s,className:a,onClick:o,children:[(0,l.jsx)(i.Z,{padding:"none",sx:{width:0},children:t}),r]})},DetailTable=e=>{let{headCells:t,bodyRows:r}=e;return(0,l.jsxs)(a.Z,{size:"small",sx:{th:{border:0},thead:{background:"linear-gradient(to right, transparent, #4e4e4eb3 25%, #555555b3 50%, #4e4e4eb3 75%, transparent)",th:{px:1,fontSize:15,fontWeight:"600"},"th:last-child":{textAlign:"right"}},tbody:{td:{px:1,py:0},"td:first-child":{border:0,pl:0,pr:1},"td:last-child":{textAlign:"right",pr:0},"tr:last-child":{td:{border:0}}}},children:[(0,l.jsx)(s.Z,{children:(0,l.jsxs)(n.Z,{children:[(0,l.jsx)(i.Z,{sx:{width:0}}),t]})}),(0,l.jsx)(o.Z,{children:r})]})}},9254:function(e,t,r){"use strict";r.d(t,{c:function(){return MainButton}});var l=r(57437),n=r(6882),i=r(49050),a=r(57042);let MainButton=e=>{let{leftIcon:t,size:r="medium",mode:s="default",onClick:o,children:d,busy:c=!1,disabled:u=!1,className:p}=e,h=(0,l.jsx)(n.Z,{size:16});return(0,l.jsx)("div",{className:(0,a.Z)("flex",p),children:(0,l.jsx)(i.Z,{className:"flex-1",startIcon:c?h:t,disabled:c||u,size:r,color:"default"===s?"primary":"error",variant:"contained",onClick:o,children:d})})}},46028:function(e,t,r){"use strict";r.d(t,{a:function(){return LoadingCircle}});var l=r(57437),n=r(57042);r(87661);let LoadingCircle=e=>{let{className:t,width:r,height:i}=e;return(0,l.jsx)("div",{className:(0,n.Z)("loading-circle",t),style:{...r&&{width:r},...i&&{height:i}},children:(0,l.jsx)("div",{className:"content",children:(0,l.jsx)("div",{className:"animated"})})})}},29439:function(e,t,r){"use strict";r.d(t,{d:function(){return UnlockRetrier}});var l=r(57437),n=r(9254),i=r(57042),a=r(70906);let UnlockRetrier=e=>{let{className:t}=e,{retryUnlock:r}=(0,a.lJ)();return(0,l.jsxs)("div",{className:(0,i.Z)("flex flex-row items-center gap-2",t),children:[(0,l.jsx)("div",{children:"This content could not be unlocked, please retry"}),(0,l.jsx)(n.c,{onClick:()=>{r()},children:"Unlock personal data"})]})}},70906:function(e,t,r){"use strict";r.d(t,{au:function(){return UnlockKeyPromptContextProvider},lJ:function(){return useUnlockKeyPrompt},NX:function(){return useUnlockPromptState}});var l=r(57437),n=r(39513),i=r(66267),a=r(14504),s=r(40542),o=r(95815),d=r(94025),c=r(5253),u=r(64101),p=r(56176),h=r(22079),m=r(43226),x=r(35843),f=r(7482),v=r(36079),y=r(50707),g=r(14776),Z=r(2265),b=r(39830),j=r(23785);let PasskeyPrompt=e=>{let{onConfirm:t,disabled:r}=e,[n]=(0,s.V)(g.jU),i=null==n?void 0:n.get("security"),onSubmit=async()=>{let e=await i.unlockPasskeyLocally();t(e)};return(0,l.jsx)(j.Kz,{id:"bind-ms",className:"w-4/5",startIcon:(0,l.jsx)(b.JO,{icon:"material-symbols:passkey"}),disabled:r,onClick:onSubmit,children:"Unlock with passkey"})};var C=r(50819),k=r(49017),w=r(80072);let PasswordPrompt=e=>{let{onConfirm:t,disabled:r}=e,[n,i]=(0,Z.useState)(""),a=(0,Z.useRef)(null),submitPassword=e=>{if(e.preventDefault(),!a.current.value){a.current.focus();return}t(a.current.value)};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("form",{onSubmit:submitPassword,children:(0,l.jsxs)(k.Z,{fullWidth:!0,children:[(0,l.jsx)(C.Z,{htmlFor:"pw",children:"PASSWORD"}),(0,l.jsx)(w.Z,{outerProps:{autoFocus:!0,disabled:r,onChange:e=>{i(e.target.value)}},inputProps:{ref:a}})]})}),(0,l.jsx)("div",{className:"p-2 pb-0 text-center",children:(0,l.jsx)(j.Kz,{id:"bind-ms",className:"w-4/5",disabled:r||!n.length,onClick:submitPassword,children:"Continue"})})]})};var N=r(51894),P=r(53946);let M=(0,Z.createContext)({actions:null,setActions:null});function UnlockKeyPromptContextProvider(e){let[t,r]=(0,Z.useState)(null);return(0,l.jsxs)(M.Provider,{value:{actions:t,setActions:r},children:[e.children,(0,l.jsx)(UnlockKeyPrompt,{})]})}let S=Z.forwardRef(function(e,t){return(0,l.jsx)(p.Z,{ref:t,...e})}),T=(0,x.ZP)("div")(e=>{let{theme:t}=e;return{background:"linear-gradient(to right, #242424, #333 50%, transparent)"}}),UnlockKeyPrompt=()=>{let{actions:e,setActions:t}=(0,Z.useContext)(M),[r]=(0,s.V)(g.jU),o=null==r?void 0:r.get("security"),[d]=(0,s.V)(null==o?void 0:o.passwordKeys$),[p]=(0,s.V)(null==o?void 0:o.passkeyKeys$),{promptMasterKeyUnlock:x}=useUnlockKeyPrompt(),hideDialog=()=>{t(null)};return(0,Z.useEffect)(()=>{let e=P.lw.subscribe(e=>{e&&!e.handled&&(e.handled=!0,callWithUnlockHandler(e,x))});return()=>e.unsubscribe()},[x]),(0,l.jsx)(h.Z,{open:!!e,disablePortal:!0,onClose:()=>{var t;null===(t=e.onUnlockKey)||void 0===t||t.call(e,null),hideDialog()},TransitionComponent:S,PaperProps:{sx:{backgroundImage:"none"}},children:(0,l.jsxs)("div",{className:"p-6",children:[(0,l.jsxs)(T,{className:"flex items-center gap-x-2 px-4 py-2",children:[(0,l.jsx)(i.C,{children:(0,l.jsx)(u.Z,{fontSize:"small"})}),(0,l.jsx)(m.Z,{variant:"h6",fontWeight:600,className:"ml-4",children:"Screen content is locked!"})]}),(0,l.jsx)(m.Z,{variant:"body1",className:"px-4 py-2",children:"Enter password or authenticate passkey to unlock the screen."}),(0,l.jsx)(n.CA,{className:"relative w-full mt-4 md:pb-2",children:(0,l.jsx)("div",{className:"absolute inset-0 p-2",children:(0,l.jsx)("div",{className:"dashed-body w-full h-full rounded-2xl p-1.5 flex items-center",children:(0,l.jsx)("div",{className:"px-6 py-8 w-full",children:(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsx)(PasswordPrompt,{onConfirm:t=>{var r;null===(r=e.onUnlockKey)||void 0===r||r.call(e,{type:c.J.PASSWORD,keyId:"unused-for-now-for-passwords",key:t}),hideDialog()},disabled:(null==d?void 0:d.length)==0}),(0,l.jsxs)("div",{className:"p-2 pt-0 text-center",children:[(0,l.jsx)("div",{className:"py-4",children:(0,l.jsx)(a.Z,{text:"or browser authentication"})}),(0,l.jsx)(PasskeyPrompt,{onConfirm:t=>{var r;null===(r=e.onUnlockKey)||void 0===r||r.call(e,t),hideDialog()},disabled:(null==p?void 0:p.length)==0})]})]})})})})})]})})};function useUnlockPromptState(){let[e]=(0,s.V)(P.Mn),[t,r]=(0,Z.useState)(!0),[l,n]=(0,Z.useState)(!1);return(0,Z.useEffect)(()=>{switch(e){case P.xb.Idle:r(!0),n(!1);break;case P.xb.UnlockCancelled:r(!1),n(!0)}},[e]),{unlockerIsIdle:t,unlockerIsCancelled:l}}let useUnlockKeyPrompt=()=>{let{setActions:e}=(0,Z.useContext)(M),[t]=(0,s.V)(g.jU);return{promptMasterKeyUnlock:()=>new Promise(t=>{e({onUnlockKey:t})}),retryUnlock:()=>(0,N.H)(()=>t.get("security").checkRemoteUnlockStatus())}};async function callWithUnlockHandler(e,t){try{let t=await e.method();e.resolve(t)}catch(r){if(r instanceof o._){if((0,y.z)(r)){v.k.warn("security","This method call requires unlock authorization from the user. Prompting");let r=await t();if(r){await (0,f.wo)(r);let t=await (0,N.H)(e.method,e.silentCancellation,e.defaultValue,!1);e.resolve(t)}else P.Mn.next(P.xb.UnlockCancelled),v.k.warn("security","Unlock operation cancelled by user"),e.reject(o._.newClientError(d.XF.UnlockKeyCancelled,"CANCELLED"))}else e.reject(r)}else v.k.error("security","Unhandled callWithUnlock() non app exception (will get stuck):",r)}}},14504:function(e,t,r){"use strict";var l=r(57437),n=r(57042),i=r(54986),a=r(43226),s=r(35843);let o=(0,s.ZP)(i.Z)(e=>{let{theme:t}=e;return{"&:before, &:after":{borderTopColor:"#C4C4C4"}}});t.Z=e=>{let{text:t,textClassName:r=""}=e;return(0,l.jsx)(o,{children:(0,l.jsx)(a.Z,{variant:"caption",className:(0,n.Z)("px-4 font-bold text-white",r),children:t})})}},66615:function(e,t,r){"use strict";function shortenDID(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,r=e.split(":");if(r.length<3)return e;let l=r[2];if(l.length<=2*t)return e;let n="".concat(l.substr(0,t),"...").concat(l.substr(-t));return"".concat(r[0],":").concat(r[1],":").concat(n)}r.d(t,{L:function(){return shortenDID}})},87661:function(){}},function(e){e.O(0,[6990,9787,9443,8218,3988,395,8321,9152,5295,1510,1396,6953,2e3,182,2884,2699,1869,7998,1096,7248,8326,4852,9329,6225,4903,2440,3262,2610,2971,7864,1744],function(){return e(e.s=40649)}),_N_E=e.O()}]);