(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[266],{51668:function(e,t,r){Promise.resolve().then(r.bind(r,77671))},22706:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RouterContext",{enumerable:!0,get:function(){return l}});let n=r(21024),i=n._(r(2265)),l=i.default.createContext(null)},77671:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return ec}});var n,i=r(57437),l=r(451),a=r(43226),s=r(2265),o=r(53932),d=r(7045);function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var u=function(e){return s.createElement("svg",c({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36 36"},e),n||(n=s.createElement("g",{"data-name":"Component 942 \\u2013 1"},s.createElement("path",{fill:"currentColor",d:"M18 36a18 18 0 0 1-7.007-34.586 18 18 0 0 1 14.013 33.171A17.887 17.887 0 0 1 18 36zm-1.427-10.948v3.084h3.854v-3.084zM15.8 8.865l1.117 13.875h3.139L21.2 8.865h-5.4z","data-name":"Subtraction 2"}))))},x=r(20484),p=r(42937),h=r(96507),f=r(13457),m=r(3283),g=r(20791),b=r(13428),v=r(57042),y=r(65425),j=r(43381),Z=r(95600),w=r(35843),k=r(87927),$=r(41101);let S=s.createContext();var C=r(26520),I=r(25702);function E(e){return(0,I.Z)("MuiGrid",e)}let N=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],P=(0,C.Z)("MuiGrid",["root","container","item","zeroMinWidth",...[0,1,2,3,4,5,6,7,8,9,10].map(e=>`spacing-xs-${e}`),...["column-reverse","column","row-reverse","row"].map(e=>`direction-xs-${e}`),...["nowrap","wrap-reverse","wrap"].map(e=>`wrap-xs-${e}`),...N.map(e=>`grid-xs-${e}`),...N.map(e=>`grid-sm-${e}`),...N.map(e=>`grid-md-${e}`),...N.map(e=>`grid-lg-${e}`),...N.map(e=>`grid-xl-${e}`)]),M=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function T(e){let t=parseFloat(e);return`${t}${String(e).replace(String(t),"")||"px"}`}function z({breakpoints:e,values:t}){let r="";Object.keys(t).forEach(e=>{""===r&&0!==t[e]&&(r=e)});let n=Object.keys(e).sort((t,r)=>e[t]-e[r]);return n.slice(0,n.indexOf(r))}let D=(0,w.ZP)("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e,{container:n,direction:i,item:l,spacing:a,wrap:s,zeroMinWidth:o,breakpoints:d}=r,c=[];n&&(c=function(e,t,r={}){if(!e||e<=0)return[];if("string"==typeof e&&!Number.isNaN(Number(e))||"number"==typeof e)return[r[`spacing-xs-${String(e)}`]];let n=[];return t.forEach(t=>{let i=e[t];Number(i)>0&&n.push(r[`spacing-${t}-${String(i)}`])}),n}(a,d,t));let u=[];return d.forEach(e=>{let n=r[e];n&&u.push(t[`grid-${e}-${String(n)}`])}),[t.root,n&&t.container,l&&t.item,o&&t.zeroMinWidth,...c,"row"!==i&&t[`direction-xs-${String(i)}`],"wrap"!==s&&t[`wrap-xs-${String(s)}`],...u]}})(({ownerState:e})=>(0,b.Z)({boxSizing:"border-box"},e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},e.item&&{margin:0},e.zeroMinWidth&&{minWidth:0},"wrap"!==e.wrap&&{flexWrap:e.wrap}),function({theme:e,ownerState:t}){let r=(0,y.P$)({values:t.direction,breakpoints:e.breakpoints.values});return(0,y.k9)({theme:e},r,e=>{let t={flexDirection:e};return 0===e.indexOf("column")&&(t[`& > .${P.item}`]={maxWidth:"none"}),t})},function({theme:e,ownerState:t}){let{container:r,rowSpacing:n}=t,i={};if(r&&0!==n){let t;let r=(0,y.P$)({values:n,breakpoints:e.breakpoints.values});"object"==typeof r&&(t=z({breakpoints:e.breakpoints.values,values:r})),i=(0,y.k9)({theme:e},r,(r,n)=>{var i;let l=e.spacing(r);return"0px"!==l?{marginTop:`-${T(l)}`,[`& > .${P.item}`]:{paddingTop:T(l)}}:null!=(i=t)&&i.includes(n)?{}:{marginTop:0,[`& > .${P.item}`]:{paddingTop:0}}})}return i},function({theme:e,ownerState:t}){let{container:r,columnSpacing:n}=t,i={};if(r&&0!==n){let t;let r=(0,y.P$)({values:n,breakpoints:e.breakpoints.values});"object"==typeof r&&(t=z({breakpoints:e.breakpoints.values,values:r})),i=(0,y.k9)({theme:e},r,(r,n)=>{var i;let l=e.spacing(r);return"0px"!==l?{width:`calc(100% + ${T(l)})`,marginLeft:`-${T(l)}`,[`& > .${P.item}`]:{paddingLeft:T(l)}}:null!=(i=t)&&i.includes(n)?{}:{width:"100%",marginLeft:0,[`& > .${P.item}`]:{paddingLeft:0}}})}return i},function({theme:e,ownerState:t}){let r;return e.breakpoints.keys.reduce((n,i)=>{let l={};if(t[i]&&(r=t[i]),!r)return n;if(!0===r)l={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===r)l={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{let a=(0,y.P$)({values:t.columns,breakpoints:e.breakpoints.values}),s="object"==typeof a?a[i]:a;if(null==s)return n;let o=`${Math.round(r/s*1e8)/1e6}%`,d={};if(t.container&&t.item&&0!==t.columnSpacing){let r=e.spacing(t.columnSpacing);if("0px"!==r){let e=`calc(${o} + ${T(r)})`;d={flexBasis:e,maxWidth:e}}}l=(0,b.Z)({flexBasis:o,flexGrow:0,maxWidth:o},d)}return 0===e.breakpoints.values[i]?Object.assign(n,l):n[e.breakpoints.up(i)]=l,n},{})}),O=e=>{let{classes:t,container:r,direction:n,item:i,spacing:l,wrap:a,zeroMinWidth:s,breakpoints:o}=e,d=[];r&&(d=function(e,t){if(!e||e<=0)return[];if("string"==typeof e&&!Number.isNaN(Number(e))||"number"==typeof e)return[`spacing-xs-${String(e)}`];let r=[];return t.forEach(t=>{let n=e[t];if(Number(n)>0){let e=`spacing-${t}-${String(n)}`;r.push(e)}}),r}(l,o));let c=[];o.forEach(t=>{let r=e[t];r&&c.push(`grid-${t}-${String(r)}`)});let u={root:["root",r&&"container",i&&"item",s&&"zeroMinWidth",...d,"row"!==n&&`direction-xs-${String(n)}`,"wrap"!==a&&`wrap-xs-${String(a)}`,...c]};return(0,Z.Z)(u,E,t)},W=s.forwardRef(function(e,t){let r=(0,k.Z)({props:e,name:"MuiGrid"}),{breakpoints:n}=(0,$.Z)(),l=(0,j.Z)(r),{className:a,columns:o,columnSpacing:d,component:c="div",container:u=!1,direction:x="row",item:p=!1,rowSpacing:h,spacing:f=0,wrap:m="wrap",zeroMinWidth:y=!1}=l,Z=(0,g.Z)(l,M),w=h||f,C=d||f,I=s.useContext(S),E=u?o||12:I,N={},P=(0,b.Z)({},Z);n.keys.forEach(e=>{null!=Z[e]&&(N[e]=Z[e],delete P[e])});let T=(0,b.Z)({},l,{columns:E,container:u,direction:x,item:p,rowSpacing:w,columnSpacing:C,wrap:m,zeroMinWidth:y,spacing:f},N,{breakpoints:n.keys}),z=O(T);return(0,i.jsx)(S.Provider,{value:E,children:(0,i.jsx)(D,(0,b.Z)({ownerState:T,className:(0,v.Z)(z.root,a),as:c,ref:t},P))})});var B=r(72502),F=r(78342),R=r(77820);let V=["className"],L=e=>{let{alignItems:t,classes:r}=e;return(0,Z.Z)({root:["root","flex-start"===t&&"alignItemsFlexStart"]},F.f,r)},_=(0,w.ZP)("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,"flex-start"===r.alignItems&&t.alignItemsFlexStart]}})(({theme:e,ownerState:t})=>(0,b.Z)({minWidth:56,color:(e.vars||e).palette.action.active,flexShrink:0,display:"inline-flex"},"flex-start"===t.alignItems&&{marginTop:8})),G=s.forwardRef(function(e,t){let r=(0,k.Z)({props:e,name:"MuiListItemIcon"}),{className:n}=r,l=(0,g.Z)(r,V),a=s.useContext(R.Z),o=(0,b.Z)({},r,{alignItems:a.alignItems}),d=L(o);return(0,i.jsx)(_,(0,b.Z)({className:(0,v.Z)(d.root,n),ownerState:o,ref:t},l))});var A=r(16691),q=r.n(A),U=r(46940),H=r(12854),J=r(5676),K=r(4856),Q=r(52653),X=r(74309),Y=r(59500),ee=r(96556),et=r(59606),er=r(3883),en=e=>{let{credential:t}=e,[r,n]=(0,s.useState)(null),[a]=(0,l.V)(o.B),d=null==a?void 0:a.get("profile"),[c,u]=(0,s.useState)(!1),[x,p]=(0,s.useState)(!1),[h,f]=(0,s.useState)(null),[m,g]=(0,s.useState)(null),[b,v]=(0,s.useState)(H.b1.EDIT),{showSuccessToast:y,showErrorToast:j}=(0,ee.p)(),Z="IdentityMenu",w=t instanceof J.E,k=()=>{n(null)},$=async e=>{if(u(!1),!e)return;let r=!1;try{r=await a.get("credentials").deleteCredential(t)}catch(e){er.k.error(Z,"Delete credential error: ",e)}r?y("Entry has been deleted!"):j("Failed to delete the entry...")},S=async e=>{if(p(!1),e&&e.value&&e.type==H.b1.EDIT&&e.originCredential){let t=!1;try{t=await d.updateProfileCredential(e.originCredential,e.value).catch()}catch(e){er.k.error(Z,"Update credential error: ",e)}t?y("Entry has been updated!"):j("Failed to update the entry...")}};return(0,i.jsxs)("div",{children:[(0,i.jsx)(Q.Z,{onClick:e=>{n(e.currentTarget)},children:(0,i.jsx)(K.Z,{})}),(0,i.jsxs)(Y.ZP,{anchorEl:r,open:!!r,onClose:k,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{sx:{p:1,width:140,"& .MuiMenuItem-root":{px:1,typography:"body2",borderRadius:.75}}},children:[w&&(0,i.jsx)(X.Z,{onClick:()=>{k(),p(!0);let e=(0,et.m7)(t.verifiableCredential.getType());f(e);let r=t.verifiableCredential.getSubject().getProperty(e.key);g(r),v(b)},children:" Edit "}),(0,i.jsx)(X.Z,{sx:{color:"error.main"},onClick:()=>{u(!0),k()},children:" Delete "})]}),(0,i.jsx)(U.Z,{title:"Delete this Credential?",content:"Do you want to delete this Credential?",open:c,onClose:$}),(0,i.jsx)(H.ZP,{credentialInfo:h,defaultValue:m,type:b,open:x,originCredential:t,onClose:S})]})};let ei=e=>{let{selectedCredential:t}=e,[r]=(0,l.V)(null==t?void 0:t.issuerInfo$),n=(0,p.s)(),[s]=(0,l.V)(null==t?void 0:t.isConform$);return(0,i.jsxs)("div",{className:"col-span-full xl:col-span-7 bg-white dark:bg-slate-800 shadow-lg rounded-sm border border-slate-200 dark:border-slate-700",children:[(!t||!n)&&(0,i.jsx)(x.q,{}),n&&t&&(0,i.jsxs)(h.Z,{sx:{px:2.5,pb:3},children:[(0,i.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"24px"},children:(0,i.jsx)(en,{credential:t})}),(0,i.jsxs)(f.Z,{alignItems:"center",spacing:3,sx:{pt:5,borderRadius:2,position:"relative"},children:[(0,i.jsx)(m.Z,{sx:{ml:2,width:120,height:120},children:(0,i.jsx)(d.Z,{width:80})}),(0,i.jsxs)(h.Z,{sx:{textAlign:"left",width:"80%"},children:[(0,i.jsx)(a.Z,{gutterBottom:!0,variant:"h6",children:t.getDisplayableTitle()}),(0,i.jsx)(a.Z,{variant:"body1",sx:{color:"text.secondary"},children:t.getDisplayValue()}),(0,i.jsxs)(W,{container:!0,spacing:2,sx:{mt:1},children:[(0,i.jsx)(W,{item:!0,xs:6,children:(0,i.jsx)(a.Z,{variant:"body1",sx:{color:"text.secondary"},children:"Issuance date:"})}),(0,i.jsx)(W,{item:!0,xs:6,children:(0,i.jsx)(a.Z,{variant:"body1",sx:{color:"text.secondary"},children:t.verifiableCredential.issuanceDate.toLocaleDateString()})}),(0,i.jsx)(W,{item:!0,xs:6,children:(0,i.jsx)(a.Z,{variant:"body1",sx:{color:"text.secondary"},children:"Expiration date:"})}),(0,i.jsx)(W,{item:!0,xs:6,children:(0,i.jsx)(a.Z,{variant:"body1",sx:{color:"text.secondary"},children:t.verifiableCredential.expirationDate.toLocaleDateString()})}),t.isSensitiveCredential()&&(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(W,{item:!0,xs:6,children:(0,i.jsx)(a.Z,{fontSize:14,color:"#FF6347",gutterBottom:!0,children:"Sensitive"})})}),!t.selfIssued()&&(null==r?void 0:r.isPublished)&&(0,i.jsxs)(B.Z,{children:[(0,i.jsx)(G,{children:(0,i.jsx)(q(),{unoptimized:!0,src:null==r?void 0:r.avatarIcon,width:30,height:30,style:{borderRadius:"50%"},alt:"avatar"})}),(0,i.jsxs)(a.Z,{variant:"body1",sx:{color:"text.secondary"},children:["Created by ",null==r?void 0:r.name]})]}),(0,i.jsxs)(B.Z,{children:[(0,i.jsx)(G,{children:(0,i.jsx)(u,{width:30})}),s&&(0,i.jsx)(a.Z,{variant:"body1",sx:{color:"text.secondary"},children:"This credential is conform to a known type that can be shared by any application."}),!s&&(0,i.jsx)(a.Z,{variant:"body1",sx:{color:"text.secondary"},children:"This credential doesn't conform to known credential formats and can hardly be reused by many applications."})]})]})]})]})]})]})};var el=function(e){let{credential:t}=e,[r]=(0,l.V)(null==t?void 0:t.issuerInfo$);return(0,i.jsxs)(h.Z,{sx:{textAlign:"left",width:"100%"},children:[(0,i.jsx)(a.Z,{gutterBottom:!0,variant:"h6",children:t.getDisplayableTitle()}),(0,i.jsx)(a.Z,{variant:"body1",sx:{color:"text.secondary"},children:t.getDisplayValue()}),(0,i.jsxs)(W,{container:!0,spacing:2,sx:{mt:1},children:[t.isSensitiveCredential()&&(0,i.jsx)(a.Z,{fontSize:14,color:"#FF6347",children:"Sensitive"}),!t.selfIssued()&&(null==r?void 0:r.isPublished)&&(0,i.jsxs)(B.Z,{children:[(0,i.jsx)(G,{children:(0,i.jsx)(q(),{unoptimized:!0,src:null==r?void 0:r.avatarIcon,width:30,height:30,style:{borderRadius:"50%"},alt:""})}),(0,i.jsxs)(a.Z,{variant:"body1",sx:{color:"text.secondary"},children:["Created by ",null==r?void 0:r.name]})]})]})]})},ea=r(49599),es=r(54986),eo=r(35266);let ed=e=>{let{onSelected:t}=e,[r]=(0,l.V)(o.B),[n]=(0,l.V)(null==r?void 0:r.get("credentials").credentials$),d=(0,p.s)(),c=null==r?void 0:r.get("profile"),[u]=(0,l.V)(null==c?void 0:c.activeCredential$),f=e=>{c.setActiveCredential(e),t(e)};return(0,s.useEffect)(()=>{if(u)for(let e=0;e<n.length;e++){let r=n[e];u.id==r.id&&t(r)}n&&!u&&c.setActiveCredential(n[0])},[u,n,t,c]),(0,i.jsxs)("div",{className:"col-span-full xl:col-span-5 bg-white dark:bg-slate-800 shadow-lg rounded-sm border border-slate-200 dark:border-slate-700",children:[(0,i.jsx)(a.Z,{ml:2,my:3,variant:"subtitle1",children:"Credentials"}),(0,i.jsx)(es.Z,{}),(0,i.jsxs)(h.Z,{sx:{width:"100%",bgcolor:"background.paper"},children:[(!n||!d)&&(0,i.jsx)(x.q,{}),d&&n&&(0,i.jsx)(eo.Z,{component:"nav","aria-label":"main mailbox folders",children:n.map(e=>(0,i.jsxs)("div",{children:[(0,i.jsxs)(B.Z,{selected:u&&u.id===e.id,onClick:()=>f(e),children:[(0,i.jsx)(G,{children:(0,i.jsx)(ea.Z,{})}),(0,i.jsx)(el,{credential:e})]}),(0,i.jsx)(es.Z,{})]},e.id))})]})]})};var ec=()=>{let[e,t]=(0,s.useState)(null),[r]=(0,l.V)(o.B);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"col-span-full",children:[(0,i.jsx)(a.Z,{ml:2,my:3,variant:"h4",children:"All Credentials"}),(0,i.jsxs)(a.Z,{ml:2,my:3,children:["Below is the list of all your ",(0,i.jsx)("b",{children:"credentials"}),". Credentials are pieces of information about you. This information has been created either by you, or by other applications on your behalf. This full list of credentials contains credentials from your base identity profile, plus everything else."]})]}),(0,i.jsx)(ed,{onSelected:e=>{t(e)}}),(0,i.jsx)(ei,{selectedCredential:e})]})}}},function(e){e.O(0,[6990,9787,9443,8218,6110,2361,8920,7679,3412,6953,7998,6540,6432,1305,25,2971,596,1744],function(){return e(e.s=51668)}),_N_E=e.O()}]);