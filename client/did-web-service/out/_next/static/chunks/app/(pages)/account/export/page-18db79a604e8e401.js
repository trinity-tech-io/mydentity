(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7659],{96289:function(e,t,n){Promise.resolve().then(n.bind(n,56483))},56483:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return page}});var i=n(57437),r=n(40542),s=n(97716),l=n(7175),o=n(43226),u=n(19739),d=n(14776),c=n(2265),a=n(69991),h=n(66615);let DislayName=e=>{let{identity:t}=e,[n,r]=(0,c.useState)(void 0);return(0,c.useEffect)(()=>{let e=t.profile().name$.subscribe(e=>{r(e)});return()=>{e.unsubscribe()}},[t]),(0,i.jsx)("div",{children:n})},IdentityRootDids=e=>{let{identities:t}=e;return(0,i.jsx)("div",{children:t.map((e,t)=>(0,i.jsx)("div",{className:"mb-2 p-3 bg-blue-900 text-white",children:(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(a.i,{identity:e,width:40,height:40}),(0,i.jsxs)("div",{className:"ml-2",children:[(0,i.jsx)(DislayName,{identity:e}),(0,i.jsx)("div",{className:"text-left cursor-pointer",children:(0,h.L)(e.did)})]})]})},t))})};var page=()=>{let{mounted:e}=(0,s.s)(),[t]=(0,r.V)(d.jU),[n]=(0,r.V)(null==t?void 0:t.get("identity").identityRoots$),[a,h]=(0,c.useState)({}),{showSuccessToast:f,showErrorToast:x}=(0,u.p)(),[v]=(0,r.V)(null==t?void 0:t.get("identity").regularIdentities$),[m,p]=(0,c.useState)(!1),handleExportMnemonic=async e=>{let n=e.id,i=await t.get("identity").exportMnemonic(n);return h(t=>({...t,[e.id]:i})),i&&p(!0),Promise.resolve(i)};if(!e)return null;let getRegularIdentitiesById=(e,t)=>{let n=e.filter(e=>e.identityRootId===t);return n};return(0,i.jsx)("div",{className:"flex flex-wrap mt-12",children:null==n?void 0:n.map((e,t)=>{let n=getRegularIdentitiesById(v,e.id);return(0,i.jsxs)("div",{className:"m-4 mt-11 p-6 border rounded-lg relative w-[800px]",children:[(0,i.jsxs)("div",{className:"absolute top-0 left-0 font-bold -mt-12 ml-2",children:["Identity Group ",t+1]}),(0,i.jsxs)("div",{className:"absolute top-0 right-0 -mt-11",children:[(0,i.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-2 rounded ".concat(m?"hidden":""),onClick:()=>{handleExportMnemonic(e)},children:"Export Mnemonic"}),m&&a[e.id]&&(0,i.jsxs)(o.Z,{variant:"body2",onClick:()=>{navigator.clipboard.writeText(a[e.id]),f("Mnemonic copied to clipboard.")},sx:{textDecoration:"none",cursor:"pointer","&:hover":{color:"blue"}},children:["Mnemonic: ",a[e.id],(0,i.jsx)(l.Z,{style:{fontSize:16,marginLeft:5}})]})]}),(0,i.jsx)("div",{style:{width:"300px"},children:(0,i.jsx)(IdentityRootDids,{identities:n})})]},t)})})}},69991:function(e,t,n){"use strict";n.d(t,{i:function(){return IdentityAvatar}});var i=n(57437),r=n(7045);let LettersAvatar=e=>{let{text:t,width:n=40,height:r=40}=e;return(0,i.jsx)("div",{className:"bg-indigo-400 p-2 rounded-sm overflow-hidden",style:{width:"".concat(n,"px"),height:"".concat(r,"px"),borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center",color:"white",fontSize:"16px",lineHeight:1},children:t})};var s=n(40542),l=n(3283),o=n(53386),u=n(16691),d=n.n(u);let IdentityAvatar=e=>{let{identity:t,width:n=60,height:u=60}=e,[c]=(0,s.V)(null==t?void 0:t.profile().name$),[a]=(0,s.V)(null==t?void 0:t.profile().icon$);return(0,i.jsx)(i.Fragment,{children:a?(0,i.jsx)(l.Z,{sx:{width:n,height:u},children:a&&(0,i.jsx)(d(),{src:a,alt:"",width:n,height:u})}):(0,i.jsxs)(i.Fragment,{children:[!c&&(0,i.jsx)(r.Z,{width:n,height:u}),c&&(0,i.jsx)(LettersAvatar,{width:n,height:u,text:(0,o.OX)(c)})]})})}},40542:function(e,t,n){"use strict";n.d(t,{V:function(){return useBehaviorSubject}});var i=n(2265);let useBehaviorSubject=e=>{let[t,n]=(0,i.useState)(null==e?void 0:e.getValue()),[r,s]=(0,i.useState)();return(0,i.useEffect)(()=>{if(!e){n(null);return}let t=e.subscribe({next:e=>{n(e)},error:s});return()=>t.unsubscribe()},[e]),[t]}},97716:function(e,t,n){"use strict";n.d(t,{s:function(){return useMounted}});var i=n(2265);let useMounted=()=>{let[e,t]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{t(!0)},[]),{mounted:e}}},19739:function(e,t,n){"use strict";n.d(t,{p:function(){return useToast}});var i=n(36953);function useToast(){let{enqueueSnackbar:e}=(0,i.Ds)();return{showSuccessToast:t=>{e(t,{variant:"success"})},showErrorToast:t=>{e(t,{variant:"error"})}}}},66615:function(e,t,n){"use strict";function shortenDID(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=e.split(":");if(n.length<3)return e;let i=n[2];if(i.length<=2*t)return e;let r="".concat(i.substr(0,t),"...").concat(i.substr(-t));return"".concat(n[0],":").concat(n[1],":").concat(r)}n.d(t,{L:function(){return shortenDID}})}},function(e){e.O(0,[6990,9787,9443,8218,3988,395,8321,9152,6953,7998,5858,3262,2971,7864,1744],function(){return e(e.s=96289)}),_N_E=e.O()}]);