"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3988],{11920:function(e,t,n){let i,o,r;n.r(t),n.d(t,{DID:function(){return R},Hive:function(){return q},Interfaces:function(){return T},UX:function(){return es},Wallet:function(){return el},connectivity:function(){return $},didAccessV2:function(){return L},localization:function(){return ea},logger:function(){return S},storage:function(){return w},theme:function(){return et}});var a,s,l,c,d,u,p=n(62067),h=n.n(p),y=n(69810),g=n.n(y),m=n(65559),f=n(50676),v=n(70163),_=n(13001),C=n(24741);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function __awaiter(e,t,n,i){return new(n||(n=Promise))(function(o,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(fulfilled,rejected)}step((i=i.apply(e,t||[])).next())})}let b={},lazyElastosDIDSDKImport=()=>__awaiter(void 0,void 0,void 0,function*(){return b["@elastosfoundation/did-js-sdk"]||(b["@elastosfoundation/did-js-sdk"]=yield Promise.resolve().then(n.bind(n,26588))),{JWTParserBuilder:b["@elastosfoundation/did-js-sdk"].JWTParserBuilder,VerifiablePresentation:b["@elastosfoundation/did-js-sdk"].VerifiablePresentation,VerifiableCredential:b["@elastosfoundation/did-js-sdk"].VerifiableCredential,DID:b["@elastosfoundation/did-js-sdk"].DID,DIDStore:b["@elastosfoundation/did-js-sdk"].DIDStore,Mnemonic:b["@elastosfoundation/did-js-sdk"].Mnemonic,RootIdentity:b["@elastosfoundation/did-js-sdk"].RootIdentity}});let DefaultKeyValueStorage=class DefaultKeyValueStorage{init(){return __awaiter(this,void 0,void 0,function*(){this.storage||(this.storage=yield(0,m.O)({name:"connectivity-sdk-storage",version:1}))})}set(e,t){return __awaiter(this,void 0,void 0,function*(){yield this.init(),yield this.storage.set(e,t)})}get(e,t){return __awaiter(this,void 0,void 0,function*(){return yield this.init(),(yield this.storage.get(e))||t})}unset(e){return __awaiter(this,void 0,void 0,function*(){yield this.init(),yield this.storage.delete(e)})}};function getGlobalSingleton(e,t){if(globalThis.elastosconnectivity||(globalThis.elastosconnectivity={}),globalThis.elastosconnectivity[e])return globalThis.elastosconnectivity[e];{let n=t();return globalThis.elastosconnectivity[e]=n,n}}let D="connectivitysdk_storage_index";let GlobalStorageService=class GlobalStorageService{constructor(){this.storageLayer=new DefaultKeyValueStorage,this.index=null}setStorageLayer(e){this.storageLayer=e}lazyLoadIndex(){return __awaiter(this,void 0,void 0,function*(){if(this.index)return;let e=yield this.storageLayer.get(D,null);this.index=e?JSON.parse(e):[]})}saveIndex(){return __awaiter(this,void 0,void 0,function*(){yield this.storageLayer.set(D,JSON.stringify(this.index))})}set(e,t,n){return __awaiter(this,void 0,void 0,function*(){yield this.lazyLoadIndex();let i=this.getFullKey(e,t);return this.index.includes(i)||(this.index.push(i),yield this.saveIndex()),this.storageLayer.set(i,n)})}get(e,t,n){return __awaiter(this,void 0,void 0,function*(){yield this.lazyLoadIndex();let i=this.getFullKey(e,t);return this.storageLayer.get(i,n)})}unset(e,t){return __awaiter(this,void 0,void 0,function*(){let n=this.getFullKey(e,t);return this.storageLayer.unset(n)})}clean(e){return __awaiter(this,void 0,void 0,function*(){for(let e of(yield this.lazyLoadIndex(),this.index))yield this.storageLayer.unset(e);this.index=[],yield this.saveIndex()})}getFullKey(e,t){return e+"_"+t}setJSON(e,t,n){return this.set(e,t,JSON.stringify(n))}getJSON(e,t,n){return __awaiter(this,void 0,void 0,function*(){return JSON.parse((yield this.get(e,t,JSON.stringify(n))))})}};let w=getGlobalSingleton("storage",()=>new GlobalStorageService),generateRandomDIDStoreId=(e=6)=>{let t=16,n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),i=[],o;if(t=t||n.length,e)for(o=0;o<e;o++)i[o]=n[0|Math.random()*t];else{let e;for(o=0,i[8]=i[13]=i[18]=i[23]="-",i[14]="4";o<36;o++)i[o]||(e=0|16*Math.random(),i[o]=n[19==o?3&e|8:e])}return i.join("")},randomRequestId=()=>generateRandomDIDStoreId(16),notImplementedError=e=>Error(`Method ${e} is not implemented in the connector. Ask the connector developer to update the implementation`);let DIDHelper=class DIDHelper{constructor(){}saveAppInstanceDIDInfo(e=null,t,n,i){return __awaiter(this,void 0,void 0,function*(){S.log("Saving app instance DID info for store "+t+" and did "+n+" and app did "+e);let o=e?`_${e}`:"";yield w.set($.getActiveConnector().name,"dappsdk_appinstancedidstoreid"+o,t),yield w.set($.getActiveConnector().name,"dappsdk_appinstancedidstring"+o,n),yield w.set($.getActiveConnector().name,"dappsdk_appinstancedidstorepassword"+o,i)})}cleanupConnectorContext(e){return __awaiter(this,void 0,void 0,function*(){yield w.clean(e.name)})}generateRandomPassword(){return generateRandomDIDStoreId()}static openDidStore(e){return new Promise(t=>__awaiter(this,void 0,void 0,function*(){try{let{DIDStore:n}=yield lazyElastosDIDSDKImport(),i=yield n.open(e);t(i)}catch(e){t(null)}}))}static loadDID(e,t){return new Promise((n,i)=>__awaiter(this,void 0,void 0,function*(){try{let o=yield e.loadDid(t);o?n(o.getSubject()):i("Null DIDDocument loaded for did string "+e)}catch(e){i(e)}}))}static loadDIDCredentials(e,t){return new Promise((n,i)=>__awaiter(this,void 0,void 0,function*(){try{let i=yield e.listCredentials(t.toString()),o=[];for(let t of i)o.push((yield e.loadCredential(t)));n(o)}catch(e){i(e)}}))}};let x={},k=new f.X(null),I=new f.X(null);let DIDResponseV2=class DIDResponseV2{registerResponseProcessors(){return __awaiter(this,void 0,void 0,function*(){var e,t;e=this.processRequestCredentialsResponse,x.requestCredentials=e,t=this.processImportCredentialsResponse,x.importCredentials=t})}processRequestCredentialsResponse(e,t){return __awaiter(this,void 0,void 0,function*(){if(t){if(e.data.nonceToVerifyInternally&&e.data.nonceToVerifyInternally!==t.getProof().getNonce()){let t=Error("Automatically generated nonce doesn't match nonce in the returned presentation");k.next([e.appData,null,t]);return}if(e.data.realmToVerifyInternally&&e.data.realmToVerifyInternally!==t.getProof().getRealm()){let t=Error("Automatically generated realm doesn't match realm in the returned presentation");k.next([e.appData,null,t]);return}k.next([e.appData,t])}else k.next([e.appData,null])})}processImportCredentialsResponse(e,t){return __awaiter(this,void 0,void 0,function*(){t?I.next([e.appData,t]):I.next([e.appData,null])})}};let E=getGlobalSingleton("didresponsev2",()=>new DIDResponseV2);function storeDeferredRequest(e){return w.setJSON("deferredrequests",e.requestId,e)}let DefaultLogger=class DefaultLogger{log(...e){console.log.apply(console,e)}warn(...e){console.warn.apply(console,e)}error(...e){console.error.apply(console,e)}};let S=new class{constructor(){this.logger=new DefaultLogger}setLoggerLayer(e){this.logger=e}log(...e){this.logger.log.apply(this.logger,e)}warn(...e){this.logger.warn.apply(this.logger,e)}error(...e){this.logger.error.apply(this.logger,e)}};let Connectivity=class Connectivity{constructor(){this.connectors=[],this.activeConnector=null,this.genericUIHandler=null,this.applicationDID=null}registerConnector(e){var t;return __awaiter(this,void 0,void 0,function*(){if(e){if(S.log("Registering connector with name",e.name),this.connectors.findIndex(t=>t.name===e.name)>=0)throw Error("Connector with name "+e.name+" already exists");this.connectors.push(e);let n=yield w.get("global","activeconnectorname",null);n==e.name&&(S.log("Reactivating previously saved connector:"+n),this.activeConnector=e),E.registerResponseProcessors(),null===(t=e.registerResponseHandler)||void 0===t||t.call(e,(e,t)=>__awaiter(this,void 0,void 0,function*(){var n;let i=yield w.getJSON("deferredrequests",e,null);if(!i){S.warn("Connectivity SDK found no saved deferred request for request ID",e);return}null===(n=x[i.requestType])||void 0===n||n.call(x,i,t)}))}})}unregisterConnector(e){return __awaiter(this,void 0,void 0,function*(){this.activeConnector&&this.activeConnector.name==e&&this.setActiveConnector(null);let t=this.connectors.findIndex(t=>t.name===e);if(t<0)throw Error("Connector with name "+e+" doesn't exist");this.connectors.splice(t,1)})}setActiveConnector(e){return __awaiter(this,void 0,void 0,function*(){if(null==e&&this.activeConnector)yield this.cleanupConnectorContext(this.activeConnector),S.log("Forgetting the currently active connector"),this.activeConnector=null;else if(null!=e){let t=this.connectors.find(t=>t.name===e);if(!t)throw Error("Failed to set active connector. Connector "+e+" not found!");this.activeConnector&&this.activeConnector.name!==e&&(yield this.cleanupConnectorContext(this.activeConnector)),this.activeConnector=t}w.set("global","activeconnectorname",e)})}cleanupConnectorContext(e){return __awaiter(this,void 0,void 0,function*(){S.log("Cleaning up connector context for: "+e.name),yield new DIDHelper().cleanupConnectorContext(e)})}getActiveConnector(){return"elastos"in window?window.elastos:this.activeConnector}getAvailableConnectors(){return this.connectors}setApplicationDID(e){this.applicationDID=e}getApplicationDID(){if(!this.applicationDID)throw Error("No application DID defined yet. Please call setApplicationDID() first.");return this.applicationDID}setGenericUIHandler(e){this.genericUIHandler=e}};let $=getGlobalSingleton("connectivity",()=>new Connectivity);(a=c||(c={})).PUBLISHED="published",a.ERROR="error",a.CANCELLED="cancelled";let ConnectivityHelper=class ConnectivityHelper{static ensureActiveConnector(e,t){return __awaiter(this,void 0,void 0,function*(){null!=$.getActiveConnector()?(yield this.sendContextToActiveConnector(),e()):1==$.getAvailableConnectors().length?(yield $.setActiveConnector($.getAvailableConnectors()[0].name),yield this.sendContextToActiveConnector(),e()):(yield $.genericUIHandler.showConnectorChooser())?(yield this.sendContextToActiveConnector(),e()):(S.warn("Cannot ensure active connector. No connector available, or user did not pick one"),t())})}static sendContextToActiveConnector(){return __awaiter(this,void 0,void 0,function*(){let e=yield Promise.resolve().then(n.bind(n,26588));"setModuleContext"in $.getActiveConnector()&&$.getActiveConnector().setModuleContext(e,$)})}};let A=new(g())(1),P=(0,v.h)(e=>!!e);let DIDAccessV2=class DIDAccessV2{onRequestCredentialsResponse(e){let t=k.pipe(P).subscribe(([t,n,i])=>{e(t,n,i)});return()=>t.unsubscribe}requestCredentials(e,t){return __awaiter(this,void 0,void 0,function*(){return new Promise((n,i)=>{ConnectivityHelper.ensureActiveConnector(()=>__awaiter(this,void 0,void 0,function*(){if(!$.getActiveConnector().requestCredentialsV2){i(notImplementedError("requestCredentialsV2"));return}try{let i={requestId:randomRequestId(),requestType:"requestCredentials",data:{},appData:t};e.nonce||(e.nonce=generateRandomDIDStoreId(),i.data.nonceToVerifyInternally=e.nonce),e.realm||(e.realm=generateRandomDIDStoreId(),i.data.realmToVerifyInternally=e.realm),e.didMustBePublished||(e.didMustBePublished=!0),e._version=2,yield storeDeferredRequest(i),yield $.getActiveConnector().requestCredentialsV2(i.requestId,e),n()}catch(e){i(e)}}),()=>{n(null)})})})}onImportCredentialsResponse(e){let t=I.pipe(P).subscribe(([t,n,i])=>{e(t,n,i)});return()=>t.unsubscribe}importCredentials(e,t,n){return __awaiter(this,void 0,void 0,function*(){return new Promise((i,o)=>{ConnectivityHelper.ensureActiveConnector(()=>__awaiter(this,void 0,void 0,function*(){if(!$.getActiveConnector().importCredentialsV2){o(notImplementedError("importCredentialsV2"));return}try{let o={requestId:randomRequestId(),requestType:"importCredentials",data:{},appData:n};yield storeDeferredRequest(o),yield $.getActiveConnector().importCredentialsV2(o.requestId,e,t),i()}catch(e){o(e)}}),()=>{i(null)})})})}};let L=getGlobalSingleton("didaccessv2",()=>new DIDAccessV2);let ClaimDescription=class ClaimDescription{constructor(){this.min=1,this.max=1}withReason(e){return this.reason=e,this}withMin(e){return this.min=e,this}withMax(e){return this.max=e,this}withNoMatchRecommendations(e){return this.noMatchRecommendations=e,this}withClaim(e){return this.claims=[e],this}withAnyOfClaims(e){return this.claims=e,this}};let Claim=class Claim{withQuery(e){return this.query=e,this}withIssuers(e){return this.issuers=e,this}};function claimWithJsonPathQuery(e){return new Claim().withQuery(e)}function claimDescription(e,t=!1){return new ClaimDescription().withReason(e).withMin(t?1:0)}function typeClaim(e){return claimWithJsonPathQuery(`$[?(@.type.indexOf('${e}') >= 0)]`)}function idClaim(e){return claimWithJsonPathQuery(`$[?(@.id == "${e}" || @.id.match(/#${e}$/))]`)}function simpleTypeClaim(e,t,n=!0){return claimDescription(e,n).withAnyOfClaims([typeClaim(t)])}var R=Object.freeze({__proto__:null,didAccessV2:L,get UpdateHiveVaultAddressStatus(){return c},DIDAccess:class{constructor(){this.helper=null,this.helper=new DIDHelper}getCredentials(e){return __awaiter(this,void 0,void 0,function*(){return new Promise((t,n)=>{ConnectivityHelper.ensureActiveConnector(()=>__awaiter(this,void 0,void 0,function*(){if(!$.getActiveConnector().getCredentials){n(notImplementedError("getCredentials"));return}e.didMustBePublished||(e.didMustBePublished=!0);try{let n=yield $.getActiveConnector().getCredentials(e);t(n)}catch(e){n(e)}}),()=>{t(null)})})})}requestCredentials(e){return __awaiter(this,void 0,void 0,function*(){return new Promise((t,n)=>{ConnectivityHelper.ensureActiveConnector(()=>__awaiter(this,void 0,void 0,function*(){if(!$.getActiveConnector().requestCredentials){n(notImplementedError("requestCredentials"));return}try{let i=!1;e.nonce||(e.nonce=generateRandomDIDStoreId(),i=!0);let o=!1;e.realm||(e.realm=generateRandomDIDStoreId(),o=!0),e.didMustBePublished||(e.didMustBePublished=!0),e._version=2;let r=yield $.getActiveConnector().requestCredentials(e);if(r){if(i&&e.nonce!==r.getProof().getNonce()){n(Error("Automatically generated nonce doesn't match nonce in the returned presentation"));return}if(o&&e.realm!==r.getProof().getRealm()){n(Error("Automatically generated realm doesn't match realm in the returned presentation"));return}}t(r)}catch(e){n(e)}}),()=>{t(null)})})})}issueCredential(e,t,n,i,o){return __awaiter(this,void 0,void 0,function*(){return new Promise((r,a)=>{ConnectivityHelper.ensureActiveConnector(()=>__awaiter(this,void 0,void 0,function*(){if(!$.getActiveConnector().issueCredential){a(notImplementedError("issueCredential"));return}try{let a=yield $.getActiveConnector().issueCredential(e,t,n,i,o);r(a)}catch(e){a(e)}}),()=>{r(null)})})})}importCredentials(e,t){return __awaiter(this,void 0,void 0,function*(){return new Promise((n,i)=>{ConnectivityHelper.ensureActiveConnector(()=>__awaiter(this,void 0,void 0,function*(){if(!$.getActiveConnector().importCredentials){i(notImplementedError("importCredentials"));return}try{let i=yield $.getActiveConnector().importCredentials(e,t);n(i)}catch(e){i(e)}}),()=>{n(null)})})})}deleteCredentials(e,t){return __awaiter(this,void 0,void 0,function*(){let n;return n="string"==typeof e?[e]:e,new Promise((e,i)=>{ConnectivityHelper.ensureActiveConnector(()=>__awaiter(this,void 0,void 0,function*(){if(!$.getActiveConnector().deleteCredentials){i(notImplementedError("deleteCredentials"));return}try{let i=yield $.getActiveConnector().deleteCredentials(n,t);e(i)}catch(e){i(e)}}),()=>{e(null)})})})}signData(e,t,n){return __awaiter(this,void 0,void 0,function*(){return new Promise((i,o)=>{ConnectivityHelper.ensureActiveConnector(()=>__awaiter(this,void 0,void 0,function*(){if(!$.getActiveConnector().signData){o(notImplementedError("signData"));return}try{let o=yield $.getActiveConnector().signData(e,t,n);i(o)}catch(e){o(e)}}),()=>{i(null)})})})}requestPublish(){return __awaiter(this,void 0,void 0,function*(){return new Promise((e,t)=>{ConnectivityHelper.ensureActiveConnector(()=>__awaiter(this,void 0,void 0,function*(){if(!$.getActiveConnector().requestPublish){t(notImplementedError("requestPublish"));return}try{let t=yield $.getActiveConnector().requestPublish();e(t)}catch(e){t(e)}}),()=>{e(null)})})})}updateHiveVaultAddress(e,t){return __awaiter(this,void 0,void 0,function*(){return new Promise((n,i)=>{ConnectivityHelper.ensureActiveConnector(()=>__awaiter(this,void 0,void 0,function*(){if(!$.getActiveConnector().updateHiveVaultAddress){i(notImplementedError("updateHiveVaultAddress"));return}try{let i=yield $.getActiveConnector().updateHiveVaultAddress(e,t);n(i)}catch(e){i(e)}}),()=>{n(null)})})})}importCredentialContext(e,t){return new Promise((n,i)=>{ConnectivityHelper.ensureActiveConnector(()=>__awaiter(this,void 0,void 0,function*(){if(!$.getActiveConnector().importCredentialContext){i(notImplementedError("importCredentialContext"));return}try{let i=yield $.getActiveConnector().importCredentialContext(e,t);n(i)}catch(e){i(e)}}),()=>{n(null)})})}generateAppIdCredential(e=null){return __awaiter(this,void 0,void 0,function*(){return new Promise((t,n)=>{ConnectivityHelper.ensureActiveConnector(()=>__awaiter(this,void 0,void 0,function*(){if(!$.getActiveConnector().generateAppIdCredential){n(notImplementedError("generateAppIdCredential"));return}try{let n=yield this.getOrCreateAppInstanceDID(e);if(!n){t(null);return}let i=n.did;S.log("Starting to generate a new App ID credential.");let o=yield $.getActiveConnector().generateAppIdCredential(i.toString(),e||$.getApplicationDID());yield n.didStore.storeCredential(o),t(o)}catch(e){n(e)}}),()=>{t(null)})})})}generateHiveBackupCredential(e,t,n){return __awaiter(this,void 0,void 0,function*(){return new Promise((i,o)=>{ConnectivityHelper.ensureActiveConnector(()=>__awaiter(this,void 0,void 0,function*(){if(!$.getActiveConnector().generateHiveBackupCredential){o(notImplementedError("generateHiveBackupCredential"));return}try{let o=yield $.getActiveConnector().generateHiveBackupCredential(e,t,n);i(o)}catch(e){o(e)}}),()=>{i(null)})})})}getExistingAppIdentityCredential(e=null){return __awaiter(this,void 0,void 0,function*(){S.log("Trying to get an existing app ID credential from storage");let t=yield this.getOrCreateAppInstanceDID(e);if(!t)return null;let n=t.did;S.log("App Instance DID:",n);let i=yield t.didStore.loadCredential(n.toString()+"#app-id-credential");if(i){if(h()((yield i.getExpirationDate())).isBefore(h()().subtract(1,"hours")))return S.log("Existing credential is expired or almost expired - renewing it"),null;S.log("Returning existing app id credential found in app's local storage")}return i})}getOrCreateAppInstanceDID(e=null){return __awaiter(this,void 0,void 0,function*(){let t=null,n=null,i=null;return A.add(()=>(S.log("Getting or creating app instance DID"),new Promise((o,r)=>{ConnectivityHelper.ensureActiveConnector(()=>__awaiter(this,void 0,void 0,function*(){try{let r=yield this.getExistingAppInstanceDIDInfo(e);if(r&&(t=yield DIDHelper.openDidStore(r.storeId)))try{n=yield DIDHelper.loadDID(t,r.didString),i=r.storePassword}catch(e){S.error(e)}if(!t||!n){S.log("No app instance DID found. Creating a new one");let o=yield this.createNewAppInstanceDID(e);t=o.didStore,n=o.did,i=o.storePassword}yield DIDHelper.loadDIDCredentials(t,n),o({did:n,didStore:t,storePassword:i})}catch(e){r(e)}}),()=>{o(null)})})))})}getExistingAppInstanceDIDInfo(e=null){return __awaiter(this,void 0,void 0,function*(){let t=e?`_${e}`:"",n=yield w.get($.getActiveConnector().name,"dappsdk_appinstancedidstoreid"+t,null),i=yield w.get($.getActiveConnector().name,"dappsdk_appinstancedidstring"+t,null),o=yield w.get($.getActiveConnector().name,"dappsdk_appinstancedidstorepassword"+t,null);return n&&i?{storeId:n,didString:i,storePassword:o}:null})}fastCreateDID(e){return S.log("Fast DID creation with language "+e),new Promise((t,n)=>__awaiter(this,void 0,void 0,function*(){try{let{Mnemonic:n,DIDStore:i,RootIdentity:o}=yield lazyElastosDIDSDKImport(),r=yield n.getInstance(e).generate(),a=generateRandomDIDStoreId(),s=yield i.open(a),l=this.helper.generateRandomPassword(),c=yield o.createFromMnemonic(r,null,s,l),d=yield c.newDid(l);t({didStoreId:a,didStore:s,did:d.getSubject(),storePassword:l})}catch(e){n(e)}}))}createNewAppInstanceDID(e=null){return __awaiter(this,void 0,void 0,function*(){let{Mnemonic:t}=yield lazyElastosDIDSDKImport(),n=yield this.fastCreateDID(t.ENGLISH);return yield this.helper.saveAppInstanceDIDInfo(e,n.didStoreId,n.did.toString(),n.storePassword),{didStore:n.didStore,didStoreId:n.didStoreId,did:n.did,storePassword:n.storePassword}})}},DIDHelper:DIDHelper,ClaimDescription:ClaimDescription,Claim:Claim,claimWithJsonPathQuery:claimWithJsonPathQuery,claimDescription:claimDescription,typeClaim:typeClaim,idClaim:idClaim,simpleIdClaim:function(e,t,n=!0){return claimDescription(e,n).withAnyOfClaims([idClaim(t)])},simpleTypeClaim:simpleTypeClaim,standardNameClaim:function(e,t=!0){return simpleTypeClaim(e,"NameCredential",t)},standardEmailClaim:function(e,t=!0){return simpleTypeClaim(e,"EmailCredential",t)}});(s=d||(d={})).Vault=class{getDatabase(){}},s.errorOfType=function(e,t){return!1};let SyncContext=class SyncContext{};let BackupRestoreEntry=class BackupRestoreEntry{};let LocalBackupRestoreEntry=class LocalBackupRestoreEntry extends BackupRestoreEntry{static fromJson(e){if(!e)return null;let t=new LocalBackupRestoreEntry;return t.key=e.key,t.creationDate=e.creationDate,t.modificationDate=e.modificationDate,t.deletionDate=e.deletionDate,t.data=e.data,t}};var O=Object.freeze({__proto__:null,HiveDataSync:class{constructor(e,t=!1){if(this.userVault=e,this.showDebugLogs=t,this.contexts=[],!e)throw Error("The backup restore helper can't be used without a user vault. Please make sure the vault was correctly initialized.");this.userVault=e,this.showDebugLogs=t}addSyncContext(e,t,n,i){let o=new SyncContext;o.name=e,o.onRemoteInsertion=t,o.onRemoteModification=n,o.onRemoteDeletion=i,this.contexts.push(o)}upsertDatabaseEntry(e,t,n){return __awaiter(this,void 0,void 0,function*(){yield this.upsertDatabaseEntryLocally(e,t,n),yield this.sync()})}upsertDatabaseEntryLocally(e,t,n){return __awaiter(this,void 0,void 0,function*(){let i=new Date().getTime(),o=yield this.loadLocalDatabaseEntry(e,t),r=null;o?((r=o).data=n,r.modificationDate=i,r.deletionDate=null,this.logDebug("upsertDatabaseEntryLocally() - updating existing entry",r)):(r={key:t,creationDate:i,modificationDate:i,deletionDate:null,syncDate:null,data:n},this.logDebug("upsertDatabaseEntryLocally() - creating new entry",r)),yield this.saveLocalDatabaseEntry(e,r)})}deleteDatabaseEntry(e,t,n=!1){return __awaiter(this,void 0,void 0,function*(){n?yield this.deleteDatabaseEntryLocallyForReal(e,t):(yield this.deleteDatabaseEntryLocallyMarkOnly(e,t),yield this.sync())})}getDatabaseEntry(e,t){return __awaiter(this,void 0,void 0,function*(){return this.loadLocalDatabaseEntry(e,t)})}loadLocalDatabaseEntry(e,t){return __awaiter(this,void 0,void 0,function*(){let n=yield this.loadSettingsEntry(e+"_"+t);return n?LocalBackupRestoreEntry.fromJson(n):null})}saveLocalDatabaseEntry(e,t){return __awaiter(this,void 0,void 0,function*(){yield this.addKeyToSavedEntriesList(e,t.key),yield this.saveSettingsEntry(e+"_"+t.key,t)})}deleteDatabaseEntryLocallyMarkOnly(e,t){return __awaiter(this,void 0,void 0,function*(){let n=yield this.loadLocalDatabaseEntry(e,t);if(n){let t=new Date().getTime();n.deletionDate=t,n.modificationDate=t,yield this.saveLocalDatabaseEntry(e,n),this.logDebug("deleteDatabaseEntryLocallyMarkOnly() - marking entry as deleted",n)}else this.logWarn("Tried to mark entry as deleted but entry can't be found in local model!",t)})}deleteDatabaseEntryLocallyForReal(e,t){return __awaiter(this,void 0,void 0,function*(){this.logDebug("Really deleting local database entry",e,t),yield this.saveSettingsEntry(e+"_"+t,null),yield this.removeKeyFromSavedEntriesList(e,t)})}upsertDatabaseEntryOnVault(e,t){return __awaiter(this,void 0,void 0,function*(){let n={key:t.key,creationDate:t.creationDate,modificationDate:t.modificationDate,deletionDate:t.deletionDate,data:t.data};(yield this.getVaultDatabaseEntry(e,t.key))?(this.logDebug("Updating vault entry: ",e,t.key,n),yield this.userVault.getDatabase().updateOne(this.getCollectionNameForContext(e),{key:t.key},{$set:n})):(this.logDebug("Inserting new vault entry: ",e,t.key,n),yield this.userVault.getDatabase().insertOne(this.getCollectionNameForContext(e),n))})}getVaultDatabaseEntry(e,t){return __awaiter(this,void 0,void 0,function*(){let n=this.getCollectionNameForContext(e);this.logDebug("Fetching vault entry with key",t,"in collection",n);let i=yield this.userVault.getDatabase().findOne(n,{key:t});return this.logDebug("Fetched vault entry:",i),i})}createContextCollection(e){return __awaiter(this,void 0,void 0,function*(){let t=this.getCollectionNameForContext(e);this.logDebug("Making sure the collection "+t+" exists"),yield this.userVault.getDatabase().createCollection(t)})}sync(e=!0){return __awaiter(this,void 0,void 0,function*(){for(let t of(this.log("Synchronization starting..."),this.contexts)){for(let n of(this.log("Synchronizing context:",t),yield this.createContextCollection(t.name),e?yield this.getVaultModifiedEntriesSinceLastFullLocalSync(t.name):yield this.getAllVaultEntries(t.name))){let e=yield this.loadLocalDatabaseEntry(t.name,n.key);if(e){if(e.modificationDate<n.modificationDate){if(n.deletionDate){if(this.logDebug("Entry found on the vault and locally, and deleted on the vault. Calling onRemoteDeletion()"),!(yield t.onRemoteDeletion(n)))return this.logDebug("onRemoteDeletion() has failed on the app side. Stopping synchronization. Will retry later",t.name,n.key),!1;{let i=new Date().getTime();e.modificationDate=n.modificationDate,e.deletionDate=n.deletionDate,e.data=n.data,e.syncDate=i,yield this.saveLocalDatabaseEntry(t.name,e)}}else{if(this.logDebug("Entry found on the vault and locally, and modified more recently on the vault. Calling onRemoteModification()"),!(yield t.onRemoteModification(n)))return this.logDebug("onRemoteModification() has failed on the app side. Stopping synchronization. Will retry later",t.name,n.key),!1;{let i=new Date().getTime();e.modificationDate=n.modificationDate,e.data=n.data,e.syncDate=i,yield this.saveLocalDatabaseEntry(t.name,e)}}}}else if(!n.deletionDate){if(this.logDebug("Entry found on the vault but not existing locally. Calling onRemoteInsertion()"),!(yield t.onRemoteInsertion(n)))return this.logDebug("onRemoteInsertion() has failed on the app side. Stopping synchronization. Will retry later",t.name,n.key),!1;{let e={key:n.key,creationDate:n.creationDate,modificationDate:n.modificationDate,deletionDate:null,syncDate:new Date().getTime(),data:n.data};this.logDebug("After onRemoteInsertion() - creating new entry",e),yield this.saveLocalDatabaseEntry(t.name,e)}}}for(let e of yield this.getSavedEntriesList(t.name)){let n=yield this.loadLocalDatabaseEntry(t.name,e);if(this.logDebug("Checking if local entry needs to be synced with vault",n),n){if(!n.syncDate||n.syncDate<n.modificationDate){let i=yield this.getVaultDatabaseEntry(t.name,e);!i||n.modificationDate>i.modificationDate?(this.logDebug("Local entry has modifications, sending changes to the vault"),yield this.upsertDatabaseEntryOnVault(t.name,n),n.deletionDate?(this.logDebug("Local entry is deleted and was synced to vault. Now deleting permanently"),yield this.deleteDatabaseEntryLocallyForReal(t.name,n.key)):(this.logDebug("Local entry is not deleted, saving sync date"),n.syncDate=new Date().getTime(),yield this.saveLocalDatabaseEntry(t.name,n))):this.logDebug("Up to date (local modification not more recent than vault modification)",n)}else this.logDebug("Already synchronized (no local modification since last sync)",n)}else this.logWarn("Local entry with key "+e+" exists in saved entries list but the entry itself can't be found. This is an abnormal state. Local entry is skipped.")}this.saveLastFullSuccessfulSyncDate()}return!0})}wipeLocalContextData(e){return __awaiter(this,void 0,void 0,function*(){for(let t of(this.logDebug("Wiping local context data for context",e),yield this.getSavedEntriesList(e)))yield this.deleteDatabaseEntryLocallyForReal(e,t);yield this.clearLastFullSuccessfulSyncDate()})}getVaultModifiedEntriesSinceLastFullLocalSync(e){return __awaiter(this,void 0,void 0,function*(){let t=yield this.getLastFullSuccessfulSyncDate();this.logDebug("Fetching vault modified entries since last full local sync",t);let n=this.getCollectionNameForContext(e),i={};t&&(i.modificationDate={$gt:t});try{let e=yield this.userVault.getDatabase().findMany(n,i);return this.logDebug("Received vault modified entries since last full local sync:",e),e}catch(e){if(d.errorOfType(e,"COLLECTION_NOT_FOUND"))return this.logDebug("Backup collection does not exist on the vault yet, thus no modified entries returned"),[];throw e}})}getAllVaultEntries(e){return __awaiter(this,void 0,void 0,function*(){this.logDebug("Fetching all vault entries for context",e);let t=this.getCollectionNameForContext(e);try{let e=yield this.userVault.getDatabase().findMany(t,{});return this.logDebug("Received vault entries:",e),e}catch(e){if(e.getType&&"COLLECTION_NOT_FOUND"==e.getType())return this.logDebug("Backup collection does not exist on the vault yet, thus no entries returned"),[];throw e}})}getLastFullSuccessfulSyncDate(){return __awaiter(this,void 0,void 0,function*(){return yield this.loadSettingsEntry("lastfullsyncdate")})}saveLastFullSuccessfulSyncDate(){return __awaiter(this,void 0,void 0,function*(){return this.saveSettingsEntry("lastfullsyncdate",new Date().getTime())})}clearLastFullSuccessfulSyncDate(){return __awaiter(this,void 0,void 0,function*(){return this.logDebug("Clearing last full sync date"),this.saveSettingsEntry("lastfullsyncdate",null)})}getCollectionNameForContext(e){return"backup_"+e}addKeyToSavedEntriesList(e,t){return __awaiter(this,void 0,void 0,function*(){let n=e+"_index",i=yield this.getSavedEntriesList(e);0>i.indexOf(t)&&i.push(t),yield this.saveSettingsEntry(n,i)})}removeKeyFromSavedEntriesList(e,t){return __awaiter(this,void 0,void 0,function*(){let n=e+"_index",i=yield this.getSavedEntriesList(e),o=i.indexOf(t);o>=0&&i.splice(o,1),yield this.saveSettingsEntry(n,i)})}getSavedEntriesList(e){return __awaiter(this,void 0,void 0,function*(){return(yield this.loadSettingsEntry(e+"_index"))||[]})}saveSettingsEntry(e,t){return w.set("hivedatasync",e,t)}loadSettingsEntry(e){return w.get("hivedatasync",e,null)}log(e,...t){S.log("BackupRestore: ",e,t)}logWarn(e,...t){S.warn("BackupRestore: ",e,...t)}logDebug(e,...t){this.showDebugLogs&&S.log("BackupRestore[debug]: ",e,...t)}},SyncContext:SyncContext,BackupRestoreEntry:BackupRestoreEntry,LocalBackupRestoreEntry:LocalBackupRestoreEntry}),q=Object.freeze({__proto__:null,HiveAccess:class{changeHiveProvider(){}},AuthHelper:class{constructor(){}},Utils:class{},DataSync:O}),T=Object.freeze({__proto__:null,Connectors:Object.freeze({__proto__:null})});function noop(){}let identity=e=>e;function run(e){return e()}function blank_object(){return Object.create(null)}function run_all(e){e.forEach(run)}function is_function(e){return"function"==typeof e}function safe_not_equal(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function component_subscribe(e,t,n){e.$$.on_destroy.push(function(e,...t){if(null==e)return noop;let n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}(t,n))}function get_slot_context(e,t,n,i){return e[1]&&i?function(e,t){for(let n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](i(t))):n.ctx}let M="undefined"!=typeof window,B=M?()=>window.performance.now():()=>Date.now(),V=M?e=>requestAnimationFrame(e):noop,z=new Set;function run_tasks(e){z.forEach(t=>{t.c(e)||(z.delete(t),t.f())}),0!==z.size&&V(run_tasks)}function append(e,t){e.appendChild(t)}function insert(e,t,n){e.insertBefore(t,n||null)}function detach(e){e.parentNode.removeChild(e)}function element(e){return document.createElement(e)}function text(e){return document.createTextNode(e)}function space(){return text(" ")}function listen(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function attr(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function set_custom_element_data(e,t,n){t in e?e[t]=n:attr(e,t,n)}function set_data(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function toggle_class(e,t,n){e.classList[n?"add":"remove"](t)}let H=new Set,N=0;function create_rule(e,t,n,i,o,r,a,s=0){let l=16.666/i,c="{\n";for(let e=0;e<=1;e+=l){let i=t+(n-t)*r(e);c+=100*e+`%{${a(i,1-i)}}
`}let d=c+`100% {${a(n,1-n)}}
}`,u=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(d)}_${s}`,p=e.ownerDocument;H.add(p);let h=p.__svelte_stylesheet||(p.__svelte_stylesheet=p.head.appendChild(element("style")).sheet),y=p.__svelte_rules||(p.__svelte_rules={});y[u]||(y[u]=!0,h.insertRule(`@keyframes ${u} ${d}`,h.cssRules.length));let g=e.style.animation||"";return e.style.animation=`${g?`${g}, `:""}${u} ${i}ms linear ${o}ms 1 both`,N+=1,u}let F=[],j=[],W=[],K=[],G=Promise.resolve(),J=!1;function add_render_callback(e){W.push(e)}let U=!1,Y=new Set;function flush(){if(!U){U=!0;do{for(let e=0;e<F.length;e+=1){let t=F[e];i=t,function(e){if(null!==e.fragment){e.update(),run_all(e.before_update);let t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(add_render_callback)}}(t.$$)}for(i=null,F.length=0;j.length;)j.pop()();for(let e=0;e<W.length;e+=1){let t=W[e];Y.has(t)||(Y.add(t),t())}W.length=0}while(F.length);for(;K.length;)K.pop()();J=!1,U=!1,Y.clear()}}function dispatch(e,t,n){e.dispatchEvent(function(e,t){let n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,void 0),n}(`${t?"intro":"outro"}${n}`))}let Q=new Set;function group_outros(){r={r:0,c:[],p:r}}function check_outros(){r.r||run_all(r.c),r=r.p}function transition_in(e,t){e&&e.i&&(Q.delete(e),e.i(t))}function transition_out(e,t,n,i){e&&e.o&&!Q.has(e)&&(Q.add(e),r.c.push(()=>{Q.delete(e),i&&(n&&e.d(1),i())}),e.o(t))}let X={duration:0};function create_bidirectional_transition(e,t,n,i){let a=t(e,n),s=i?0:1,l=null,c=null,d=null;function clear_animation(){d&&function(e,t){let n=(e.style.animation||"").split(", "),i=n.filter(t?e=>0>e.indexOf(t):e=>-1===e.indexOf("__svelte")),o=n.length-i.length;!o||(e.style.animation=i.join(", "),(N-=o)||V(()=>{N||(H.forEach(e=>{let t=e.__svelte_stylesheet,n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.__svelte_rules={}}),H.clear())}))}(e,d)}function init(e,t){let n=e.b-s;return t*=Math.abs(n),{a:s,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function go(t){let{delay:n=0,duration:i=300,easing:o=identity,tick:u=noop,css:p}=a||X,h={start:B()+n,b:t};if(t||(h.group=r,r.r+=1),l||c)c=h;else{var y;p&&(clear_animation(),d=create_rule(e,s,t,i,n,o,p)),t&&u(0,1),l=init(h,i),add_render_callback(()=>dispatch(e,t,"start")),y=t=>{if(c&&t>c.start&&(l=init(c,i),c=null,dispatch(e,l.b,"start"),p&&(clear_animation(),d=create_rule(e,s,l.b,l.duration,0,o,a.css))),l){if(t>=l.end)u(s=l.b,1-s),dispatch(e,l.b,"end"),c||(l.b?clear_animation():--l.group.r||run_all(l.group.c)),l=null;else if(t>=l.start){let e=t-l.start;u(s=l.a+l.d*o(e/l.duration),1-s)}}return!!(l||c)},0===z.size&&V(run_tasks),new Promise(e=>{z.add({c:y,f:e})})}}return{run(e){is_function(a)?(o||(o=Promise.resolve()).then(()=>{o=null}),o).then(()=>{a=a(),go(e)}):go(e)},end(){clear_animation(),l=c=null}}}function create_component(e){e&&e.c()}function mount_component(e,t,n,i){let{fragment:o,on_mount:r,on_destroy:a,after_update:s}=e.$$;o&&o.m(t,n),i||add_render_callback(()=>{let t=r.map(run).filter(is_function);a?a.push(...t):run_all(t),e.$$.on_mount=[]}),s.forEach(add_render_callback)}function destroy_component(e,t){let n=e.$$;null!==n.fragment&&(run_all(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function init(e,t,n,o,r,a,s=[-1]){let l=i;i=e;let c=e.$$={fragment:null,ctx:null,props:a,update:noop,not_equal:r,bound:blank_object(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:[]),callbacks:blank_object(),dirty:s,skip_bound:!1},d=!1;if(c.ctx=n?n(e,t.props||{},(t,n,...i)=>{let o=i.length?i[0]:n;return c.ctx&&r(c.ctx[t],c.ctx[t]=o)&&(!c.skip_bound&&c.bound[t]&&c.bound[t](o),d)&&(-1===e.$$.dirty[0]&&(F.push(e),J||(J=!0,G.then(flush)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31),n}):[],c.update(),d=!0,run_all(c.before_update),c.fragment=!!o&&o(c.ctx),t.target){if(t.hydrate){let e=Array.from(t.target.childNodes);c.fragment&&c.fragment.l(e),e.forEach(detach)}else c.fragment&&c.fragment.c();t.intro&&transition_in(e.$$.fragment),mount_component(e,t.target,t.anchor,t.customElement),flush()}i=l}let SvelteComponent=class SvelteComponent{$destroy(){destroy_component(this,1),this.$destroy=noop}$on(e,t){let n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{let e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){this.$$set&&0!==Object.keys(e).length&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}};let Z=[],ee=function(e,t=noop){let n;let i=[];function set(t){if(safe_not_equal(e,t)&&(e=t,n)){let t=!Z.length;for(let t=0;t<i.length;t+=1){let n=i[t];n[1](),Z.push(n,e)}if(t){for(let e=0;e<Z.length;e+=2)Z[e][0](Z[e+1]);Z.length=0}}}return{set,update:function(t){set(t(e))},subscribe:function(o,r=noop){let a=[o,r];return i.push(a),1===i.length&&(n=t(set)||noop),o(e),()=>{let e=i.indexOf(a);-1!==e&&i.splice(e,1),0===i.length&&(n(),n=null)}}}}(null);function fade(e,{delay:t=0,duration:n=400,easing:i=identity}={}){let o=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:i,css:e=>`opacity: ${e*o}`}}let GlobalThemeService=class GlobalThemeService{constructor(){this.darkMode=!1}enableDarkMode(e){this.darkMode=e}};let et=getGlobalSingleton("theme",()=>new GlobalThemeService);function create_if_block$1(e){let t,n,i,o,r,a,s,l,c,d,u;let p=e[1].closeButton&&create_if_block_1(e);var h=e[2];return h&&(a=new h({})),{c(){t=element("div"),n=element("div"),i=element("div"),p&&p.c(),o=space(),r=element("div"),a&&create_component(a.$$.fragment),attr(r,"class","content svelte-kqf8ju"),attr(r,"style",e[13]),attr(i,"class","window svelte-kqf8ju"),attr(i,"role","dialog"),attr(i,"aria-modal","true"),attr(i,"style",e[12]),toggle_class(i,"dark-mode",et.darkMode),attr(n,"class","window-wrap svelte-kqf8ju"),attr(n,"style",e[11]),attr(t,"class","bg svelte-kqf8ju"),attr(t,"style",e[10])},m(s,l){insert(s,t,l),append(t,n),append(n,i),p&&p.m(i,null),append(i,o),append(i,r),a&&mount_component(a,r,null),e[39](i),e[40](n),e[41](t),c=!0,d||(u=[listen(i,"introstart",function(){is_function(e[6])&&e[6].apply(this,arguments)}),listen(i,"outrostart",function(){is_function(e[7])&&e[7].apply(this,arguments)}),listen(i,"introend",function(){is_function(e[8])&&e[8].apply(this,arguments)}),listen(i,"outroend",function(){is_function(e[9])&&e[9].apply(this,arguments)}),listen(t,"click",e[19])],d=!0)},p(s,l){if((e=s)[1].closeButton?p?(p.p(e,l),2&l[0]&&transition_in(p,1)):((p=create_if_block_1(e)).c(),transition_in(p,1),p.m(i,o)):p&&(group_outros(),transition_out(p,1,1,()=>{p=null}),check_outros()),h!==(h=e[2])){if(a){group_outros();let e=a;transition_out(e.$$.fragment,1,0,()=>{destroy_component(e,1)}),check_outros()}h?(create_component((a=new h({})).$$.fragment),transition_in(a.$$.fragment,1),mount_component(a,r,null)):a=null}(!c||8192&l[0])&&attr(r,"style",e[13]),(!c||4096&l[0])&&attr(i,"style",e[12]),(!c||2048&l[0])&&attr(n,"style",e[11]),(!c||1024&l[0])&&attr(t,"style",e[10])},i(n){c||(transition_in(p),a&&transition_in(a.$$.fragment,n),add_render_callback(()=>{s||(s=create_bidirectional_transition(i,e[16],e[1].transitionWindowProps,!0)),s.run(1)}),add_render_callback(()=>{l||(l=create_bidirectional_transition(t,e[15],e[1].transitionBgProps,!0)),l.run(1)}),c=!0)},o(n){transition_out(p),a&&transition_out(a.$$.fragment,n),s||(s=create_bidirectional_transition(i,e[16],e[1].transitionWindowProps,!1)),s.run(0),l||(l=create_bidirectional_transition(t,e[15],e[1].transitionBgProps,!1)),l.run(0),c=!1},d(n){n&&detach(t),p&&p.d(),a&&destroy_component(a),e[39](null),n&&s&&s.end(),e[40](null),e[41](null),n&&l&&l.end(),d=!1,run_all(u)}}}function create_if_block_1(e){let t,n,i,o,r;let a=[create_if_block_2,create_else_block],s=[];function select_block_type(e,n){return(2&n[0]&&(t=!!e[17](e[1].closeButton)),t)?0:1}return i=s[n=select_block_type(e,[-1])]=a[n](e),{c(){i.c(),o=text("")},m(e,t){s[n].m(e,t),insert(e,o,t),r=!0},p(e,t){let r=n;(n=select_block_type(e,t))===r?s[n].p(e,t):(group_outros(),transition_out(s[r],1,1,()=>{s[r]=null}),check_outros(),(i=s[n])?i.p(e,t):(i=s[n]=a[n](e)).c(),transition_in(i,1),i.m(o.parentNode,o))},i(e){r||(transition_in(i),r=!0)},o(e){transition_out(i),r=!1},d(e){s[n].d(e),e&&detach(o)}}}function create_else_block(e){let t,n,i;return{c(){attr(t=element("button"),"class","close svelte-kqf8ju"),attr(t,"style",e[14])},m(o,r){insert(o,t,r),n||(i=listen(t,"click",e[0]),n=!0)},p(e,n){16384&n[0]&&attr(t,"style",e[14])},i:noop,o:noop,d(e){e&&detach(t),n=!1,i()}}}function create_if_block_2(e){let t,n,i;var o=e[1].closeButton;function switch_props(e){return{props:{onClose:e[0]}}}return o&&(t=new o(switch_props(e))),{c(){t&&create_component(t.$$.fragment),n=text("")},m(e,o){t&&mount_component(t,e,o),insert(e,n,o),i=!0},p(e,i){if(o!==(o=e[1].closeButton)){if(t){group_outros();let e=t;transition_out(e.$$.fragment,1,0,()=>{destroy_component(e,1)}),check_outros()}o?(create_component((t=new o(switch_props(e))).$$.fragment),transition_in(t.$$.fragment,1),mount_component(t,n.parentNode,n)):t=null}},i(e){i||(t&&transition_in(t.$$.fragment,e),i=!0)},o(e){t&&transition_out(t.$$.fragment,e),i=!1},d(e){e&&detach(n),t&&destroy_component(t,e)}}}function create_fragment$2(e){let t,n,i,o;let r=e[2]&&create_if_block$1(e),a=e[38].default,s=function(e,t,n,i){if(e){let i=get_slot_context(e,t,n,null);return e[0](i)}}(a,e,e[37],0);return{c(){r&&r.c(),t=space(),s&&s.c()},m(a,l){r&&r.m(a,l),insert(a,t,l),s&&s.m(a,l),n=!0,i||(o=listen(window,"keydown",e[18]),i=!0)},p(e,n){e[2]?r?(r.p(e,n),4&n[0]&&transition_in(r,1)):((r=create_if_block$1(e)).c(),transition_in(r,1),r.m(t.parentNode,t)):r&&(group_outros(),transition_out(r,1,1,()=>{r=null}),check_outros()),s&&s.p&&64&n[1]&&function(e,t,n,i,o,r,a){let s=function(e,t,n,i){if(e[2]&&i){let o=e[2](i(n));if(void 0===t.dirty)return o;if("object"==typeof o){let e=[],n=Math.max(t.dirty.length,o.length);for(let i=0;i<n;i+=1)e[i]=t.dirty[i]|o[i];return e}return t.dirty|o}return t.dirty}(t,i,o,null);if(s){let o=get_slot_context(t,n,i,null);e.p(o,s)}}(s,a,e,e[37],n,0,0)},i(e){n||(transition_in(r),transition_in(s,e),n=!0)},o(e){transition_out(r),transition_out(s,e),n=!1},d(e){r&&r.d(e),e&&detach(t),s&&s.d(e),i=!1,o()}}}function bind(e,t={}){return function(n){return new e({...n,props:{...t,...n.props}})}}function instance$2(e,t,n){let i,o,r,a,s,l,c,d,u,p;let{$$slots:h={},$$scope:y}=t,g=(0,_.x)(),m=_.v,{show:f=null}=t,{key:v="simple-modal"}=t,{closeButton:C=!0}=t,{closeOnEsc:b=!0}=t,{closeOnOuterClick:D=!0}=t,{styleBg:w={top:0,left:0}}=t,{styleWindowWrap:x={}}=t,{styleWindow:k={}}=t,{styleContent:I={}}=t,{styleCloseButton:E={}}=t,{setContext:S=m}=t,{transitionBg:$=fade}=t,{transitionBgProps:A={duration:250}}=t,{transitionWindow:P=$}=t,{transitionWindowProps:L=A}=t,R={closeButton:C,closeOnEsc:b,closeOnOuterClick:D,styleBg:w,styleWindowWrap:x,styleWindow:k,styleContent:I,styleCloseButton:E,transitionBg:$,transitionBgProps:A,transitionWindow:P,transitionWindowProps:L},O=Object.assign({},R),q=null,camelCaseToDash=e=>e.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase(),toCssString=e=>Object.keys(e).reduce((t,n)=>`${t}; ${camelCaseToDash(n)}: ${e[n]}`,""),isFunction=e=>!!(e&&e.constructor&&e.call&&e.apply),toVoid=()=>{},T=toVoid,M=toVoid,B=toVoid,V=toVoid,z={},open=(e,t={},i={})=>{n(2,q=bind(e,t)),n(1,O=Object.assign(Object.assign({},R),i)),n(6,T=()=>{z.onOpen&&z.onOpen(),g("opening")}),n(7,M=()=>{z.onClose&&z.onClose(),g("closing")}),n(8,B=()=>{z.onOpened&&z.onOpened(),g("opened")}),n(9,V=()=>{z.onClosed&&z.onClosed(),g("closed")})},close=(e={})=>{n(7,M=e.onClose||M),n(9,V=e.onClosed||V),n(2,q=null)};return S(v,{open,close}),e.$$set=e=>{"show"in e&&n(20,f=e.show),"key"in e&&n(21,v=e.key),"closeButton"in e&&n(22,C=e.closeButton),"closeOnEsc"in e&&n(23,b=e.closeOnEsc),"closeOnOuterClick"in e&&n(24,D=e.closeOnOuterClick),"styleBg"in e&&n(25,w=e.styleBg),"styleWindowWrap"in e&&n(26,x=e.styleWindowWrap),"styleWindow"in e&&n(27,k=e.styleWindow),"styleContent"in e&&n(28,I=e.styleContent),"styleCloseButton"in e&&n(29,E=e.styleCloseButton),"setContext"in e&&n(30,S=e.setContext),"transitionBg"in e&&n(31,$=e.transitionBg),"transitionBgProps"in e&&n(32,A=e.transitionBgProps),"transitionWindow"in e&&n(33,P=e.transitionWindow),"transitionWindowProps"in e&&n(34,L=e.transitionWindowProps),"$$scope"in e&&n(37,y=e.$$scope)},e.$$.update=()=>{2&e.$$.dirty[0]&&n(10,i=toCssString(O.styleBg)),2&e.$$.dirty[0]&&n(11,o=toCssString(O.styleWindowWrap)),2&e.$$.dirty[0]&&n(12,r=toCssString(O.styleWindow)),2&e.$$.dirty[0]&&n(13,a=toCssString(O.styleContent)),2&e.$$.dirty[0]&&n(14,s=toCssString(O.styleCloseButton)),2&e.$$.dirty[0]&&n(15,l=O.transitionBg),2&e.$$.dirty[0]&&n(16,c=O.transitionWindow),1048576&e.$$.dirty[0]&&(isFunction(f)?open(f):close())},[close,O,q,d,u,p,T,M,B,V,i,o,r,a,s,l,c,isFunction,e=>{O.closeOnEsc&&q&&"Escape"===e.key&&(e.preventDefault(),close()),q&&e.key},e=>{O.closeOnOuterClick&&(e.target===d||e.target===u)&&(e.preventDefault(),close())},f,v,C,b,D,w,x,k,I,E,S,$,A,P,L,e=>{z=e},open,y,h,function(e){j[e?"unshift":"push"](()=>{n(5,p=e)})},function(e){j[e?"unshift":"push"](()=>{n(4,u=e)})},function(e){j[e?"unshift":"push"](()=>{n(3,d=e)})}]}let Modal=class Modal extends SvelteComponent{constructor(e){super(),init(this,e,instance$2,create_fragment$2,safe_not_equal,{show:20,key:21,closeButton:22,closeOnEsc:23,closeOnOuterClick:24,styleBg:25,styleWindowWrap:26,styleWindow:27,styleContent:28,styleCloseButton:29,setContext:30,transitionBg:31,transitionBgProps:32,transitionWindow:33,transitionWindowProps:34,setCallback:35,open:36,close:0},[-1,-1])}get setCallback(){return this.$$.ctx[35]}get open(){return this.$$.ctx[36]}get close(){return this.$$.ctx[0]}};function create_fragment$1(e){let t,n,i,o,r;let a=ee&&(r={show:e[1]},i=new Modal({props:r}),e[4](i),{c(){create_component(i.$$.fragment)},m(e,t){mount_component(i,e,t),o=!0},p(e,t){let n={};2&t&&(n.show=e[1]),i.$set(n)},i(e){o||(transition_in(i.$$.fragment,e),o=!0)},o(e){transition_out(i.$$.fragment,e),o=!1},d(t){e[4](null),destroy_component(i,t)}});return{c(){a&&a.c(),t=text("")},m(e,i){a&&a.m(e,i),insert(e,t,i),n=!0},p(e,[t]){ee&&a.p(e,t)},i(e){n||(transition_in(a),n=!0)},o(e){transition_out(a),n=!1},d(e){a&&a.d(e),e&&detach(t)}}}function instance$1(e,t,n){let i,o;return component_subscribe(e,ee,e=>n(1,i=e)),[o,i,function(e,t,n){ee.set(bind(e,t)),o.setCallback(n||{})},function(){o.close()},function(e){j[e?"unshift":"push"](()=>{n(0,o=e)})}]}let ModalContainer=class ModalContainer extends SvelteComponent{constructor(e){super(),init(this,e,instance$1,create_fragment$1,safe_not_equal,{show:2,close:3})}get show(){return this.$$.ctx[2]}get close(){return this.$$.ctx[3]}};let GlobalModalService=class GlobalModalService{constructor(){}getModal(){return this.genericModalContainer||(this.genericModalContainer=new ModalContainer({target:document.body})),this.genericModalContainer}};let en=getGlobalSingleton("modal",()=>new GlobalModalService);function get_each_context(e,t,n){let i=e.slice();return i[7]=t[n],i}function create_catch_block(e){return{c:noop,m:noop,p:noop,d:noop}}function create_then_block(e){let t,n,i,o,r;let a=e[0](e[10])+"";function click_handler(){return e[4](e[7])}return{c(){t=element("button"),n=text(a),i=space(),attr(t,"class","svelte-r1kwme")},m(e,a){insert(e,t,a),append(t,n),insert(e,i,a),o||(r=listen(t,"click",click_handler),o=!0)},p(t,i){e=t,1&i&&a!==(a=e[0](e[10])+"")&&set_data(n,a)},d(e){e&&detach(t),e&&detach(i),o=!1,r()}}}function create_pending_block(e){return{c:noop,m:noop,p:noop,d:noop}}function create_each_block(e){let t;let n={ctx:e,current:null,token:null,hasCatch:!1,pending:create_pending_block,then:create_then_block,catch:create_catch_block,value:10};return!function(e,t){let n=t.token={};function update(e,i,o,r){if(t.token!==n)return;t.resolved=r;let a=t.ctx;void 0!==o&&((a=a.slice())[o]=r);let s=e&&(t.current=e)(a),l=!1;t.block&&(t.blocks?t.blocks.forEach((e,n)=>{n!==i&&e&&(group_outros(),transition_out(e,1,1,()=>{t.blocks[n]===e&&(t.blocks[n]=null)}),check_outros())}):t.block.d(1),s.c(),transition_in(s,1),s.m(t.mount(),t.anchor),l=!0),t.block=s,t.blocks&&(t.blocks[i]=s),l&&flush()}if(e&&"object"==typeof e&&"function"==typeof e.then){let n=function(){if(!i)throw Error("Function called outside component initialization");return i}();e.then(e=>{i=n,update(t.then,1,t.value,e),i=null},e=>{if(i=n,update(t.catch,2,t.error,e),i=null,!t.hasCatch)throw e}),t.current!==t.pending&&update(t.pending,0)}else{if(t.current!==t.then)return update(t.then,1,t.value,e);t.resolved=e}}(e[7].getDisplayName(),n),{c(){t=text(""),n.block.c()},m(e,i){insert(e,t,i),n.block.m(e,n.anchor=i),n.mount=()=>t.parentNode,n.anchor=t},p(t,i){e=t;{let t=e.slice();t[10]=n.resolved,n.block.p(t,i)}},d(e){e&&detach(t),n.block.d(e),n.token=null,n=null}}}function create_fragment(e){let t,n,i,o,r,a,s,l,c,d,u,p,h,y,g;let m=e[0]("credaccessprompt.please-choose")+"",f=e[0]("credaccessprompt.your-did")+"",v=e[0]("credaccessprompt.login-msg")+"",_=$.getAvailableConnectors(),C=[];for(let t=0;t<_.length;t+=1)C[t]=create_each_block(get_each_context(e,_,t));return{c(){t=element("ion-content"),n=element("ion-grid"),i=element("img"),r=space(),a=element("h1"),s=text(m),l=space(),c=element("h2"),d=text(f),u=space(),p=element("footer"),h=element("p"),y=text(v),g=space();for(let e=0;e<C.length;e+=1)C[e].c();i.src!==(o="!theme.darkMode ? 'assets/icons/did.svg' : 'assets/icons/darkmode/did.svg'")&&attr(i,"src",o),attr(i,"alt",""),attr(a,"class","svelte-r1kwme"),attr(c,"class","svelte-r1kwme"),set_custom_element_data(n,"class","container"),set_custom_element_data(t,"class","ion-text-center"),attr(h,"class","svelte-r1kwme"),attr(p,"class","svelte-r1kwme"),toggle_class(p,"dark-mode",e[1].darkMode)},m(e,o){insert(e,t,o),append(t,n),append(n,i),append(n,r),append(n,a),append(a,s),append(n,l),append(n,c),append(c,d),insert(e,u,o),insert(e,p,o),append(p,h),append(h,y),append(p,g);for(let e=0;e<C.length;e+=1)C[e].m(p,null)},p(e,[t]){if(1&t&&m!==(m=e[0]("credaccessprompt.please-choose")+"")&&set_data(s,m),1&t&&f!==(f=e[0]("credaccessprompt.your-did")+"")&&set_data(d,f),1&t&&v!==(v=e[0]("credaccessprompt.login-msg")+"")&&set_data(y,v),5&t){let n;for(n=0,_=$.getAvailableConnectors();n<_.length;n+=1){let i=get_each_context(e,_,n);C[n]?C[n].p(i,t):(C[n]=create_each_block(i),C[n].c(),C[n].m(p,null))}for(;n<C.length;n+=1)C[n].d(1);C.length=_.length}},i:noop,o:noop,d(e){e&&detach(t),e&&detach(u),e&&detach(p),function(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}(C,e)}}}function instance(e,t,n){let i;component_subscribe(e,C._,e=>n(0,i=e));var o=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i.throw(e))}catch(e){r(e)}}function step(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(fulfilled,rejected)}step((i=i.apply(e,t||[])).next())})};let{onSelection:r=null}=t;function connectorSelected(e){return o(this,void 0,void 0,function*(){$.setActiveConnector(e.name),en.getModal().close(),setTimeout(()=>{r(e.name)},500)})}return e.$$set=e=>{"onSelection"in e&&n(3,r=e.onSelection)},[i,et,connectorSelected,r,e=>connectorSelected(e)]}let IdentityPrompt=class IdentityPrompt extends SvelteComponent{constructor(e){super(),init(this,e,instance,create_fragment,safe_not_equal,{onSelection:3})}};let ei={"local-identity-name":"Temporary Identity",welcome:"Welcome to","my-first-did":"My First Identity","temp-did":"temporary identity",copied:"Copied to clipboard!",continue:"Continue",next:"Next",deadend:{"titlebar-title":"Forbidden",oops:"Ooops!",intro:"This application cannot be started manually. It must be started with specific intents only.","debug-revoke":"Debug: revoke hive auth","debug-call":"Debug: call vault API"},identitysetup:{"titlebar-title":"Identity Setup","slide2-msg":"This application uses decentralized identities (DIDs). With decentralized identities, you own your identity, your data.","slide2-msg2":"So it seems that you either don't know what this is yet, or you have never created your own identity? We are here to help, the following steps will automatically create and publish a brand new Elastos Identity and storage space for you.","slide3-msg":"In the future, if you want to better control or use this identity in other DID-powered applications, you may export it to a third party wallet application such as Elastos Essentials.","create-did":"Create Identity","create-did-msg":"Add a new identity to your device","publish-did":"Publish Identity","publish-did-msg":"Record identity to the public repository. This step takes between 10 and 15 minutes.","config-storage":"Configure Storage","config-storage-msg":"Setup a personal storage for your Identity's data.","progress-msg":"Please don't hesitate to leave at any time. You can return and resume your identity setup when you are ready.","done-msg":"All done, you now have a decentralized identity and storage space! When you better understand the advantages of DIDs later, you can export it and reuse it in other apps","create-my-did":"Create my Identity","error-msg":"Sorry, it seems like something unexpected happened. The problem has been reported to the team but in the meantime, would you like to restart the identity creation from the beginning?",restart:"Restart","takes-long-time":"(this takes several minutes)"},credaccess:{"titlebar-title":"Profile Request","profile-request":"Profile Request",intro:"You are currently using a",message:"This application is requesting some of your profile information. As this is a temporary identity, default information is going to be returned for now. Later on, you can fully manage your identity using an app such as Elastos Essentials."},credaccessprompt:{"titlebar-title":"Login","login-msg":"Select one of the following options","temp-did":"Temporary Identity","please-choose":"Please Choose","your-did":"Your Identity","elastos-essentials":"Elastos Essentials"},exportidentity:{"titlebar-title":"Export Identity",did:"Identity","copy-did":"Copy Identity","copy-paperkey":"Copy Paper Key",paperkey:"Paper Key","show-paperkey":"Show Paper Key","hide-paperkey":"Hide Paper Key","paperkey-not-copied-msg":"Safely store the words in your paper key in the right order. After that, you can copy and paste them in the import identity flow of your favorite identity apps (ex: Elastos Essentials).","paperkey-copied-msg":"Your paper key has been copied to your clipboard. Please save them safely. You can now open your third party identity app and import your identity using these words."},manageidentity:{"titlebar-title":"Manage Identity","did-management":"Identity Management",intro:"You are currently using a",intro2:"bound only to this application. Besides, this identity has currently not been saved and cannot be recovered if you reinstall the application, nor can it be shared with other applications.",intro3:"We recommend you to export your temporary identity to an external identity app such as Elastos Essentials (it has to be installed on your device first).","export-did":"Export Identity","edit-profile":"Edit Profile"},"edit-profile":{message:"Providing your information is optional. You can skip this step and continue.","enter-name":"Enter Name","enter-email":"Enter Email"}},eo={"local-identity-name":"Identit\xe9 temporaire",welcome:"Bienvenue sur","my-first-did":"Ma Premi\xe8re Identit\xe9","temp-did":"identit\xe9 temporaire",copied:"Copi\xe9 dans le presse-papier!",continue:"Continuer",next:"Suivant",deadend:{"titlebar-title":"Interdit",oops:"Ooops!",intro:"Cette application ne peut pas \xeatre lanc\xe9e manuellement. Elle doit \xeatre lanc\xe9e uniquement via des intents sp\xe9cifiques.","debug-revoke":"Debug: revoke hive auth","debug-call":"Debug: call vault API"},identitysetup:{"titlebar-title":"Cr\xe9ation d'une identit\xe9","slide2-msg":"Cette application utilise des identit\xe9s d\xe9centralis\xe9es (DIDs). Avec une identit\xe9 d\xe9centralis\xe9e, vous contr\xf4lez votre identit\xe9 et vos donn\xe9es.","slide2-msg2":"Il semble que vous ne saviez pas de quoi il s'agit, ou que vous n'ayez pas encore cr\xe9\xe9 ce genre d'identit\xe9? Les \xe9tapes suivante vont automatiquement cr\xe9er et publier une toute nouvelle identit\xe9 pour vous, puis configurer votre espace de stockage.","slide3-msg":"Dans l'avenir, pour mieux g\xe9rer cette identit\xe9 ou l'utiliser dans d'autres applications qui supportent les DIDs, vous pourrez l'exporter vers un portefeuille d'identit\xe9 tiers tel qu'Elastos Essentials.","create-did":"Cr\xe9ation de l'identit\xe9","create-did-msg":"Ajoute la nouvelle identit\xe9 sur votre appareil","publish-did":"Publication de l'identit\xe9","publish-did-msg":"Enregistre l'identit\xe9 dans le r\xe9pertoire public. Cette \xe9tape prend entre 10 et 15 minutes.","config-storage":"Espace de stockage","config-storage-msg":"Configure un espace de stockage pour les donn\xe9es de vos applications.","progress-msg":"Cette \xe9tape \xe9tant longue, vous pouvez quitter l'application \xe0 tout moment et revenir plus tard, rien ne sera perdu.","done-msg":"C'est pr\xeat, vous avez maintenant une identit\xe9 d\xe9centralis\xe9e et un espace de stockage! Lorsque vous aurez mieux compris les avantages des DIDs plus tard, vous pourrez l'exporter et l'utiliser dans d'autres applications.","create-my-did":"Cr\xe9er mon Identit\xe9","error-msg":"Hmm, il semble qu'il y ait eu une erreur. Le probl\xe8me a \xe9t\xe9 envoy\xe9 aux d\xe9veloppeurs mais pour l'instant, souhaitez-vous relancer la cr\xe9ation d'identit\xe9 depuis le d\xe9but?",restart:"Recommencer","takes-long-time":"(ceci prend plusieurs minutes)"},credaccess:{"titlebar-title":"Acc\xe8s au Profil","profile-request":"Acc\xe8s au Profil",intro:"Vous utilisez une",message:"Cette application demande un acc\xe8s \xe0 certaines informations de votre profile. Comme vous utilisez une identit\xe9 temporaire, des informations par d\xe9faut vont \xeatre retourn\xe9es pour le moment. Plus tard, vous pourrez g\xe9rer votre identit\xe9 en d\xe9tail via une portefeuille d'identit\xe9s tel qu'Elastos Essentials."},credaccessprompt:{"titlebar-title":"Connexion","login-msg":"S\xe9lectionnez l'une des options suivantes","temp-did":"Identit\xe9 Temporaire","please-choose":"Veuillez choisir","your-did":"Votre identit\xe9","elastos-essentials":"Elastos Essentials"},exportidentity:{"titlebar-title":"Exporter l'identit\xe9",did:"Identit\xe9","copy-did":"Copier l'identit\xe9","copy-paperkey":"Copy Paper Key",paperkey:"Paper Key","show-paperkey":"Show Paper Key","hide-paperkey":"Hide Paper Key","paperkey-not-copied-msg":"Safely store the words in your paper key in the right order. After that, you can copy and paste them in the import identity flow of your favorite identity apps (ex: Elastos Essentials).","paperkey-copied-msg":"Your paper key has been copied to your clipboard. Please save them safely. You can now open your third party identity app and import your identity using these words."},manageidentity:{"titlebar-title":"Mon l'identit\xe9","did-management":"Gestion de l'identit\xe9",intro:"Vous utilisez actuellement une ",intro2:"enregistr\xe9e uniquement dans cette application. De plus, cette identit\xe9 n'a psa encore \xe9t\xe9 sauvegard\xe9e et sera perdue si vous r\xe9installez l'application, et ne pourra pas \xeatre r\xe9utilis\xe9e dans d'autres applications.",intro3:"Nous vous recommandons d'exporter cette identit\xe9 vers un portefeuille d'identit\xe9 externe tel qu'Elastos Essentials (application tierce que vous devez d'abord installer).","export-did":"Exporter l'Identit\xe9","edit-profile":"Modifier le profil"},"edit-profile":{message:"Ces informations sont optionnelles. Vous pouvez passer cette \xe9tape si besoin.","enter-name":"Saisir un nom","enter-email":"Saisir une adresse email"}},er={"local-identity-name":"Temporary Identity",welcome:"欢迎来到","my-first-did":"我的第一个身份","temp-did":"临时身份",copied:"已复制到剪贴板！",continue:"继续",next:"下一个",deadend:{"titlebar-title":"禁止",oops:"哎呀！",intro:"无法手动启动此应用程序， 它只能以特定的意图开始。","debug-revoke":"调试：撤销 Hive 身份验证","debug-call":"调试：调用 vault API"},identitysetup:{"titlebar-title":"身份设置","slide2-msg":"此应用程序使用去中心身份（DID）。 使用去中心身份，您拥有自己的身份和数据。","slide2-msg2":"因此，您似乎还不知道这是什么，或者您从未创建自己的身份？ 我们在这里为您提供帮助，以下步骤将自动为您创建和发布全新的Elastos身份和存储空间。","slide3-msg":"将来，如果您想更好地控制或在其他支持DID的应用程序中使用此身份，可以将其导出到第三方钱包应用程序，例如Elastos Essentials。","create-did":"创建身份","create-did-msg":"向您的设备添加新身份","publish-did":"发布身份","publish-did-msg":"将身份记录到公开仓库上。 此过程将花费几分钟。","config-storage":"配置存储空间","config-storage-msg":"为您的身份数据设置个人存储。","progress-msg":"请勿犹豫，可随时离开。准备好后，可以返回并恢复身份设置。","done-msg":"完成所有操作后，您现在拥有了去中心身份和存储空间！当您以后更好地了解DID的优势时，可以将其导出并在其他应用中重用","create-my-did":"创建我的身份","error-msg":"抱歉，似乎发生了意外情况。 该问题已报告给团队，但与此同时，您是否想从头开始重新创建身份？",restart:"重新开始","takes-long-time":"（这需要几分钟）"},credaccess:{"titlebar-title":"个人资料请求","profile-request":"个人资料请求",intro:"您目前正在使用",message:"该应用程序正在请求您的一些个人资料信息。 由于这是一个临时身份，因此暂时将返回默认信息。 稍后，您可以使用Elastos Essentials等应用程序来完全管理您的身份。"},credaccessprompt:{"titlebar-title":"登录","login-msg":"从下列选项中选择一个","temp-did":"临时身份","please-choose":"请选择","your-did":"您的身份","elastos-essentials":"Elastos Essentials"},exportidentity:{"titlebar-title":"导入身份",did:"身份","copy-did":"复制身份","copy-paperkey":"Copy Paper Key",paperkey:"Paper Key","show-paperkey":"Show Paper Key","hide-paperkey":"Hide Paper Key","paperkey-not-copied-msg":"Safely store the words in your paper key in the right order. After that, you can copy and paste them in the import identity flow of your favorite identity apps (ex: Elastos Essentials).","paperkey-copied-msg":"Your paper key has been copied to your clipboard. Please save them safely. You can now open your third party identity app and import your identity using these words."},manageidentity:{"titlebar-title":"管理身份","did-management":"身份管理",intro:"您目前正在使用",intro2:"仅绑定到此应用程序。 此外，该身份当前尚未保存，如果您重新安装该应用程序，则该身份无法恢复，也无法与其他应用程序共享。",intro3:"我们建议您将临时身份导出到外部身份钱包，例如Elastos Essentials（必须先将其安装在设备上）。","export-did":"导出身份","edit-profile":"编辑档案"},"edit-profile":{message:"提供您的信息是可选的。 您可以跳过此步骤并继续。","enter-name":"输入名称","enter-email":"输入邮箱"}};let GlobalLocalizationService=class GlobalLocalizationService{constructor(){this.activeLanguage=new f.X("en"),this.baseLanguages={en:ei,fr:eo,zh:er},this.currentLanguages=this.baseLanguages,this.init()}init(){C.SP.subscribe(e=>{this.activeLanguage.next(e)}),C.Fd.set(this.currentLanguages),this.setLanguage("en")}setLanguage(e){S.log("Setting connectivity SDK language to: ",e),C.SP.set(e)}getLanguage(){return this.activeLanguage.value}addLanguage(e,t){this.currentLanguages[e]=t,C.Fd.set(this.currentLanguages)}translateInstant(e){return(0,C.EQ)(e).format()}};let ea=getGlobalSingleton("localization",()=>new GlobalLocalizationService);var es=Object.freeze({__proto__:null,UXAccess:class{constructor(){}onBoard(e,t,n,i){return __awaiter(this,void 0,void 0,function*(){return new Promise((o,r)=>{ConnectivityHelper.ensureActiveConnector(()=>__awaiter(this,void 0,void 0,function*(){if(!$.getActiveConnector().onBoard){r(notImplementedError("onBoard"));return}if(!e){r(Error("Parameter feature must be given"));return}try{let r=yield $.getActiveConnector().onBoard(e,t,n,i);o(r)}catch(e){r(e)}}),()=>{o(null)})})})}}});(l=u||(u={})).Cancelled="cancelled",l.Published="published",l.Error="error";var el=Object.freeze({__proto__:null,get TransactionStatus(){return u},WalletAccess:class{pay(e){return new Promise((t,n)=>{ConnectivityHelper.ensureActiveConnector(()=>__awaiter(this,void 0,void 0,function*(){try{let n=yield $.getActiveConnector().pay(e);t(n)}catch(e){n(e)}}),()=>{t(null)})})}voteForDPoS(){throw Error("Method not implemented.")}voteForCRCouncil(){throw Error("Method not implemented.")}voteForCRProposal(){throw Error("Method not implemented.")}sendSmartContractTransaction(e){throw Error("Method not implemented.")}}});$.setGenericUIHandler(new class{constructor(){}showConnectorChooser(){return __awaiter(this,void 0,void 0,function*(){return new Promise(e=>{en.getModal().show(IdentityPrompt,{onSelection:t=>{S.log("Selected connector: "+t),e(t)}})})})}})}}]);